(this["webpackJsonppayference-fe"]=this["webpackJsonppayference-fe"]||[]).push([[19],{639:function(e,a,t){},765:function(e,a,t){"use strict";t.r(a);var s=t(9),r=t(3),o=t(14),n=t(15),l=t(17),i=t(16),c=t(18),d=t(0),u=t.n(d),m=t(12),p=t(44),g=t.n(p),h=t(25),f=t(5),w=t.n(f),v=t(47),b=t.n(v),E=t(76),y=t(19),N=t(11),S=(t(639),t(4)),F=t.n(S),P=t(6),C=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),d=0;d<n;d++)c[d]=arguments[d];return(t=Object(l.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(c)))).state={showPassword:!1,email:{value:"",isFocused:!1,error:""},password:{value:"",isFocused:!1,error:""},formError:""},t.onSubmit=function(e){e.preventDefault();var a=e.target.elements,s=a.email,o=a.password;t.setState({email:{value:s.value,isFocused:!1,error:s.value?"":"required"},password:{value:o.value,isFocused:!1,error:o.value?"":"required"}},(function(){var e=t.state,a=e.email,s=e.password;a.value&&s.value&&g.a.get("".concat(y.a.API_URL,"token"),{auth:{username:t.state.email.value,password:t.state.password.value}}).then((function(e){N.a.set(e.data.token,e.data["expires at"]),N.a.setUserName(t.state.email.value,e.data.id);var a="/client/user?id=".concat(N.a.getUserId());P.a.get(a).then((function(a){var s=Object(r.a)({},e.data,{},F()(a,"data.result[0]",{}));N.a.setUserData(s),window.localStorage.setItem("loggedin",F()(s,"id","")),10==F()(s,"client_id","")?t.props.history.push("/signup"):e.data.status?window.location.reload():t.props.history.push("/reset-password")}))})).catch((function(e){t.setState({formError:"Invalid Credentials please try again."})}))}))},t.onChange=function(e){var a=e.target,r=a.name,o=a.value;t.setState(Object(s.a)({},r,{value:o,isFocused:!0,error:o?"":"required"}))},t.onBlurr=function(e){var a=e.target,r=a.name,o=a.value;t.setState(Object(s.a)({},r,{value:o,isFocused:!1,error:t.state[r].error}))},t.togglePassword=function(){t.setState({showPassword:!t.state.showPassword})},t}return Object(c.a)(a,e),Object(n.a)(a,[{key:"componentDidMount",value:function(){if(N.a.get()){var e=F()(this.props,"location.state.from","")||sessionStorage.getItem("loggedOutInSameSession")||"/dashboard",a=JSON.parse(N.a.getUserData());return 10!=F()(a,"client_id","")&&"/signup"===e?e="/dashboard":window.sessionStorage.getItem("loggedoutUser")!=F()(a,"id","")&&(window.sessionStorage.clear(),e="/dashboard"),void this.props.history.push("/login"===e?"/dashboard":e)}localStorage.clear(),document.title="Login - Payference"}},{key:"render",value:function(){var e=this.state,a=e.showPassword,t=e.email,s=e.password,r=e.formError;return u.a.createElement("div",{className:"loginpage-container"},u.a.createElement("div",{className:"logo"},u.a.createElement("img",{alt:"loading",src:b.a,height:"60",width:"60"}),u.a.createElement("span",{style:{color:"white"}}," Payference ")),u.a.createElement("div",{className:"form-widget"},u.a.createElement("h2",{className:"title t-global"},"Sign In"),u.a.createElement(E.a,{condition:r},u.a.createElement("span",{className:"form-error"},r)),u.a.createElement("form",{onSubmit:this.onSubmit},u.a.createElement("div",{className:w()("clearfix field-wrapper",{"label-active":t.isFocused})},u.a.createElement("label",{className:w()("float-left",{focused:t.isFocused})},u.a.createElement("span",{className:w()("label",{focused:t.isFocused})},"Username"),u.a.createElement("input",{type:"text",name:"email",id:"email",placeholder:t.isFocused?"":"Username",onFocus:this.onChange,onChange:this.onChange,onBlur:this.onBlurr,autoComplete:"off"})),u.a.createElement("div",{className:"float-right"},u.a.createElement("span",{className:"helptxt"},t.error))),u.a.createElement("div",{className:w()("clearfix field-wrapper",{"label-active":s.isFocused})},u.a.createElement("label",{className:w()("float-left",{focused:s.isFocused})},u.a.createElement("span",{className:w()("label",{focused:s.isFocused})},"Password"),u.a.createElement("input",{id:"password",type:a?"text":"password",placeholder:s.isFocused?"":"Password",onFocus:this.onChange,onChange:this.onChange,onBlur:this.onBlurr,name:"password",autoComplete:"off"})),u.a.createElement("div",{className:"float-right"},u.a.createElement("span",{className:"helptxt"},s.error),u.a.createElement("span",{style:{position:"absolute",right:0},className:"show-hide-toggle",role:"presentation",onClick:this.togglePassword},a?u.a.createElement("i",{className:"fa fa-eye",style:{cursor:"pointer",fontSize:"15px"},title:"Show Password"}):u.a.createElement("i",{className:"fa fa-eye-slash",style:{cursor:"pointer",fontSize:"15px"},title:"Show Password"})))),u.a.createElement("div",{className:"link-wrapper clearfix"},u.a.createElement(h.b,{to:"/forgot-password",className:"forgot-password float-right t-global"},"Forgot your password?")),u.a.createElement("button",{className:"button bg-primary-gradient",type:"submit"},"Login"))))}}]),a}(d.Component);a.default=Object(m.b)((function(e){return{login:e}}),{})(C)}}]);
//# sourceMappingURL=19.89be6ba7.chunk.js.map