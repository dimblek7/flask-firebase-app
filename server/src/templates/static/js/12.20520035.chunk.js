(this["webpackJsonppayference-fe"]=this["webpackJsonppayference-fe"]||[]).push([[12],{501:function(e,t,a){"use strict";var n=a(155),r=a(0),c=a.n(r);t.a=function(e){var t=e.payload.value,a=(e.verticalAnchor,e.visibleTicksCount,Object(n.a)(e,["payload","verticalAnchor","visibleTicksCount"]));return c.a.createElement("text",Object.assign({},a,{style:{fontSize:"0.8rem"},className:"bar-chart-tick",dy:12}),t)}},502:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(58);t.a=function(e){var t=e.active,a=e.payload,n=e.label,o=e.noCurrencyKeys,s=void 0===o?[]:o;return t&&a?r.a.createElement("div",{className:"custom-tooltip bg-white border p-3"},r.a.createElement("p",null,r.a.createElement("strong",null,n)),a.map((function(e,t){var a=s.find((function(t){return t===e.dataKey}));return r.a.createElement("span",{key:t,className:"d-block mb-1"},r.a.createElement("span",{style:{color:e.color}},e.name,": "),r.a.createElement("span",null,"number"===typeof e.value?Object(c.f)(e.value,!a):e.value))}))):null}},509:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s}));a(3);var n=a(21),r=a.n(n),c=(a(145),function(e,t,a){var n=r()(e).startOf("month").format("MMM"),c=[];switch(a){case"30days":c=["Week 1","Week 2","Week 3","Week 4"];break;case"6months":for(var o=1;o<=3;o++)n=r()(e).add(o,"month").startOf("month").format("MMM"),c.push(n);break;case"1year":for(o=1;o<=12;o++)n=r()(e).add(o,"month").startOf("month").format("MMM"),c.push(n)}return c}),o=function(e,t,a,n){var c=[],o=[];switch(a){case"30days":o=["Week 1","Week 2","Week 3","Week 4"],n?o.forEach((function(t,a){var n=r()(e).subtract(a+1,"weeks").startOf("week").format("MM/DD/YYYY"),o=r()(e).subtract(a+1,"weeks").endOf("week").format("MM/DD/YYYY"),s=r()(e).subtract(a+1,"weeks").endOf("week").format("MM/DD");c.push({text:"Week (".concat(s,")"),start:n,end:o})})):o.forEach((function(t,a){var n=r()(e).add(a+1,"weeks").startOf("week").format("MM/DD/YYYY"),o=r()(e).add(a+1,"weeks").endOf("week").format("MM/DD/YYYY"),s=r()(e).add(a+1,"weeks").endOf("week").format("MM/DD");c.push({text:"Week (".concat(s,")"),start:n,end:o})}));break;case"6months":for(var s=1;s<=3;s++){var i=r()(e).add(s,"months").startOf("month").format("MMM"),l=r()(e).add(s,"months").startOf("month").format("MM/DD/YYYY"),u=r()(e).add(s,"months").endOf("month").format("MM/DD/YYYY");c.push({text:i,start:l,end:u})}break;case"1year":for(s=1;s<=12;s++){var m=r()(e).add(s,"months").startOf("month").format("MMM"),d=r()(e).add(s,"months").startOf("month").format("MM/DD/YYYY"),f=r()(e).add(s,"months").endOf("month").format("MM/DD/YYYY");c.push({text:m,start:d,end:f})}}return c},s=function(e,t,a){var n=[];switch(a){case"30days":n.push({startDate:r()(e).toDate().getTime(),endDate:r()(e).endOf("week").toDate().getTime()});for(var c=1;c<=2;c++)n.push({startDate:r()(e).add(c,"week").startOf("week").toDate().getTime(),endDate:r()(e).add(c,"week").endOf("week").toDate().getTime()});n.push({startDate:r()(t).startOf("week").toDate().getTime(),endDate:r()(t).toDate().getTime()});break;case"6months":n.push({startDate:r()(e).startOf("month").toDate().getTime(),endDate:r()(e).add(c,"month").endOf("week").toDate().getTime()});for(c=1;c<=1;c++)n.push({startDate:r()(e).add(c,"month").startOf("month").toDate().getTime(),endDate:r()(e).add(c,"month").endOf("month").toDate().getTime()});n.push({startDate:r()(t).startOf("month").toDate().getTime(),endDate:r()(t).endOf("month").toDate().getTime()});break;case"1year":n.push({startDate:r()(e).startOf("month").toDate().getTime(),endDate:r()(e).add(c,"month").endOf("week").toDate().getTime()});for(c=1;c<=10;c++)n.push({startDate:r()(e).add(c,"month").startOf("month").toDate().getTime(),endDate:r()(e).add(c,"month").endOf("month").toDate().getTime()});n.push({startDate:r()(t).startOf("month").toDate().getTime(),endDate:r()(t).endOf("month").toDate().getTime()})}return n}},530:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext(null);t.a=r},534:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext(null);t.a=r},538:function(e,t,a){"use strict";var n=a(2),r=a(23),c=a(5),o=a.n(c),s=a(0),i=a.n(s),l=a(40),u=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,s=e.children,u=e.as,m=void 0===u?"div":u,d=Object(r.a)(e,["bsPrefix","className","children","as"]);return a=Object(l.b)(a,"nav-item"),i.a.createElement(m,Object(n.a)({},d,{ref:t,className:o()(c,a)}),s)}));u.displayName="NavItem",t.a=u},539:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,a,n,r,c){var o=n||"<<anonymous>>",s=c||a;if(null==t[a])return new Error("The "+r+" `"+s+"` is required to make `"+o+"` accessible for users of assistive technologies such as screen readers.");for(var i=arguments.length,l=Array(i>5?i-5:0),u=5;u<i;u++)l[u-5]=arguments[u];return e.apply(void 0,[t,a,n,r,c].concat(l))}},e.exports=t.default},540:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(97),o=a(530),s=a(96);t.a=function(e){var t=Object(c.b)(e,{activeKey:"onSelect"}),a=t.id,i=t.generateChildId,l=t.onSelect,u=t.activeKey,m=t.transition,d=t.mountOnEnter,f=t.unmountOnExit,v=t.children,b=Object(n.useMemo)((function(){return i||function(e,t){return a?a+"-"+t+"-"+e:null}}),[a,i]),h=Object(n.useMemo)((function(){return{onSelect:l,activeKey:u,transition:m,mountOnEnter:d,unmountOnExit:f,getControlledId:function(e){return b(e,"tabpane")},getControllerId:function(e){return b(e,"tab")}}}),[l,u,m,d,f,b]);return r.a.createElement(o.a.Provider,{value:h},r.a.createElement(s.a.Provider,{value:l},v))}},541:function(e,t,a){"use strict";var n=a(2),r=a(23),c=a(31),o=a(5),s=a.n(o),i=a(0),l=a.n(i),u=a(40),m=function(e){function t(){return e.apply(this,arguments)||this}return Object(c.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.bsPrefix,a=e.as,c=void 0===a?"div":a,o=e.className,i=Object(r.a)(e,["bsPrefix","as","className"]);return l.a.createElement(c,Object(n.a)({},i,{className:s()(o,t)}))},t}(l.a.Component);t.a=Object(u.a)(m,"tab-content")},542:function(e,t,a){"use strict";var n=a(2),r=a(23),c=a(5),o=a.n(c),s=a(0),i=a.n(s),l=a(40),u=a(530),m=a(96),d=a(120);var f=i.a.forwardRef((function(e,t){var a=function(e){var t=Object(s.useContext)(u.a);if(!t)return e;var a=t.activeKey,c=t.getControlledId,o=t.getControllerId,i=Object(r.a)(t,["activeKey","getControlledId","getControllerId"]),l=!1!==e.transition&&!1!==i.transition,f=Object(m.b)(e.eventKey);return Object(n.a)({},e,{active:null==e.active&&null!=f?Object(m.b)(a)===f:e.active,id:c(e.eventKey),"aria-labelledby":o(e.eventKey),transition:l&&(e.transition||i.transition||d.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:i.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:i.unmountOnExit})}(e),c=a.bsPrefix,f=a.className,v=a.active,b=a.onEnter,h=a.onEntering,y=a.onEntered,p=a.onExit,E=a.onExiting,O=a.onExited,j=a.mountOnEnter,g=a.unmountOnExit,k=a.transition,Y=a.as,D=void 0===Y?"div":Y,N=(a.eventKey,Object(r.a)(a,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),M=Object(l.b)(c,"tab-pane");if(!v&&g)return null;var w=i.a.createElement(D,Object(n.a)({},N,{ref:t,role:"tabpanel","aria-hidden":!v,className:o()(f,M,{active:v})}));return k&&(w=i.a.createElement(k,{in:v,onEnter:b,onEntering:h,onEntered:y,onExit:p,onExiting:E,onExited:O,mountOnEnter:j,unmountOnExit:g},w)),i.a.createElement(u.a.Provider,{value:null},i.a.createElement(m.a.Provider,{value:null},w))}));f.displayName="TabPane",t.a=f},543:function(e,t,a){"use strict";var n=a(2),r=a(23),c=a(5),o=a.n(c),s=a(0),i=a.n(s),l=a(85),u=a(156),m=a(534),d=a(96),f=i.a.forwardRef((function(e,t){var a=e.active,c=e.className,l=e.tabIndex,f=e.eventKey,v=e.onSelect,b=e.onClick,h=e.as,y=Object(r.a)(e,["active","className","tabIndex","eventKey","onSelect","onClick","as"]),p=Object(d.b)(f,y.href),E=Object(s.useContext)(d.a),O=Object(s.useContext)(m.a),j=a;O&&(y.role||"tablist"!==O.role||(y.role="tab"),y["data-rb-event-key"]=p,y.id=O.getControllerId(p),y["aria-controls"]=O.getControlledId(p),j=null==a&&null!=p?O.activeKey===p:a),"tab"===y.role&&(y.tabIndex=j?l:-1,y["aria-selected"]=j);var g=Object(u.a)((function(e){b&&b(e),null!=p&&(v&&v(p,e),E&&E(p,e))}));return i.a.createElement(h,Object(n.a)({},y,{ref:t,onClick:g,className:o()(c,j&&"active")}))}));f.defaultProps={disabled:!1};var v=f,b=a(40),h={disabled:!1,as:l.a},y=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.disabled,s=e.className,l=e.href,u=e.eventKey,m=e.onSelect,d=e.as,f=Object(r.a)(e,["bsPrefix","disabled","className","href","eventKey","onSelect","as"]);return a=Object(b.b)(a,"nav-link"),i.a.createElement(v,Object(n.a)({},f,{href:l,ref:t,eventKey:u,as:d,disabled:c,onSelect:m,className:o()(s,a,c&&"disabled")}))}));y.displayName="NavLink",y.defaultProps=h;t.a=y},550:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=r.a.createContext(null)},567:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];function n(){for(var e=arguments.length,a=Array(e),n=0;n<e;n++)a[n]=arguments[n];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,a);null!=t&&(r=t)}})),r}return(0,c.default)(n)};var n,r=a(157),c=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},579:function(e,t,a){"use strict";var n=a(2),r=a(23),c=a(5),o=a.n(c),s=(a(567),a(0)),i=a.n(s),l=a(97),u=a(40),m=a(550),d=a(166),f=a(65),v=a.n(f);var b=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var h=function(e,t){return Object(s.useMemo)((function(){return function(e,t){var a=b(e),n=b(t);return function(e){a&&a(e),n&&n(e)}}(e,t)}),[e,t])},y=a(534),p=a(96),E=a(530),O=function(){},j=i.a.forwardRef((function(e,t){var a,c,o=e.as,l=void 0===o?"ul":o,u=e.onSelect,m=e.activeKey,d=e.role,f=e.onKeyDown,b=Object(r.a)(e,["as","onSelect","activeKey","role","onKeyDown"]),j=Object(s.useReducer)((function(e){return!e}),!1)[1],g=Object(s.useRef)(!1),k=Object(s.useContext)(p.a),Y=Object(s.useContext)(E.a);Y&&(d=d||"tablist",m=Y.activeKey,a=Y.getControlledId,c=Y.getControllerId);var D=Object(s.useRef)(null),N=function(e){if(!D.current)return null;var t=v()(D.current,"[data-rb-event-key]:not(.disabled)"),a=D.current.querySelector(".active"),n=t.indexOf(a);if(-1===n)return null;var r=n+e;return r>=t.length&&(r=0),r<0&&(r=t.length-1),t[r]},M=function(e,t){null!=e&&(u&&u(e,t),k&&k(e,t))};Object(s.useEffect)((function(){if(D.current&&g.current){var e=D.current.querySelector("[data-rb-event-key].active");e&&e.focus()}g.current=!1}));var w=h(t,D);return i.a.createElement(p.a.Provider,{value:M},i.a.createElement(y.a.Provider,{value:{role:d,activeKey:Object(p.b)(m),getControlledId:a||O,getControllerId:c||O}},i.a.createElement(l,Object(n.a)({},b,{onKeyDown:function(e){var t;switch(f&&f(e),e.key){case"ArrowLeft":case"ArrowUp":t=N(-1);break;case"ArrowRight":case"ArrowDown":t=N(1);break;default:return}t&&(e.preventDefault(),M(t.dataset.rbEventKey,e),g.current=!0,j())},ref:w,role:d}))))})),g=a(538),k=a(543),Y=i.a.forwardRef((function(e,t){var a,c,f,v=Object(l.b)(e,{activeKey:"onSelect"}),b=v.as,h=void 0===b?"div":b,y=v.bsPrefix,p=v.variant,E=v.fill,O=v.justify,g=v.navbar,k=v.className,Y=v.children,D=v.activeKey,N=Object(r.a)(v,["as","bsPrefix","variant","fill","justify","navbar","className","children","activeKey"]);y=Object(u.b)(y,"nav");var M=Object(s.useContext)(m.a),w=Object(s.useContext)(d.a);return M?(c=M.bsPrefix,g=null==g||g):w&&(f=w.cardHeaderBsPrefix),i.a.createElement(j,Object(n.a)({as:h,ref:t,activeKey:D,className:o()(k,(a={},a[y]=!g,a[c+"-nav"]=g,a[f+"-"+p]=!!f,a[y+"-"+p]=!!p,a[y+"-fill"]=E,a[y+"-justified"]=O,a))},N),Y)}));Y.displayName="Nav",Y.defaultProps={justify:!1,fill:!1},Y.Item=g.a,Y.Link=k.a;t.a=Y},744:function(e,t,a){"use strict";var n=a(2),r=a(23),c=a(0),o=a.n(c),s=(a(539),a(97)),i=a(579),l=a(543),u=a(538),m=a(540),d=a(541),f=a(542),v=a(130);function b(e){var t=e.props,a=t.title,n=t.eventKey,r=t.disabled,c=t.tabClassName;return null==a?null:o.a.createElement(u.a,{as:l.a,eventKey:n,disabled:r,className:c},a)}var h=o.a.forwardRef((function(e,t){var a=Object(s.b)(e,{activeKey:"onSelect"}),c=a.id,l=a.onSelect,u=a.transition,h=a.mountOnEnter,y=a.unmountOnExit,p=a.children,E=a.activeKey,O=void 0===E?function(e){var t;return Object(v.a)(e,(function(e){null==t&&(t=e.props.eventKey)})),t}(p):E,j=Object(r.a)(a,["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"]);return o.a.createElement(m.a,{ref:t,id:c,activeKey:O,onSelect:l,transition:u,mountOnEnter:h,unmountOnExit:y},o.a.createElement(i.a,Object(n.a)({},j,{role:"tablist",as:"nav"}),Object(v.b)(p,b)),o.a.createElement(d.a,null,Object(v.b)(p,(function(e){var t=Object(n.a)({},e.props);return delete t.title,delete t.disabled,delete t.tabClassName,o.a.createElement(f.a,t)}))))}));h.defaultProps={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},h.displayName="Tabs",t.a=h},745:function(e,t,a){"use strict";var n=a(31),r=a(0),c=a.n(r),o=a(540),s=a(541),i=a(542),l=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(c.a.Component);l.Container=o.a,l.Content=s.a,l.Pane=i.a,t.a=l},772:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(15),c=a(17),o=a(16),s=a(18),i=a(0),l=a.n(i),u=a(744),m=a(745),d=a(3),f=a(7),v=a(502),b=a(501),h=a(10),y=a(4),p=a.n(y),E=a(21),O=a.n(E),j=a(500),g=a(58),k=a(6),Y=a(509),D={"1year":20,"6months":110,"30days":60},N={"1year":20,"6months":60,"30days":40},M=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isLoading;return l.a.createElement("div",{style:{width:"100%",height:300}},l.a.createElement(j.n,{height:300,width:"100%"},l.a.createElement(j.f,{height:300,data:t,margin:{right:0}},l.a.createElement(j.q,{tick:l.a.createElement(b.a,null),dataKey:"text"}),l.a.createElement(j.r,{yAxisId:"left",tickFormatter:function(e){return Object(g.f)(e)}}),l.a.createElement(j.r,{yAxisId:"right",dataKey:"arinvalid",orientation:"right",tickFormatter:function(e){return Object(g.f)(e,!1)}}),l.a.createElement(j.p,{cursor:!1,content:l.a.createElement(v.a,{noCurrencyKeys:["arinvalid"]})}),l.a.createElement(j.i,null),l.a.createElement(j.c,{yAxisId:"left",dataKey:"value",name:"Early Collections",fill:"#7CB5EC"}),l.a.createElement(j.j,{yAxisId:"right",type:"monotone",dataKey:"arinvalid",name:"Invalid Invoices",stroke:"#75CF5B"}))),a?l.a.createElement("div",{className:"graph-loader"},l.a.createElement("div",{className:"spinner-border"})):null)}}]),t}(l.a.PureComponent);var w=function(e){var t=e.setactiveKey,a=Object(i.useState)({}),n=Object(f.a)(a,2),r=(n[0],n[1]),c=Object(i.useState)([]),o=Object(f.a)(c,2),s=o[0],u=o[1],m=Object(i.useState)("30days"),v=Object(f.a)(m,2),b=v[0],y=v[1],E=Object(i.useState)(O()().subtract("days",30).format("MM/DD/YYYY")),j=Object(f.a)(E,2),g=j[0],w=j[1],K=Object(i.useState)(O()().format("MM/DD/YYYY")),x=Object(f.a)(K,2),C=x[0],_=(x[1],Object(i.useState)(!0)),S=Object(f.a)(_,2),I=S[0],P=S[1];function T(e){switch(e){case"30days":w(O()().subtract(30,"days").format("MM/DD/YYYY"));break;case"6months":w(O()().subtract(3,"months").format("MM/DD/YYYY"));break;case"1year":w(O()().subtract(1,"years").format("MM/DD/YYYY"))}y(e)}return Object(i.useEffect)((function(){var t=function(e){for(var t=Object(Y.c)(g,C,b),a=[],n=0;n<t.length;n++){for(var r=0,c=0;c<e.length;c++)t[n].startDate<=e[c][0]&&e[c][0]<=t[n].endDate&&(r+=e[c][1]);a.push(r)}return a},a=Object(Y.a)(g,C,b);!function(n,c){O()(n,"MM/DD/YYYY").toDate().getFullYear(),O()(c,"MM/DD/YYYY").toDate().getFullYear();var o=Object(Y.b)(n,c,b);P(!0),k.c.get("earlyreceipt?from_date=".concat(n,"&to_date=").concat(c)).then((function(n){var c=n.data.result.map((function(e){return[O()(e.date_closed,"YYYY-MM-DD").toDate().getTime(),Math.round(e.total_amount_due)]})),s=t(c),i=Math.min.apply(null,s),l=Math.max.apply(null,s);r({type:"bar",noData:{text:"Currently there is no data in the chart",backgroundColor:"#20b2db",fontSize:18,textAlpha:.9,alpha:.6,bold:!0},gui:{contextMenu:{empty:!0}},plot:{"tooltip-text":"$%v",short:!0,"short-unit":"K","thousands-separator":",",decimals:0},plotarea:{"adjust-layout":!0},options:{responsive:!0,maintainAspectRatio:!1},"scale-x":{values:a,placement:"default",itemsOverlap:!0},"scale-y":{"min-value":i,"max-value":l+.2*l,short:!0,"short-unit":"K",format:"$%v",negation:"currency","thousands-separator":",",maxTicks:7,maxLabels:7},series:[{values:s,text:"Early Payment","background-color":"#1a75ff"}],legend:{layout:"x3",overflow:"page",alpha:.05,shadow:!1,align:"center","adjust-layout":!0,marker:{type:"square","border-color":"none",size:"10px"},"border-width":0,maxItems:3,"toggle-action":"hide",pageOn:{backgroundColor:"#000",size:"210px",alpha:.65},pageOff:{backgroundColor:"#7E7E7E",size:"20px",alpha:.65},pageStatus:{color:"black"}},crosshairX:{alpha:.3,lineWidth:5,marker:{backgroundColor:"white",borderColor:"#3F51B5",borderWidth:1,size:5},scaleLabel:{backgroundColor:"#303F9F",borderRadius:3}}});var m=o.map((function(e,t){return Object(d.a)({},e,{value:s[t],arinvalid:20*Math.random(20)})})),f=[];o.forEach((function(e,t){f.push(k.c.get("arinvalid/total?from_date='".concat(e.start,"'&to_date='").concat(e.end,"'")))})),Promise.all(f).then((function(t){m=m.map((function(e,a){return Object(d.a)({},e,{arinvalid:p()(t[a],"data.count",0)})})),D[b],N[b],u(m),e.setInvoiceGraphLoading(!1),P(!1)})).catch((function(e){return Object(h.a)(e)}))})).catch((function(e){return Object(h.a)(e)}))}(g,C)}),[g,C]),l.a.createElement("div",{className:"col-md-12",style:{overflowY:"auto"}},l.a.createElement("div",{className:""},t&&l.a.createElement("h1",{className:"custchattabhead"},"Invoice insights"),l.a.createElement("div",{className:"table100  pt-0"},l.a.createElement("div",{className:"row"}),l.a.createElement("div",{class:"custchattab1"},l.a.createElement("span",{onClick:function(){return T("1year")},className:"cursour-pointer ".concat("1year"===b&&"activec")},"Year"),l.a.createElement("span",{onClick:function(){return T("6months")},className:"cursour-pointer ".concat("6months"===b&&"activec")},"Quarter"),l.a.createElement("span",{onClick:function(){return T("30days")},className:"cursour-pointer ".concat("30days"===b&&"activec")},"Month")),l.a.createElement("div",{className:e.setactiveKey&&"cursour-pointer",onClick:function(){var t=e.setactiveKey;t&&t("invoice_insights")}},l.a.createElement(M,{data:s,selectedTab:b,isLoading:I})))))},K=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isLoading;return l.a.createElement("div",{style:{width:"100%",height:300}},l.a.createElement(j.n,{height:300,width:"100%"},l.a.createElement(j.f,{height:300,data:t,margin:{right:0}},l.a.createElement(j.q,{tick:l.a.createElement(b.a,null),dataKey:"text"}),l.a.createElement(j.r,{yAxisId:"left",dataKey:"value",padding:{top:10},tickFormatter:function(e){return Object(g.f)(e,!1)}}),l.a.createElement(j.p,{cursor:!1,content:l.a.createElement(v.a,{noCurrencyKeys:["value"]})}),l.a.createElement(j.i,null),l.a.createElement(j.j,{yAxisId:"left",type:"monotone",dataKey:"value",name:"DSO",stroke:"#75CF5B"}))),a?l.a.createElement("div",{className:"graph-loader"},l.a.createElement("div",{className:"spinner-border"})):null)}}]),t}(l.a.PureComponent);var x=function(e){var t=e.setactiveKey,a=Object(i.useState)([]),n=Object(f.a)(a,2),r=n[0],c=n[1],o=Object(i.useState)("30days"),s=Object(f.a)(o,2),u=s[0],m=s[1],v=Object(i.useState)(O()().subtract("days",30).format("MM/DD/YYYY")),b=Object(f.a)(v,2),h=b[0],y=b[1],E=Object(i.useState)(O()().format("MM/DD/YYYY")),j=Object(f.a)(E,2),g=j[0],D=(j[1],Object(i.useState)("weekly")),N=Object(f.a)(D,2),M=N[0],w=N[1],x=Object(i.useState)(!0),C=Object(f.a)(x,2),_=C[0],S=C[1];function I(e){switch(e){case"30days":w("weekly"),y(O()().subtract(30,"days").format("MM/DD/YYYY"));break;case"6months":w("monthly"),y(O()().subtract(3,"months").format("MM/DD/YYYY"));break;case"1year":w("monthly"),y(O()().subtract(1,"years").format("MM/DD/YYYY"))}m(e)}return Object(i.useEffect)((function(){var e=Object(Y.b)(h,g,u);S(!0),Promise.all(e.map((function(e){return k.a.get("client/summary?from_date=".concat(e.start,"&to_date=").concat(e.end,"&frequency=").concat(M))}))).then((function(t){S(!1),c(e.map((function(e,a){return Object(d.a)({},e,{value:p()(t,"[".concat(a,"]data.result[0].dso_weekly"),null)})})))}))}),[h,g]),l.a.createElement("div",{className:"col-md-12",style:{overflowY:"auto"}},l.a.createElement("div",{className:""},t&&l.a.createElement("h1",{className:"custchattabhead"},"DSO"),l.a.createElement("div",{className:"table100  pt-0"},l.a.createElement("div",{className:"row"}),l.a.createElement("div",{class:"custchattab1"},l.a.createElement("span",{onClick:function(){return I("1year")},className:"cursour-pointer ".concat("1year"===u&&"activec")},"Year"),l.a.createElement("span",{onClick:function(){return I("6months")},className:"cursour-pointer ".concat("6months"===u&&"activec")},"Quarter"),l.a.createElement("span",{onClick:function(){return I("30days")},className:"cursour-pointer ".concat("30days"===u&&"activec")},"Month")),l.a.createElement("div",{className:e.setactiveKey&&"cursour-pointer",onClick:function(){var t=e.setactiveKey;t&&t("dso")}},l.a.createElement(K,{data:r.filter((function(e){return e.value})),selectedTab:u,isLoading:_})))))},C=(a(11),{"1year":20,"6months":110,"30days":75}),_={"1year":20,"6months":60,"30days":40},S=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isLoading;return l.a.createElement("div",null,l.a.createElement(j.n,{height:300,width:"100%"},l.a.createElement(j.f,{height:300,data:t,margin:{right:0,left:30}},l.a.createElement(j.q,{tick:l.a.createElement(b.a,null),dataKey:"text"}),l.a.createElement(j.r,{yAxisId:"left",tickFormatter:function(e){return Object(g.f)(e)}}),l.a.createElement(j.r,{yAxisId:"right",dataKey:"apinvalid",orientation:"right",tickFormatter:function(e){return Object(g.f)(e,!1)}}),l.a.createElement(j.p,{cursor:!1,content:l.a.createElement(v.a,{noCurrencyKeys:["apinvalid"]})}),l.a.createElement(j.i,null),l.a.createElement(j.c,{yAxisId:"left",dataKey:"value",name:"Early Payment",fill:"#7CB5EC"}),l.a.createElement(j.j,{yAxisId:"right",type:"monotone",dataKey:"apinvalid",name:"Invalid Invoices",stroke:"#75CF5B"}))),a?l.a.createElement("div",{className:"graph-loader"},l.a.createElement("div",{className:"spinner-border"})):null)}}]),t}(l.a.PureComponent);var I=function(e){var t=Object(i.useState)([]),a=Object(f.a)(t,2),n=a[0],r=a[1],c=Object(i.useState)("30days"),o=Object(f.a)(c,2),s=o[0],u=o[1],m=Object(i.useState)(O()().subtract(30,"days").format("MM/DD/YYYY")),v=Object(f.a)(m,2),b=v[0],y=v[1],E=Object(i.useState)(O()().format("MM/DD/YYYY")),j=Object(f.a)(E,2),g=j[0],D=(j[1],Object(i.useState)(!0)),N=Object(f.a)(D,2),M=N[0],w=N[1];function K(e){switch(e){case"30days":y(O()().subtract(30,"days").format("MM/DD/YYYY"));break;case"6months":y(O()().subtract(3,"months").format("MM/DD/YYYY"));break;case"1year":y(O()().subtract(1,"years").format("MM/DD/YYYY"))}u(e)}return Object(i.useEffect)((function(){var e=function(e){for(var t=Object(Y.c)(b,g,s),a=[],n=0;n<t.length;n++){for(var r=0,c=0;c<e.length;c++)t[n].startDate<=e[c][0]&&e[c][0]<=t[n].endDate&&(r+=e[c][1]);a.push(r)}return a},t=Object(Y.b)(b,g,s);!function(a,n){w(!0),k.c.get("earlypayment?from_date=".concat(a,"&to_date=").concat(n)).then((function(a){var n=a.data.result.map((function(e){return[O()(e.date_closed,"YYYY-MM-DD").toDate().getTime(),Math.round(e.total_amount_due)]})),c=e(n),o=t.map((function(e,t){return Object(d.a)({},e,{value:c[t],apinvalid:20*Math.random(20)})})),i=[];t.forEach((function(e,t){i.push(k.c.get("apinvalid/total?from_date='".concat(e.start,"'&to_date='").concat(e.end,"'")))})),Promise.all(i).then((function(e){o=o.map((function(t,a){return Object(d.a)({},t,{apinvalid:p()(e[a],"data.count",0)})})),C[s],_[s],r(o),w(!1)})).catch((function(e){return Object(h.a)(e)}))})).catch((function(e){return Object(h.a)(e)}))}(b,g)}),[b,g,s]),l.a.createElement("div",{class:"col-md-12"},l.a.createElement("div",{class:"graphbg",className:e.setactiveKey&&"cursour-pointer"},e.setactiveKey&&l.a.createElement("div",{class:"custchattabhead"},"Invoice Insights"),l.a.createElement("div",{class:"custchattab1"},l.a.createElement("span",{onClick:function(){return K("1year")},className:"cursour-pointer ".concat("1year"===s&&"activec")},"Year"),l.a.createElement("span",{onClick:function(){return K("6months")},className:"cursour-pointer ".concat("6months"===s&&"activec")},"Quarter"),l.a.createElement("span",{onClick:function(){return K("30days")},className:"cursour-pointer ".concat("30days"===s&&"activec")},"Month")),l.a.createElement("div",{id:"container1","data-highcharts-chart":0,onClick:function(){var t=e.setactiveKey;t&&t("invoice_insights")}},l.a.createElement(S,{data:n,isLoading:M}))))},P=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isLoading;return l.a.createElement("div",{style:{width:"100%",height:300}},l.a.createElement(j.n,{height:300,width:"100%"},l.a.createElement(j.f,{height:300,data:t,margin:{right:0}},l.a.createElement(j.q,{tick:l.a.createElement(b.a,null),dataKey:"text"}),l.a.createElement(j.r,{yAxisId:"left",dataKey:"value",padding:{top:10},tickFormatter:function(e){return Object(g.f)(e,!1)}}),l.a.createElement(j.p,{cursor:!1,content:l.a.createElement(v.a,{noCurrencyKeys:["value"]})}),l.a.createElement(j.i,null),l.a.createElement(j.j,{yAxisId:"left",type:"monotone",dataKey:"value",name:"DPO",stroke:"#75CF5B"}))),a?l.a.createElement("div",{className:"graph-loader"},l.a.createElement("div",{className:"spinner-border"})):null)}}]),t}(l.a.PureComponent);var T=function(e){var t=Object(i.useState)([]),a=Object(f.a)(t,2),n=a[0],r=a[1],c=Object(i.useState)("30days"),o=Object(f.a)(c,2),s=o[0],u=o[1],m=Object(i.useState)(O()().subtract(30,"days").format("MM/DD/YYYY")),v=Object(f.a)(m,2),b=v[0],y=v[1],E=Object(i.useState)(O()().format("MM/DD/YYYY")),j=Object(f.a)(E,2),g=j[0],D=(j[1],Object(i.useState)("weekly")),N=Object(f.a)(D,2),M=N[0],w=N[1],K=Object(i.useState)(!0),x=Object(f.a)(K,2),C=x[0],_=x[1];function S(e){switch(e){case"30days":w("weekly"),y(O()().subtract(30,"days").format("MM/DD/YYYY"));break;case"6months":w("monthly"),y(O()().subtract(3,"months").format("MM/DD/YYYY"));break;case"1year":w("monthly"),y(O()().subtract(1,"years").format("MM/DD/YYYY"))}u(e)}return Object(i.useEffect)((function(){var e=Object(Y.b)(b,g,s);_(!0),Promise.all(e.map((function(e){return k.c.get("client/summary?from_date=".concat(e.start,"&to_date=").concat(e.end,"&frequency=").concat(M))}))).then((function(t){_(!1),r(e.map((function(e,a){return Object(d.a)({},e,{value:p()(t,"[".concat(a,"]data.result[0].dpo_weekly"),null)})})))})).catch((function(e){return Object(h.a)(e)}))}),[b,g]),l.a.createElement("div",{className:"col-md-12",style:{overflowY:"auto"}},l.a.createElement("div",null,l.a.createElement("div",{className:"table100  pt-0"},l.a.createElement("div",{class:"custchattab1"},l.a.createElement("span",{onClick:function(){return S("1year")},className:"cursour-pointer ".concat("1year"===s&&"activec")},"Year"),l.a.createElement("span",{onClick:function(){return S("6months")},className:"cursour-pointer ".concat("6months"===s&&"activec")},"Quarter"),l.a.createElement("span",{onClick:function(){return S("30days")},className:"cursour-pointer ".concat("30days"===s&&"activec")},"Month")),l.a.createElement("div",{className:e.setactiveKey&&"cursour-pointer",onClick:function(){var t=e.setactiveKey;t&&t("dpo")}},l.a.createElement(P,{data:n.filter((function(e){return e.value})),selectedTab:s,isLoading:C})))))},A=a(9),F=a(42),L=["#9FD85F","#F9C965","#F07C3A"],W=["#000000","#413ea0","#f5f5f5"],R=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isLoading,n=e.barKeys,r=e.lineKeys,c=[].concat(Object(F.a)(n),Object(F.a)(r)).map((function(e){return e.key})),o=t.map((function(e){var t=Object(d.a)({},e);return c.forEach((function(e){0===t[e]&&delete t[e]})),t}));return console.log("modifiedData ",o),l.a.createElement("div",null,l.a.createElement(j.n,{height:300,width:"100%"},l.a.createElement(j.f,{height:300,data:o},l.a.createElement(j.q,{tick:l.a.createElement(b.a,null),dataKey:"text"}),l.a.createElement(j.r,{tickFormatter:function(e){return Object(g.f)(e,!1)}}),l.a.createElement(j.p,{cursor:!1,content:l.a.createElement(v.a,{noCurrencyKeys:n.concat(r).map((function(e){return e.key}))})}),l.a.createElement(j.i,null),n.map((function(e,t){return l.a.createElement(j.c,{dataKey:e.key,name:e.name,stackId:"a",fill:L[t]})})),r.map((function(e,t){return l.a.createElement(j.j,{type:"monotone",dataKey:e.key,name:e.name,stackId:"b",stroke:W[t],dot:!0})})))),a?l.a.createElement("div",{className:"graph-loader"},l.a.createElement("div",{className:"spinner-border"})):null)}}]),t}(l.a.PureComponent),q=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.isLoading,n=e.barKeys,r=e.lineKeys,c=[].concat(Object(F.a)(n),Object(F.a)(r)).map((function(e){return e.key})),o=t.map((function(e){var t=Object(d.a)({},e);return c.forEach((function(e){0===t[e]&&delete t[e]})),t}));return l.a.createElement("div",null,l.a.createElement(j.n,{height:300,width:"100%"},l.a.createElement(j.f,{height:300,data:o},l.a.createElement(j.q,{tick:l.a.createElement(b.a,null),dataKey:"text"}),l.a.createElement(j.r,{tickFormatter:function(e){return Object(g.f)(e)}}),l.a.createElement(j.r,{yAxisId:"right",orientation:"right",tickFormatter:function(e){return Object(g.f)(e,!1)}}),l.a.createElement(j.p,{cursor:!1,content:l.a.createElement(v.a,{noCurrencyKeys:r.map((function(e){return e.key}))})}),l.a.createElement(j.i,null),n.map((function(e,t){return l.a.createElement(j.c,{dataKey:e.key,name:e.name,stackId:"a",fill:L[t]})})),r.map((function(e,t){return l.a.createElement(j.j,{yAxisId:"right",type:"monotone",dataKey:e.key,name:e.name,stackId:"b",stroke:W[t],dot:!0})})))),a?l.a.createElement("div",{className:"graph-loader"},l.a.createElement("div",{className:"spinner-border"})):null)}}]),t}(l.a.PureComponent);var B=function(e){var t=Object(i.useState)("30days"),a=Object(f.a)(t,2),n=a[0],r=a[1],c=Object(i.useState)([]),o=Object(f.a)(c,2),s=o[0],u=o[1],m=Object(i.useState)("weekly"),v=Object(f.a)(m,2),b=v[0],y=v[1],p=Object(i.useState)(O()().subtract(30,"days").format("MM/DD/YYYY")),E=Object(f.a)(p,2),j=E[0],g=E[1],D=Object(i.useState)(!0),N=Object(f.a)(D,2),M=N[0],w=N[1];Object(i.useEffect)((function(){K()}),[n]);var K=function(){var e=Object(Y.b)(j,"",n),t=e;w(!0);var a=[];e.forEach((function(e,t){a.push(k.c.get("client/summary?frequency=".concat(b,"&from_date=").concat(e.start,"&to_date=").concat(e.end)))})),Promise.all(a).then((function(e){var a=t.map((function(t,a){return Object(d.a)({},t,{},e[a].data.result.reduce((function(e,t){for(var a in e)e=Object(d.a)({},e,Object(A.a)({},a,t[a]+e[a]));return e}),{ap_total:0,ap_weighted_avg_days_late:0,ap_weighted_avg_payment_days:0,ap_weighted_avg_terms:0,ar_total:0,ar_weighted_avg_collection_days:0,ar_weighted_avg_days_late:0,ar_weighted_avg_terms:0,total_ap_invoices:0,total_ar_invoices:0,total_customers:0,total_suppliers:0}))}));u(a),w(!1)})).catch((function(e){return Object(h.a)(e)}))};function x(e){switch(e){case"30days":g(O()().subtract(30,"days").format("MM/DD/YYYY")),y("weekly");break;case"6months":y("monthly"),g(O()().subtract(3,"months").format("MM/DD/YYYY"));break;case"1year":g(O()().subtract(1,"years").format("MM/DD/YYYY")),y("monthly")}r(e)}return l.a.createElement("div",{class:"col-md-12"},l.a.createElement("div",{class:"graphbg"},e.setactiveKey&&l.a.createElement("div",{class:"custchattabhead"},"By vendors classification"),l.a.createElement("div",{class:"custchattab1"},l.a.createElement("span",{onClick:function(){return x("1year")},className:"cursour-pointer ".concat("1year"===n&&"activec")},"Year"),l.a.createElement("span",{onClick:function(){return x("6months")},className:"cursour-pointer ".concat("6months"===n&&"activec")},"Quarter"),l.a.createElement("span",{onClick:function(){return x("30days")},className:"cursour-pointer ".concat("30days"===n&&"activec")},"Month")),l.a.createElement("div",{id:"container1","data-highcharts-chart":0},1===e.type?l.a.createElement(R,{data:s,isLoading:M,barKeys:e.barKeys,lineKeys:e.lineKeys}):l.a.createElement(q,{data:s,isLoading:M,barKeys:e.barKeys,lineKeys:e.lineKeys}))))};a.d(t,"default",(function(){return z}));var z=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).state={activeTab:"1"},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.title="Insights - Payference"}},{key:"render",value:function(){var e=this,t=this.state.activeTab;return l.a.createElement("div",{className:"row px-15",id:"dashboardBody"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement(u.a,{id:"insightgraphs",activeKey:t,onSelect:function(t){return e.setState({activeTab:t})}},l.a.createElement(m.a,{eventKey:"1",title:"AR Insights"},l.a.createElement("div",{className:"row mt-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"Collection stats"),l.a.createElement(B,{type:1,barKeys:[{key:"ar_weighted_avg_collection_days",name:"Weighted Avg Days to collect"}],lineKeys:[{key:"ar_weighted_avg_terms",name:"Weighted Avg Terms"}]}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"Transaction stats"),l.a.createElement(B,{type:2,lineKeys:[{name:"Invoices",key:"total_ar_invoices"},{name:"Customers",key:"total_customers"}],barKeys:[{name:"Total AR",key:"ar_total"}]})))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"Late collections"),l.a.createElement(B,{type:1,barKeys:[],lineKeys:[{key:"ar_weighted_avg_days_late",name:"Weighted Avg Days late"}]}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"Early Collections"),l.a.createElement(w,{setInvoiceGraphLoading:function(){}})))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"DSO"),l.a.createElement(x,null))))),l.a.createElement(m.a,{eventKey:"2",title:"AP Insights"},l.a.createElement("div",{className:"row mt-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"Payable stats"),l.a.createElement(B,{type:1,barKeys:[{key:"ap_weighted_avg_payment_days",name:"Weighted Avg Days to payment"}],lineKeys:[{key:"ap_weighted_avg_terms",name:"Weighted Avg Terms"}]}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"Transaction stats"),l.a.createElement(B,{type:2,lineKeys:[{name:"Invoices",key:"total_ap_invoices"},{name:"Vendors",key:"total_suppliers"}],barKeys:[{name:"Total AP",key:"ap_total"}]})))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"Late Payments"),l.a.createElement(B,{type:1,barKeys:[],lineKeys:[{key:"ap_weighted_avg_days_late",name:"Weighted Avg Days late"}]}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"Early payments"),l.a.createElement(I,null)))),l.a.createElement("div",{className:"row mt-2"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row"},l.a.createElement("p",{className:"custchattabhead col-md-12"},"DPO"),l.a.createElement(T,null))))))))))))}}]),t}(l.a.Component)}}]);
//# sourceMappingURL=12.20520035.chunk.js.map