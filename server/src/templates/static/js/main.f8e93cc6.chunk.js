(this["webpackJsonppayference-fe"]=this["webpackJsonppayference-fe"]||[]).push([[5],{10:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return o}));var n=a(4),r=a.n(n),l=a(11),c=function(){"/login"!==window.location.pathname&&(window.sessionStorage.setItem("loggedOutInSameSession",window.location.pathname),window.sessionStorage.setItem("loggedoutUser",l.a.getUserId())),window.localStorage.setItem("loggedout",l.a.getUserId()),l.a.remove(),setTimeout((function(){"/login"!==window.location.pathname&&window.open("".concat(window.location.origin,"/login"),"_self")}),200)},o=function(e){console.log("API e: ",JSON.stringify(e)),r()(e,"message","-").includes("401")&&c()}},106:function(e,t,a){},11:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(14),r=a(15),l=(a(44),a(19)),c=(a(10),a(4)),o=a.n(c),s=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"get",value:function(){return localStorage.getItem("auth")}},{key:"set",value:function(e,t){if(e){var a="PROD"===l.a.MODE?179e4:29e4,n=Math.round((new Date).getTime())+a;localStorage.setItem("expired_at",n),localStorage.setItem("auth",e)}}},{key:"remove",value:function(){localStorage.removeItem("auth")}},{key:"setUserName",value:function(e,t){e&&(localStorage.setItem("username",e),localStorage.setItem("userid",t))}},{key:"setUserData",value:function(e){e&&localStorage.setItem("loggedInUserData",JSON.stringify(e))}},{key:"getUserData",value:function(){return localStorage.getItem("loggedInUserData")||"{}"}},{key:"getUserEmail",value:function(){var e=JSON.parse(localStorage.getItem("loggedInUserData")||"{}");return o()(e,"email","")}},{key:"getIsAdmin",value:function(){var t=JSON.parse(e.getUserData());return o()(t,"roles",[]).includes("admin")||o()(t,"roles",[]).includes("payadmin")||1===o()(t,"role","")||2===o()(t,"role","")}},{key:"getIsPayAdmin",value:function(){var t=JSON.parse(e.getUserData());return o()(t,"roles",[]).includes("payadmin")}},{key:"getUserName",value:function(){return localStorage.getItem("username")}},{key:"getExpiredAt",value:function(){return localStorage.getItem("expired_at")}},{key:"getUserId",value:function(){return localStorage.getItem("userid")}}]),e}()},13:function(e,t,a){"use strict";a(0);var n=a(57);t.a=function(e,t,a){switch(t){case"success":n.a.success(e,{position:n.a.POSITION.TOP_RIGHT,autoClose:a||2e3});break;case"error":n.a.error(e,{position:n.a.POSITION.TOP_RIGHT,autoClose:a||2e3});break;case"info":n.a.info(e,{position:n.a.POSITION.TOP_RIGHT,autoClose:a||2e3});break;default:Object(n.a)("Default Notification !")}}},142:function(e,t,a){"use strict";var n=a(9),r=a(3),l=a(14),c=a(15),o=a(17),s=a(16),i=a(43),m=a(18),u=a(4),d=a.n(u),p=a(0),f=a.n(p),E=a(12),v=a(45),h=a(20),b=a(22),g=function(e){return{type:b.a.DYNAMIC_FORM,payload:e}},y=function(e){return{type:b.a.ADD_DYNAMIC_FORM,payload:e}},N=a(7);a(27);function w(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=a[0],r=(a[1],e.field),l=e.updateData,c=r.value,o=void 0===c?"":c,s=r.iserr,i=void 0===s?function(){}:s,m=r.placeholder,u=void 0===m?"":m,d=r.label,p=void 0===d?"":d,E=r.helperText,v=void 0===E?"":E,h=(r.className,r.disabled),b=void 0!==h&&h,g=r.maxLength,y=void 0===g?null:g,w=r.id,O=void 0===w?"text":w;var S=i({fielddata:r})?"form-control is-invalid":"form-control",j=i({fielddata:r})?"text-danger":"";return f.a.createElement("div",null,f.a.createElement("div",{className:"".concat(j)},p),f.a.createElement("input",{className:S,type:"text",id:O,onChange:function(e){l({id:r.id,value:e.target.value})},placeholder:u,value:o,error:i({fielddata:r}),helperText:n&&v,disabled:b,maxlength:y}))}function O(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=(a[0],a[1],e.field);e.updateData,n.value,n.iserr,n.error,n.placeholder,n.label,n.helperText,n.className,n.disabled;return null}function S(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=a[0],l=(a[1],e.field),c=e.updateData,o=l.value,s=void 0===o?"":o,i=l.iserr,m=void 0===i?function(){}:i,u=l.placeholder,d=void 0===u?"":u,p=l.label,E=void 0===p?"":p,v=l.helperText,h=void 0===v?"enter valid number":v,b=(l.className,l.disabled,l.min),g=void 0===b?0:b,y=l.max,w=void 0===y?null:y;var O=Object(r.a)({},e);w&&(O.max=w),g&&(O.min=g);var S=m({fielddata:l})?"form-control is-invalid":"form-control",j=m({fielddata:l})?"text-danger":"";return f.a.createElement("div",null,f.a.createElement("div",{className:"".concat(j)},E),f.a.createElement("input",{className:S,type:"number",onChange:function(e){c({id:l.id,value:e.target.value?parseInt(e.target.value):null})},placeholder:d,value:s,error:m({fielddata:l}),min:g,max:w,helperText:n&&h}))}function j(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=a[0],l=(a[1],e.field),c=e.updateData,o=l.value,s=void 0===o?"":o,i=l.iserr,m=void 0===i?function(){}:i,u=l.placeholder,d=void 0===u?"":u,p=l.label,E=void 0===p?"":p,v=l.helperText,h=void 0===v?"enter valid number":v,b=(l.className,l.disabled,l.min),g=void 0===b?0:b,y=l.max,w=void 0===y?null:y;var O=Object(r.a)({},e);w&&(O.max=w),g&&(O.min=g);var S=m({fielddata:l})?"form-control is-invalid":"form-control",j=m({fielddata:l})?"text-danger":"";return f.a.createElement("div",null,f.a.createElement("div",{className:"".concat(j)},E),f.a.createElement("input",{className:S,type:"number",onChange:function(e){c({id:l.id,value:e.target.value?parseFloat(e.target.value):null})},placeholder:d,value:s,error:m({fielddata:l}),min:g,max:w,helperText:n&&h}))}var C=a(149),x=a(21),k=a.n(x);function _(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=(a[0],a[1],e.field),r=e.updateData,l=n.value,c=void 0===l?"":l,o=n.iserr,s=void 0===o?function(){}:o,i=(n.placeholder,n.label),m=void 0===i?"":i,u=(n.helperText,n.min,n.max,n.className),d=void 0===u?"":u;s({fielddata:n});var p=s({fielddata:n})?"text-danger":"";return f.a.createElement("div",{className:"".concat(d," single-date-picker")},f.a.createElement("div",{className:"".concat(p)},m),f.a.createElement(C.a,{labelFormat:"MMM DD, YYYY",startDate:c?k()(new Date(c)):void 0,getSelectedDates:function(e){return t=e.format("YYYY-MM-DD"),void r({id:n.id,value:t});var t}}))}function D(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=(a[0],a[1],e.field);e.updateData,n.value,n.iserr,n.placeholder,n.label,n.helperText,n.className;return null}function P(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=(a[0],a[1],e.field);e.updateData,n.value,n.iserr,n.placeholder,n.label,n.helperText,n.min,n.max;return null}var A=function(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=a[0],r=(a[1],e.field),l=e.updateData,c=r.value,o=void 0===c?"":c,s=r.iserr,i=void 0===s?function(){}:s,m=r.placeholder,u=void 0===m?"Select":m,d=r.label,p=void 0===d?"Select":d,E=r.helperText,v=void 0===E?"":E,h=r.options,b=void 0===h?[]:h,g=r.disabled,y=void 0!==g&&g;var w=i({fielddata:r})?"form-control is-invalid":"form-control",O=i({fielddata:r})?"text-danger":"";return f.a.createElement("div",null,f.a.createElement("div",{className:"".concat(O)},p),f.a.createElement("select",{className:w,onChange:function(e){console.log("selectedOption: ",e),l({id:r.id,value:e.target.value})},placeholder:u,error:i({fielddata:r}),helperText:n&&v,isDisabled:y,disabled:y,value:o},f.a.createElement("option",{value:""},"Select"),b.map((function(e){return f.a.createElement("option",{value:e.id},e.name)}))))},I=function(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=(a[0],a[1],e.field);e.updateData,n.value,n.iserr,n.placeholder,n.label,n.helperText,n.options,n.disabled,n.idonly;return null};function T(e){var t=e.field,a=e.updateData,n=t.value,r=void 0!==n&&n,l=t.iserr,c=void 0===l?function(){}:l,o=t.placeholder,s=void 0===o?"":o,i=t.label,m=void 0===i?"":i,u=(t.helperText,t.disabled),d=void 0!==u&&u;function p(e){!d&&a({id:t.id,value:!r})}return f.a.createElement("div",null,f.a.createElement("input",{type:"checkbox",onChange:p,placeholder:s,value:r,checked:r,disabled:d,error:c({fielddata:t})}),f.a.createElement("p",{className:"cursour-pointer",onClick:p},m))}function M(e){var t=e.field;e.updateData,t.value,t.iserr,t.placeholder,t.label,t.helperText,t.labelclass,t.iconclass,t.disabled;return null}function R(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=a[0],r=a[1],l=e.field,c=e.updateData,o=l.value,s=void 0===o?"":o,i=l.iserr,m=void 0===i?function(){}:i,u=l.placeholder,d=void 0===u?"":u,p=l.label,E=void 0===p?"":p,v=l.helperText,h=void 0===v?"":v;return f.a.createElement("div",null,f.a.createElement("div",null,E),f.a.createElement("input",Object.assign({type:"file",className:"w-100 form-control",variant:"outlined",value:s,onChange:function(e){c({id:l.id,value:e.target.value})},placeholder:d,error:m({fielddata:l}),helperText:n?h:""},e,{onFocus:function(){return r(!0)},onBlur:function(){return r(!1)}})))}var L=function(e){var t=f.a.useState(!1),a=Object(N.a)(t,2),n=(a[0],a[1],e.field),r=(e.updateData,n.value),l=void 0===r?"":r;n.iserr,n.placeholder,n.label,n.helperText;var c=n.options.find((function(e){return e.displayvalue==l}));return console.log("selectedOption: ",c),null},F=a(33),B=a(13),Y=function(){var e=F.a.getState();return d()(e,"dynamicformReducer.forms",[])},V=function(e){var t,a=Y(),n=a.findIndex((function(t){return t.formKey===e}));return-1!=n&&((t=a[n]).fields=t.fields.map((function(e){return Object(r.a)({},e,{showAllErr:!0})})),a[n]=t),F.a.dispatch({type:b.a.DYNAMIC_FORM,payload:{forms:a}}),t.fields};a.d(t,"b",(function(){return z}));var U=function(e){var t=F.a.getState();return d()(t,"dynamicformReducer.forms",[]).find((function(t){return t.formKey===e}))},K=function(e){var t=F.a.getState(),a=d()(t,"dynamicformReducer.forms",[]).filter((function(t){return t.formKey!==e}));F.a.dispatch({type:b.a.DYNAMIC_FORM,payload:{forms:a}})},z=function(e){var t=e.formKey,a=V(t);if(a){var n="";return a.forEach((function(e){e.iserr({fielddata:e})&&!n&&(n=e.errorText||"Please fill required fields",Object(B.a)(n,"error"),V(t))})),{error:n,fields:a}}return{error:"Please fill required fields"}},q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).getField=a.getField.bind(Object(i.a)(a)),a.updateData=a.updateData.bind(Object(i.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fields,a=e.formKey,n=e.onChange;U(a)||n||this.props.addDynamicForm({forms:[{fields:t,formKey:a}]})}},{key:"updateData",value:function(e){var t=e.id,a=e.value,l=this.props,c=l.formKey,o=l.onChange;if(o)o(a);else{var s=d()(this.props,"dynamicformReducer.forms",[]).map((function(e){return Object(r.a)({},e,{fields:e.formKey===c?e.fields.map((function(e){var l;return Object(r.a)({},e,(l={},Object(n.a)(l,t,a),Object(n.a)(l,"value",e.id===t?a:e.value),l))})):e.fields})}));this.props.setDynamicForm({forms:s})}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.formKey;e.onChange||K(t)}},{key:"getField",value:function(e){var t=e.field,a=e.showAllErr,n={field:t,updateData:this.updateData,showAllErr:a};switch(t.typeid){case h.a.Text:return f.a.createElement(w,n);case h.a.TextArea:return f.a.createElement(O,n);case h.a.Integer:return f.a.createElement(S,n);case h.a.Float:return f.a.createElement(j,n);case h.a.Date:return f.a.createElement(_,n);case h.a.Time:return f.a.createElement(D,n);case h.a.DateTime:return f.a.createElement(P,n);case h.a.Select:return f.a.createElement(A,n);case h.a.CheckBox:return f.a.createElement(T,n);case h.a.Radio:return f.a.createElement(M,n);case h.a.MultiSelect:return f.a.createElement(I,n);case h.a.ImageInput:return f.a.createElement(R,n);case h.a.GroupSelect:return f.a.createElement(L,n);default:return null}}},{key:"render",value:function(){var e=this,t=this.props,a=t.formKey,n=t.onChange,r=t.fields,l=t.numberOfColumns,c=void 0===l?1:l,o=n?{fields:r}:U(a),s=H[c];return f.a.createElement("div",{className:"row"},d()(o,"fields",[]).map((function(t){return f.a.createElement("div",{className:s},f.a.createElement("div",{className:"w-100"},e.getField({field:t,showAllErr:d()(o,"shoAllErr","")})))})))}}]),t}(p.Component),H={1:"col-md-12 mt-3",2:"col-md-6 mt-3",3:"col-md-4 mt-3"};t.a=Object(E.b)((function(e){return{dynamicformReducer:e.dynamicformReducer}}),(function(e){return Object(v.b)({setDynamicForm:g,addDynamicForm:y},e)}))(q)},145:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return i}));var n=a(21),r=a.n(n),l=function(e){if(e){return"Invalid date"===r.a.utc(e).format("MM/DD/YYYY")||null===r.a.utc(e).format("MM/DD/YYYY")||"null"===r.a.utc(e).format("MM/DD/YYYY")?"":r.a.utc(e).format("MM/DD/YYYY")}return null},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";if(e){var a="MM/DD/YYYY";return"Invalid date"===r()(e).format(a)||null===r()(e).format(a)||"null"===r()(e).format(a)?"":r()(e,t).format(a)}return null};function o(e){var t=e.ts,a=e.timeformat,n=void 0===a?"MM/DD/YYYY":a;return t?r()(t).format(n):""}function s(e){var t=e.str,a=e.timeformat,n=void 0===a?"MM/DD/YYYY":a;return t?r()(t,n).toDate().getTime():""}function i(e){var t=e.startdate,a=void 0===t?r()():t,n=e.enddate,l=void 0===n?r()():n;l=r.a.isMoment(l)?l:r()(l),a=r.a.isMoment(a)?a:r()(a);var c=r.a.duration(l.diff(a)).asDays();return parseInt(c)}},149:function(e,t,a){"use strict";var n=a(14),r=a(15),l=a(17),c=a(16),o=a(18),s=a(0),i=a.n(s),m=a(21),u=a.n(m),d=a(151),p=a.n(d),f=(a(233),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).getDates=function(e){var t=e.startDate;a.setState({startDate:t},(function(){return a.props.getSelectedDates(a.state.startDate)}))},a.state={startDate:void 0},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({startDate:this.props.startDate?u()(this.props.startDate):void 0})}},{key:"componentWillReceiveProps",value:function(e){this.props.startDate!=e.startDate&&this.setState({startDate:e.startDate?u()(e.startDate):void 0})}},{key:"render",value:function(){var e=this,t=this.state.startDate,a=this.props,n=a.parentEl,r=a.labelFormat||"MM/DD/YYYY",l=t?"".concat(u()(t).format(r)):"";return i.a.createElement("div",{className:"w-100",id:"datepicker-wrap"},i.a.createElement(p.a,{className:"w-100",parentEl:n,singleDatePicker:!0,startDate:t,endDate:t,autoApply:!0,onApply:function(t,a){return e.getDates(a)}},i.a.createElement("div",{className:"w-100",id:"wrap-date",style:{background:"#fff",cursor:"pointer",padding:"5px 10px",border:"1px solid #ccc",minWidth:120}},i.a.createElement("i",{className:"fa fa-calendar pull-left pt-1"}),l?i.a.createElement("span",null,l):i.a.createElement("span",{className:"text-secondary"},r),i.a.createElement("i",{className:"fa fa-caret-down pull-right pt-1"}))))}}]),t}(s.Component));t.a=f},150:function(e,t,a){},154:function(e,t,a){"use strict";var n=a(42),r=a(9),l=a(3),c=a(0),o=a.n(c),s=a(4),i=a.n(s),m=a(12),u=a(33),d=a(231),p=a(495),f=a(224),E=a(159),v=a(79),h=a(7),b=a(116),g=a(110),y=a.n(g),N=a(111),w=a.n(N),O=a(492),S=function(e){var t=e.onDrop,a=(e.charLimit,e.onTextChange),n=e.body,r=Object(O.a)({accept:[b.a.FILE],drop:function(a,n){t&&t({item:a,props:e,monitor:n})},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),l=Object(h.a)(r,2),c=l[0],s=c.canDrop,i=c.isOver,m=l[1],u=s&&i;return o.a.createElement("div",{ref:m,className:"w-100"},u?o.a.createElement("div",{className:"w-100 d-flex justify-content-center my-auto align-items-center",style:{height:"250px",border:"1px dotted #ccc"}},"Release to drop"):o.a.createElement(y.a,{editor:w.a,data:n||"",config:{toolbar:["heading","|","bold","italic","numberedList","bulletedList"]},onChange:function(e,t){var n=t.getData();a(n)}}))},j=a(13),C=a(22),x=a(58),k=a(14),_=a(15),D=a(17),P=a(16),A=a(18),I=a(51),T=a(5),M=a.n(T),R=a(489),L=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(D.a)(this,Object(P.a)(t).call(this,e))).onBlur=function(){var e=a.state.value.trim();e&&a.isValid(e)&&a.setState({items:[].concat(Object(n.a)(a.state.items),[a.state.value]),value:""},(function(){return a.props.getEmailId(a.props.label,a.state.items.toString())}))},a.handleKeyDown=function(e){["Enter","Tab",","].includes(e.key)&&(e.preventDefault(),a.onBlur())},a.handleChange=function(e){a.setState({value:e.target.value,error:null})},a.handleDelete=function(e){a.setState({items:a.state.items.filter((function(t){return t!==e}))},(function(){return a.props.getEmailId(a.props.label,a.state.items.toString())}))},a.handlePaste=function(e){e.preventDefault();var t=e.clipboardData.getData("text").match(/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g);if(t){var r=t.filter((function(e){return a.isValid(e)}));a.setState({items:[].concat(Object(n.a)(a.state.items),Object(n.a)(r))},(function(){return a.props.getEmailId(a.props.label,a.state.items.toString())}))}},a.isValid=function(e){var t=null;return a.isInList(e)&&(t="".concat(e," has already been added.")),a.isEmail(e)||(t="".concat(e," is not a valid email address.")),!t||(a.setState({error:t}),!1)},a.isInList=function(e){return a.state.items.includes(e)},a.isEmail=function(e){return I.a.test(e)},a.state={items:e.email||[],value:"",error:null},a}return Object(A.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.error,r=t.value;return o.a.createElement(o.a.Fragment,null,a.map((function(t){return o.a.createElement("span",{className:"tag-item d-inline-block mr-1 mb-1",key:t},o.a.createElement(R.a,{label:t,size:"small",onDelete:function(){return e.handleDelete(t)}}))})),o.a.createElement("input",{className:M()("multiemail-input",{error:!!n}),value:r,placeholder:"Enter email address",onBlur:this.onBlur,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onPaste:this.handlePaste}))}}]),t}(o.a.Component);a(446);a.d(t,"c",(function(){return F})),a.d(t,"b",(function(){return B}));var F=function(e){u.a.dispatch({type:C.a.EMAIL_DATA,payload:e})},B=function(){u.a.dispatch({type:C.a.EMAIL_RESET})};t.a=Object(m.b)((function(e){return{email:e.email}}),null)((function(e){var t=e.email,a=t.show,c=(t.from,t.to),s=void 0===c?"":c,m=t.cc,u=void 0===m?"":m,h=t.subject,b=void 0===h?"":h,g=t.body,y=void 0===g?"":g,N=t.onSave,w=t.files,O=void 0===w?[]:w,C=t.fetchingInvoices,k=void 0!==C&&C,_=e.email,D=e.charLimit,P=void 0===D?2e3:D;function A(e,t){var a=Object(l.a)({},_,Object(r.a)({},e,t));F(a)}function I(e){var t=e.item,a=(e.props,e.monitor,[].concat(Object(n.a)(O),Object(n.a)(i()(t,"files",[])))),r=0;if(a.forEach((function(e){r+=e.size})),r>5242880)Object(j.a)("Maximum attachments size is 5MB","error");else{var c=Object(l.a)({},_,{files:a});F(c)}}return o.a.createElement(d.a,{show:a,size:"lg",backdrop:"static",onHide:function(){B()},className:"mt-4"},o.a.createElement(d.a.Header,{closeButton:!0},o.a.createElement(d.a.Title,{className:"h6"},"New Email")),o.a.createElement(d.a.Body,null,o.a.createElement("div",{style:{maxHeight:"calc(90vh - 190px)",overflowY:"auto"},className:"email-wrapper"},o.a.createElement("div",{className:"m-2 border rounded input-email-box"},o.a.createElement("div",{className:"p-2 d-table-cell text-left label"},"TO"),o.a.createElement("div",{className:"p-2 d-table-cell"},o.a.createElement(L,{email:s?Object(n.a)(s.split(",")):[],getEmailId:A,label:"to"}))),o.a.createElement("div",{className:"m-2 border rounded input-email-box"},o.a.createElement("div",{className:"p-2 d-table-cell text-left label"},"CC"),o.a.createElement("div",{className:"p-2 d-table-cell"},o.a.createElement(L,{email:u?Object(n.a)(u.split(",")):[],getEmailId:A,label:"cc"}))),o.a.createElement("div",{className:"m-2 border rounded input-email-box"},o.a.createElement("div",{className:"py-2 pl-2"},o.a.createElement("input",{type:"text",placeholder:"Subject",className:"input-email w-80",onChange:function(e){return A("subject",e.target.value)},value:b,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/}))),o.a.createElement("div",{className:"m-2"},o.a.createElement(E.a,null,o.a.createElement(S,{onDrop:I,maxlength:P,onTextChange:function(e){return e&&A("body",e)},body:y})),o.a.createElement("div",{className:"text-right pb-2 text-small text-danger"},y.length===P&&o.a.createElement("i",null,"Max characters limit: ",P))),o.a.createElement("input",{"data-cy":"attach",type:"file",id:"attach",className:"d-none",multiple:!0,onChange:function(e){I({item:e.target})}}),o.a.createElement("div",{className:"text-secondary ml-2 my-2"},o.a.createElement("span",null,"Attachments:",o.a.createElement("i",{className:"fas fa-paperclip cursor-pointer pl-2",onClick:function(){document.getElementById("attach").click()},title:"Add attachments"}))),k?o.a.createElement("div",{className:"row mx-2"},o.a.createElement("div",{className:"text-center w-100 p-2 text-secondary "},"fetching invoices \xa0 ",o.a.createElement("i",{className:"ml-2 fa fa-spinner fa-spin text-primary"}))):o.a.createElement("div",{className:"row mx-2"},O.map((function(e,t){var a={pdf:"fa fa-file-pdf-o red-file-highlighter",jpeg:"fa fa-file-photo-o blue-file-highlighter",png:"fa fa-file-photo-o blue-file-highlighter",jpg:"fa fa-file-photo-o blue-file-highlighter",xlsx:"fa fa-file-excel-o green-file-highlighter",xls:"fa fa-file-excel-o green-file-highlighter"},n=e.name.split(".")[e.name.split(".").length-1];return o.a.createElement(p.a,{className:"col-md-3 emailthumbnail cursour-pointer",height:"80"},e.isbase64?o.a.createElement("div",{onClick:function(){Object(v.b)(JSON.parse(i()(e,"content","")),"pdf")}},o.a.createElement("div",{className:"file-wrapper"},o.a.createElement("span",{className:"invoice-file-name"},n),o.a.createElement("span",{className:"invoice-file-size"},Object(x.b)(e.content.length/1e3),"kB")),o.a.createElement("div",{className:"file-icon"},o.a.createElement("i",{className:"".concat(a[n]?a[n]:"fa fa-file-o"," fa-7x")})),o.a.createElement("div",{className:"overlay"})):o.a.createElement("div",null,o.a.createElement("div",{className:"file-wrapper"},o.a.createElement("span",{className:"invoice-file-name"},n),o.a.createElement("span",{className:"invoice-file-size"},Object(x.b)(e.size/1e3),"kB")),o.a.createElement("div",{className:"file-icon",onClick:function(){e.isbase64?Object(v.b)(JSON.parse(i()(e,"content","")),"pdf"):Object(v.b)(URL.createObjectURL(e),"other")}},o.a.createElement("i",{className:"".concat(a[n]?a[n]:"fa fa-file-o"," fa-7x")}))),o.a.createElement(p.a.Body,null,o.a.createElement(p.a.Text,null,o.a.createElement("div",{className:"row p-0"},o.a.createElement("div",{className:"col-md-9 text-truncate"},o.a.createElement("span",{title:e.name},e.name)),o.a.createElement("div",{className:"col-md-3"},o.a.createElement("i",{body:"Remove attachment",className:"fa fa-remove cursor-pointer pull-right",onClick:function(){return function(e){var t=O.filter((function(t,a){return a!==e})),a=Object(l.a)({},_,{files:t});F(a)}(t)}}))))))}))))),o.a.createElement(d.a.Footer,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement(f.a,{disabled:!s||!b||!y,variant:"primary",className:"pull-right mr-2","data-cy":"sendemail",onClick:function(){b?y?N(s,b,y,O,u):Object(j.a)("Please enter text in body","error"):Object(j.a)("Please enter subject","error")}},"Send")))))}))},158:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(14),r=a(15),l=a(17),c=a(16),o=a(18),s=a(39),i=a(4),m=a.n(i),u=a(0),d=a.n(u),p=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={editmode:!1,value:m()(a.props.value),showpencil:!1},a.setEditMode=function(e){a.setState({editmode:e,showpencil:!1});var t=a.state.value;(t!==a.props.value||0==t)&&a.props.updateValue(t)},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({value:this.props.value})}},{key:"componentWillReceiveProps",value:function(e){this.state.value!==e.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this,t=this.props,a=t.iscellcomponent,n=void 0!==a&&a,r=t.options,l=this.state,c=l.editmode,o=l.value,i=l.showpencil,u=m()(r.find((function(e){return e.value==o})),"name","");return c?d.a.createElement(s.a,{onClickAway:this.setEditMode},d.a.createElement("form",{className:"mr-2",onSubmit:function(){return e.setEditMode(!1)}},d.a.createElement("select",{id:"amount-editor",className:"py-1 px-2 w-50",onChange:function(t){return e.setState({value:t.target.value})}},d.a.createElement("option",{disabled:!0,selected:!0,value:""},"Select"),r.map((function(e){return d.a.createElement("option",{value:e.value,selected:o==e.value},e.name)}))))):d.a.createElement("div",{className:"mr-2",onClick:function(){e.setState({editmode:!0},(function(){document.getElementById("amount-editor").focus()}))},onMouseEnter:function(){e.setState({showpencil:!0})},onMouseLeave:function(){e.setState({showpencil:!1})}},u||"-",!n&&i&&d.a.createElement("span",{className:"ml-3"},d.a.createElement("i",{className:"fa fa-pencil-alt"})))}}]),t}(d.a.Component)},159:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(116),c=a(457);t.a=function(e){return r.a.createElement(c.a,{backend:l.b},e.children)}},160:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return o}));var n=a(7),r=(a(115),a(0));a(4),a(6);function l(e){return e.split(/\#|\?/)[0].split(".").pop().trim()}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=atob(e),r=[],l=0;l<n.length;l+=a){for(var c=n.slice(l,l+a),o=new Array(c.length),s=0;s<c.length;s++)o[s]=c.charCodeAt(s);var i=new Uint8Array(o);r.push(i)}var m=new Blob(r,{type:t});return m}function o(){var e=Object(r.useState)([0,0]),t=Object(n.a)(e,2),a=t[0],l=t[1];return Object(r.useLayoutEffect)((function(){function e(){l([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}},167:function(e,t,a){},187:function(e,t,a){},19:function(e,t,a){"use strict";a(289);var n=a(223),r=n;t.a=r},195:function(e,t,a){},196:function(e,t,a){},20:function(e,t,a){"use strict";t.a={Text:1,Date:2,DateTime:3,Float:4,Time:5,Select:6,TextArea:7,Integer:8,Radio:9,CheckBox:10,MultiSelect:11,ImageInput:12,GroupSelect:13}},211:function(e,t){},22:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={SIGNUP:"SIGNUP",LOGIN:"LOGIN",AUTH:"AUTH",DASHBOARD:"DASHBOARD",PAYABLES:"PAYABLES",NAVIGATION:"NAVIGATION",NAVIGATION_RESET:"NAVIGATION_RESET",PAYMENT_METHODS:"PAYMENT_METHODS",RECEIVABLES:"RECEIVABLES",SETTINGS:"SETTINGS",UPDATE_RECEIVABLES_DATA:"UPDATE_RECEIVABLES_DATA",SNACKBAR_DATA:"SNACKBAR_DATA",SNACKBAR_MSG:"SNACKBAR_MSG",SNACKBAR_RESET:"SNACKBAR_RESET",CONFIRMATION_BOX:"CONFIRMATION_BOX",CONFIRMATION_BOX_RESET:"CONFIRMATION_BOX_RESET",EMAIL_DATA:"EMAIL_DATA",EMAIL_RESET:"EMAIL_RESET",DYNAMIC_FORM:"DYNAMIC_FORM",ADD_DYNAMIC_FORM:"ADD_DYNAMIC_FORM",PREVIEW_DOCUMENT:"PREVIEW_DOCUMENT",RESET_PREVIEW_DOCUMENT:"RESET_PREVIEW_DOCUMENT"}},223:function(e){e.exports=JSON.parse('{"API_URL":"https://devbe.payference.com/api/","API_URL_":"http://localhost:5000/api/","MODE":"DEV","PLAID_env":"sandbox","PLAID_publicKey":"60a327f289ddcf7bb8375540e09ad5"}')},236:function(e,t,a){},263:function(e,t,a){e.exports=a(456)},27:function(e,t,a){"use strict";t.a={typeid:null,id:null,value:null,required:!1,options:null,placeholder:"Enter",label:"",helperText:"",defaultValue:"",disabled:!1,isDisabled:!1,iserr:function(e){var t=e.fielddata,a=t.showAllErr,n=t.required,r=t.value,l=t.customiserr;return!(!l||!0!==l({fielddata:t}))||!(!a||!n||r||"boolean"===typeof r||0===r)}}},289:function(e){e.exports=JSON.parse("{}")},30:function(e,t,a){"use strict";a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return u}));var n=a(0),r=a.n(n),l=a(22),c=a(12),o=a(231),s=a(224),i=a(33),m=function(e){i.a.dispatch({type:l.a.CONFIRMATION_BOX,payload:e})},u=function(){i.a.dispatch({type:l.a.CONFIRMATION_BOX_RESET})};t.a=Object(c.b)((function(e){return{confirmationbox:e.confirmationbox}}),null)((function(e){var t=e.confirmationbox,a=t.msg,n=void 0===a?"":a,l=t.onSave,c=function(e,t){"clickaway"!==t&&u()};return r.a.createElement(o.a,{show:""!==n,onHide:c,className:"mt-4",style:{zIndex:9999}},r.a.createElement(o.a.Body,null,r.a.createElement("div",{className:"text-center"},n),r.a.createElement("form",{className:"row d-flex justify-content-center mt-3"},r.a.createElement(s.a,{variant:"secondary",onClick:c,className:"col-sm-5"},"Cancel"),r.a.createElement(s.a,{variant:"primary",autofocus:!0,className:"ml-3 mr-2 col-sm-5",onClick:l},"Confirm"))))}))},33:function(e,t,a){"use strict";var n=a(45),r=a(221),l=a(222),c=a(3),o=a(22),s={login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"kiran"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.LOGIN:return{data:t.payload.data};default:return e}}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{payablesData:[],receivablesData:[],isFetching:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAYABLE_DATA":return Object(c.a)({},e,{payablesData:t.payload.data,isFetching:t.isFetching});case"SET_RECEIVABLE_DATA":return Object(c.a)({},e,{receivablesData:t.payload.data,isFetching:t.isFetching});default:return e}},m={payables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"payables data"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.PAYABLES:return{data:t.payload.data};default:return e}}},u={receivables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"receivables data"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.RECEIVABLES:return{data:t.payload.data};default:return e}}},d={settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"settings data"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.SETTINGS:return{data:t.payload.data};default:return e}}},p={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:"-"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.AUTH:return{data:t.payload.data};default:return e}}},f=a(42),E=a(11),v=Object(c.a)({},{msg:"",variant:"info"}),h=Object(c.a)({},{msg:"",variant:"info",onSave:null}),b=Object(c.a)({},{openleftnav:!0}),g=Object(c.a)({},{show:!1,from:"",to:"",cc:E.a.getUserEmail(),subject:"",body:"",files:[]}),y={show:!1,type:"",data:"",name:"",isbase64:!1,ext:""},N={snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.SNACKBAR_MSG:return{msg:t.payload};case o.a.SNACKBAR_DATA:return Object(c.a)({},e,{},t.payload);case o.a.SNACKBAR_RESET:return v;default:return e}},confirmationbox:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.CONFIRMATION_BOX:return Object(c.a)({},e,{},t.payload);case o.a.CONFIRMATION_BOX_RESET:return h;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.EMAIL_DATA:return Object(c.a)({},e,{},t.payload);case o.a.EMAIL_RESET:return g;default:return e}},dynamicformReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forms:[],count:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.DYNAMIC_FORM:return Object(c.a)({},e,{forms:t.payload.forms});case o.a.ADD_DYNAMIC_FORM:return Object(c.a)({},e,{forms:[].concat(Object(f.a)(e.forms),Object(f.a)(t.payload.forms)),count:e.count+1});default:return e}},navigation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.NAVIGATION:return Object(c.a)({},e,{},t.payload);case o.a.NAVIGATION_RESET:return b;default:return e}},preview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.PREVIEW_DOCUMENT:return Object(c.a)({},e,{},t.payload);case o.a.RESET_PREVIEW_DOCUMENT:return Object(c.a)({},y);default:return e}}},w=Object(n.c)(Object(c.a)({login:s,auth:p,dashboard:i,payables:m,receivables:u,settings:d},N)),O=[l.a,Object(r.createLogger)({collapsed:!0,duration:!0})];t.a=Object(n.d)(w,n.a.apply(void 0,O))},345:function(e,t,a){},346:function(e,t,a){},39:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n);function l(e){var t=Object(n.useRef)(null);return function(e,t){var a=function(a){e.current&&!e.current.contains(a.target)&&t&&t(!1)};Object(n.useEffect)((function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}))}(t,e.onClickAway),r.a.createElement("div",Object.assign({ref:t},e),e.children)}},402:function(e,t,a){},403:function(e,t,a){},418:function(e,t,a){},426:function(e,t){},427:function(e,t){},429:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},450:function(e,t,a){},453:function(e,t,a){},454:function(e,t,a){},455:function(e,t,a){},456:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),o=a(12),s=a(57),i=a(14),m=a(15),u=a(17),d=a(16),p=a(43),f=a(18),E=a(155),v=a(66),h=a(25),b=a(491),g=a(487),y=a(33),N=a(22),w=Object(g.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},close:{padding:e.spacing(.5)}}}));var O={success:"bg-success",error:"bg-danger",warning:"bg-warning",info:"bg-info"},S=Object(o.b)((function(e){return{snackbar:e.snackbar}}),null)((function(e){var t=e.snackbar,a=t.msg,n=void 0===a?"":a,l=t.variant,c=void 0===l?"info":l,o=t.onSave,s=(w(),function(e,t){"clickaway"!==t&&y.a.dispatch({type:N.a.SNACKBAR_RESET})}),i=O[c];return r.a.createElement(b.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!!n,autoHideDuration:o?2e4:2e3,onClose:s},r.a.createElement("div",{className:"snackbar-wrapper ".concat(i)},r.a.createElement("span",{className:"snackbar-msg"},n),r.a.createElement("i",{onClick:s,className:"fa fa-times-circle snackbar-closeicon pull-right","aria-hidden":"true"}),o&&r.a.createElement("i",{onClick:function(){s(),o()},className:"fa fa-check snackbar-closeicon pull-right mr-3","aria-hidden":"true"})))})),j=Object(n.lazy)((function(){return a.e(19).then(a.bind(null,765))})),C=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},x=function(e){return r.a.createElement(C,{Child:r.a.createElement(j,e)})},k=a(9),_=a(3),D=a(6),P=a(44),A=a.n(P),I=a(19),T=a(4),M=a.n(T),R=a(493),L=a(11),F=a(7),B=a(47),Y=a.n(B),V=a(224),U=a(10);var K=function(e){var t=Object(n.useState)({}),a=Object(F.a)(t,2),l=a[0],c=a[1];function o(e){var t=e.target,a=t.name,n=t.value;c(Object(_.a)({},l,Object(k.a)({},a,n)))}return r.a.createElement("div",{className:"signup-container"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{alt:"loading",src:Y.a,height:"60",width:"60"}),r.a.createElement("span",{style:{color:"white"}}," Payference ")),r.a.createElement("div",{className:"form-widget"},r.a.createElement("div",{className:"inner-form-widget"},r.a.createElement("h3",{className:"t-global text-center"},"Tell us more about your company"),r.a.createElement("form",{className:"w-100 mt-3"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Company type")),r.a.createElement("select",{name:"company_type",onChange:o,className:"form-control"},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"private"},"Private"),r.a.createElement("option",{value:"public"},"Public")))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Industry")),r.a.createElement("input",{type:"text",name:"industry",onChange:o,className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Phone")),r.a.createElement("input",{type:"text",name:"phone",onChange:o,className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Employees size")),r.a.createElement("select",{name:"employee_size",onChange:o,className:"form-control"},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"1-10"},"1-10"),r.a.createElement("option",{value:"11-50"},"11-50"),r.a.createElement("option",{value:"51-100"},"51-100"),r.a.createElement("option",{value:"101-200"},"101-200"),r.a.createElement("option",{value:"201-500"},"201-500"),r.a.createElement("option",{value:"501-1000"},"501-1000"),r.a.createElement("option",{value:"1000+"},"1000+")))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Monthly non-payroll AP spend")),r.a.createElement("select",{name:"apspend",onChange:o,className:"form-control"},r.a.createElement("option",{value:""},"Select one"),r.a.createElement("option",{value:"$0 - $5,000"},"$0 - $5,000"),r.a.createElement("option",{value:"$5,001 - $10,000"},"$5,001 - $10,000"),r.a.createElement("option",{value:"$10,001 - $20,000"},"$10,001 - $20,000"),r.a.createElement("option",{value:"$20,001 - $50,000"},"$20,001 - $50,000"),r.a.createElement("option",{value:"$50,001 - $200,000"},"$50,001 - $200,000"),r.a.createElement("option",{value:"$200,001 - $500,000"},"$200,001 - $500,000"),r.a.createElement("option",{value:"$500,001+"},"$500,001+")))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"ERP software")),r.a.createElement("select",{name:"erp_software",onChange:o,className:"form-control"},r.a.createElement("option",{value:""},"Select one"),r.a.createElement("option",{value:"NetSuite"},"NetSuite"),r.a.createElement("option",{value:"QuickBooks Online"},"QuickBooks Online"),r.a.createElement("option",{value:"QuickBooks Desktop Pro / Enterprise"},"QuickBooks Desktop Pro / Enterprise"),r.a.createElement("option",{value:"Sage Intacct"},"Sage Intacct"),r.a.createElement("option",{value:"SAP Cloud ERP"},"SAP Cloud ERP"),r.a.createElement("option",{value:"Xero"},"Xero"),r.a.createElement("option",{value:"Other"},"Other")))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"w-100 text-right"},r.a.createElement(V.a,{className:"mt-3 mr-3 pull-left width-94px",variant:"secondary",onClick:function(){e.changeActiveIndex(2)}},"Skip"),r.a.createElement(V.a,{className:"mt-3 width-94px",variant:"primary",onClick:function(){var t=l.company_type,a=void 0===t?"":t,n=l.industry,r=void 0===n?"":n,c=l.phone,o=void 0===c?"":c,s=l.employee_size,i=void 0===s?"":s,m=l.apspend,u=void 0===m?"":m,d=l.erp_software,p=void 0===d?"":d,f={to:"admin@payference.com",subject:"New company details",message:"<p>New registration,</p><ul>"+"<li>Company type: ".concat(a,"</li>")+"<li>Industry: ".concat(r,"</li>")+"<li>Phone: ".concat(o,"</li>")+"<li>Employees size: ".concat(i,"</li>")+"<li>Monthly non-payroll AP spend: ".concat(u,"</li>")+"<li>ERP software: ".concat(p,"</li>")+"</ul><p>Thanks,</p><p>".concat(L.a.getUserName(),"</p>")},E=new FormData;E.set("metadata",JSON.stringify(f)),D.b.post("sendemail?supplier_id=1",E).then((function(t){e.changeActiveIndex(2)})).catch((function(t){e.changeActiveIndex(2),Object(U.a)(t)}))}},"Submit")))))))},z=a(5),q=a.n(z),H=a(13),G=a(51),$=(a(187),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showPassword:!1,email:{value:"",isFocused:!1,error:""},company:{value:"",isFocused:!1,error:""},password:{value:"",isFocused:!1,error:""},confirmPassword:{value:"",isFocused:!1,error:""},formError:""},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.password,r=t.confirmPassword;if(n.value===r.value){var l={email:a.state.email.value,password:a.state.password.value};l.email&&l.password&&A.a.post("".concat(I.a.API_URL,"user/addtosandbox"),l).then((function(e){A.a.get("".concat(I.a.API_URL,"token"),{auth:{username:l.email,password:l.password}}).then((function(e){L.a.set(e.data.token,e.data["expires at"]),L.a.setUserName(a.state.email.value,e.data.id);var t="/client/user?id=".concat(L.a.getUserId());D.a.get(t).then((function(t){var n=Object(_.a)({},e.data,{},M()(t,"data.result[0]",{}));L.a.setUserData(n),a.props.changeActiveIndex(1)}))})).catch((function(e){a.setState({formError:"Invalid Credentials please try again."})}))})).catch((function(e){a.props.changeActiveIndex(1),Object(U.a)(e)}))}else Object(H.a)("Passwords not matching","error")},a.onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,{value:r,isFocused:!0,error:r?"email"===n?G.a.test(r)?"":"Email not valid":"password"===n?G.b.test(r)?"":"8 characters, minimum 1 digit":"confirmPassword"===n&&r!==a.state.password.value?"Not matching":"":"required"}))},a.onBlurr=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,{value:r,isFocused:!1,error:a.state[n].error}))},a.togglePassword=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"showPassword";a.setState(Object(k.a)({},e,!a.state[e]))},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.showPassword,n=t.email,l=t.password,c=t.confirmPassword,o=t.showConfirmPassword,s=(t.formError,t.company);return r.a.createElement("div",{className:"signup-container"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{alt:"loading",src:Y.a,height:"60",width:"60"}),r.a.createElement("span",{style:{color:"white"}}," Payference ")),r.a.createElement("div",{className:"form-widget"},r.a.createElement("div",{className:"inner-form-widget"},r.a.createElement("h3",{className:"t-global text-center"},"Create an account"),r.a.createElement("p",{className:"t-global text-center"},"It's quick and easy"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:q()("clearfix field-wrapper mt-4",{"label-active":n.isFocused,"border border-danger":n.error&&!n.isFocused})},r.a.createElement("label",{className:q()("float-left",{focused:n.isFocused})},r.a.createElement("span",{className:q()("label",{focused:n.isFocused})},"Email"),r.a.createElement("input",{type:"text",name:"email",placeholder:n.isFocused?"":"Email",onFocus:this.onChange,onChange:this.onChange,onBlur:this.onBlurr,autoComplete:"off"})),r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{className:"helptxt"},n.error))),r.a.createElement("div",{className:q()("clearfix field-wrapper",{"label-active":l.isFocused,"border border-danger":l.error&&!l.isFocused})},r.a.createElement("label",{className:q()("float-left",{focused:l.isFocused})},r.a.createElement("span",{className:q()("label",{focused:l.isFocused})},"Password"),r.a.createElement("input",{type:a?"text":"password",placeholder:l.isFocused?"":"Password",onFocus:this.onChange,onChange:this.onChange,onBlur:this.onBlurr,name:"password",autoComplete:"off"})),r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{className:"helptxt"},l.error))),r.a.createElement("div",{className:q()("clearfix field-wrapper",{"label-active":c.isFocused,"border border-danger":c.error&&!c.isFocused})},r.a.createElement("label",{className:q()("float-left",{focused:c.isFocused})},r.a.createElement("span",{className:q()("label",{focused:c.isFocused})},"Confirm password"),r.a.createElement("input",{type:o?"text":"password",placeholder:c.isFocused?"":"Confirm Password",onFocus:this.onChange,onChange:this.onChange,onBlur:this.onBlurr,name:"confirmPassword",autoComplete:"off"})),r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{className:"helptxt"},c.error),r.a.createElement("span",{style:{position:"absolute",right:0},className:"show-hide-toggle",role:"presentation",onClick:function(){return e.togglePassword("showConfirmPassword")}},o?r.a.createElement("i",{className:"fa fa-eye",style:{cursor:"pointer",fontSize:"15px"},title:"Show Confirm Password"}):r.a.createElement("i",{className:"fa fa-eye-slash",style:{cursor:"pointer",fontSize:"15px"},title:"Show Confirm Password"})))),r.a.createElement("div",{className:q()("clearfix field-wrapper",{"label-active":s.isFocused})},r.a.createElement("label",{className:q()("float-left",{focused:s.isFocused})},r.a.createElement("span",{className:q()("label",{focused:s.isFocused})},"Company name"),r.a.createElement("input",{type:"text",name:"company",placeholder:s.isFocused?"":"Company",onFocus:this.onChange,onChange:this.onChange,onBlur:this.onBlurr,autoComplete:"off"})),r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{className:"helptxt"},s.error))),r.a.createElement(V.a,{className:"w-100 mt-3 p-3",variant:"primary",onClick:this.onSubmit,disabled:!c.value||c.error||l.error||n.error},"Sign up")))))}}]),t}(n.Component)),W=Object(o.b)((function(e){return{login:e}}),{})($),J=a(39),X=a(42),Z=a(74),Q=a(226),ee=a.n(Q),te=a(231),ae=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).saveAccounts=function(){var t=e.state.public_token,a=M()(e.state,"allaccounts",[]).filter((function(e){return e.isselected}));if(M()(a,"[0]","")){var n={public_token:t,accounts:a.map((function(e){return{account_id:e.account_id,name:e.name}}))};D.a.put("bankaccount",n).then((function(){Object(H.a)("Accounts Added successfully","success"),e.setState({showModal:!1})}))}},e.setallaccounts=function(t){e.setState({allaccounts:t})},e.state={allaccounts:[],showModal:!1},e.handleClick=e.handleClick.bind(Object(p.a)(e)),e.handleOnSuccess=e.handleOnSuccess.bind(Object(p.a)(e)),e.handleOnSuccess=e.handleOnSuccess.bind(Object(p.a)(e)),e}return Object(f.a)(t,e),Object(m.a)(t,[{key:"handleOnSuccess",value:function(e,t){var a=this,n={public_token:e,accounts:t.accounts.map((function(e){return{account_id:e.id,name:"".concat(M()(t,"institution.name","")," - ").concat(e.name)}}))};D.a.put("bankaccount",n).then((function(){Object(H.a)("Accounts Added successfully","success"),a.setState({showModal:!1}),a.props.getAccount&&a.props.getAccount()}))}},{key:"handleOnExit",value:function(){}},{key:"handleClick",value:function(e){var t=this;A.a.get("/transactions").then((function(e){t.setState({transactions:e.data})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.showModal,n=t.allaccounts,l=[{Header:r.a.createElement("input",{className:"md-checkbox bg-white",type:"checkbox",onChange:function(){var t=!(n&&!n.find((function(e){return!e.isselected})));e.setallaccounts(n.map((function(e){return Object(_.a)({},e,{isselected:t})})))},checked:M()(n,"[0]","")&&!n.find((function(e){return!e.isselected}))}),accessor:"isselected",Cell:function(t){return r.a.createElement("div",{className:" bg-white text-secondary",onClick:function(a){a.stopPropagation();var r=!t.value,l=Object(X.a)(n);l[t.index].isselected=r,e.setallaccounts(l)}},r.a.createElement("input",{className:"md-checkbox",style:{marginLeft:15},type:"checkbox",defaultChecked:t.value,checked:t.value}))},sortable:!1,filterable:!1,width:50},{Header:"Select all",accessor:"name",Cell:function(e){return M()(e,"value","")}}];return r.a.createElement("div",{className:"mt-2 p-1"},r.a.createElement(te.a,{show:a,size:"md",onHide:function(){return e.setState({showModal:!1})},className:"mt-4"},r.a.createElement(te.a.Header,{closeButton:!0},r.a.createElement(te.a.Title,{className:"h6"},"Select Accounts")),r.a.createElement(te.a.Body,null,r.a.createElement(Z.a,{noDataText:"No data found",minRows:n.length>10?10:n.length,resizable:!0,showPagination:!1,columns:l,data:n||[]})),r.a.createElement(te.a.Footer,{closeButton:!0},r.a.createElement(V.a,{onClick:this.saveAccounts},"Connect"))),r.a.createElement(ee.a,{clientName:"React Plaid Setup",env:I.a.PLAID_env,product:["transactions"],publicKey:I.a.PLAID_publicKey,onExit:this.handleOnExit,onSuccess:this.handleOnSuccess,classNaCustomPlaidLinkme:"test",className:"width-200px"},"Connect Bank Account"))}}]),t}(n.Component),ne=function(e){var t=r.a.useState(!1),a=Object(F.a)(t,2),n=a[0],l=a[1],c=r.a.useState(!1),o=Object(F.a)(c,2),s=o[0],i=o[1],m=L.a.getUserName()||"-";return r.a.createElement("div",{className:"link-account-page"},r.a.createElement(te.a,{show:s,size:"md",onHide:function(){return i(!1)},className:"mt-4"},r.a.createElement(te.a.Header,{closeButton:!0},r.a.createElement("div",{className:"row mt-3 ml-3"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("img",{alt:"loading",src:Y.a,height:"60",width:"60"})),r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("h2",null,"Thank you")),r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"To finish setup, contact us at "),r.a.createElement("strong",null," contact@payference.com"))))))),r.a.createElement("div",{className:"row w-100",id:"topHeader2"},r.a.createElement("div",{className:"logop-expanded switchButton p-3"},r.a.createElement("img",{className:"logo",src:Y.a,alt:"loading"}),"Payference"),r.a.createElement("div",{className:"col mp-0"},r.a.createElement("div",{className:"row mp-0"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("form",{className:"navbar-form navbar-left searchform"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"searchbar",placeholder:"Search for an invoice, customer or vendor"}),r.a.createElement("div",{className:"input-group-btn"},r.a.createElement("button",{className:"btn btn-default",type:"submit",id:"searchButton"},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})))))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"pull-right"},r.a.createElement("div",{className:"dropdown pull-right"},r.a.createElement("div",{className:"btn cursour-pointer",to:"#",role:"button",id:"profile","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return l(!n)}},r.a.createElement("div",{className:"text-icon-big rounded-circle"},m[0])),r.a.createElement(J.a,{onClickAway:l},r.a.createElement("div",{className:"dropdown-menu ".concat(n&&"open-profilepic-menu show"),id:"profilebox","aria-labelledby":"dropdownMenuLink"},r.a.createElement("div",{className:"text-icon-big rounded-circle"},m[0]),r.a.createElement("p",{className:"text-center"},m),r.a.createElement("div",{className:"row",id:"dtwrapper"},r.a.createElement("div",{className:"col-md-12 align-right"},r.a.createElement(h.b,{disabled:!0,onClick:function(){l(!1),Object(U.b)()}},"Signout"))))))))))),r.a.createElement("div",{className:"form-widget"},r.a.createElement("div",{className:"inner-form-widget"},r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"my-auto w-100"},r.a.createElement("h3",{className:"t-global text-center"},"Lets connect your bank account"),r.a.createElement("div",{className:"w-100 text-center"},r.a.createElement(ae,{disabled:!0})),r.a.createElement("div",{className:"w-100 mt-3",style:{minHeight:55}},r.a.createElement(V.a,{className:"mt-3 width-200px pull-left",variant:"secondary",onClick:function(){e.changeActiveIndex(1)}},"Edit company details"),r.a.createElement(V.a,{className:"mt-3 width-200px pull-right",variant:"primary",onClick:function(){i(!0)}},"Finish setup")))))))},re={0:{classes:"",styles:{}},1:{classes:"",styles:{}},2:{classes:"",styles:{}}},le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showPassword:!1,email:{value:"",isFocused:!1,error:""},password:{value:"",isFocused:!1,error:""},formError:"",activeIndex:0},a.onSubmit=function(e){e.preventDefault()},a.onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,{value:r,isFocused:!0,error:r?"":"required"}))},a.onBlurr=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,{value:r,isFocused:!1,error:a.state[n].error}))},a.togglePassword=function(){a.setState({showPassword:!a.state.showPassword})},a.changeActiveIndex=function(e){a.setState({activeIndex:e})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(L.a.getUserData());10==M()(e,"client_id","")&&this.setState({activeIndex:2})}},{key:"render",value:function(){var e=this.state,t=(e.showPassword,e.email,e.password,e.formError,e.activeIndex);return r.a.createElement("div",{style:re[t].styles,className:"signuppage"},r.a.createElement("div",null,r.a.createElement(R.a,{className:"w-100",slide:!1,activeIndex:t,indicators:!1},r.a.createElement(R.a.Item,null,r.a.createElement(W,{changeActiveIndex:this.changeActiveIndex})),r.a.createElement(R.a.Item,{className:""},r.a.createElement(K,{changeActiveIndex:this.changeActiveIndex})),r.a.createElement(R.a.Item,null,r.a.createElement(ne,{changeActiveIndex:this.changeActiveIndex})))))}}]),t}(n.Component),ce=Object(o.b)((function(e){return{login:e}}),{})(le),oe=a(76),se=(a(195),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={email:{value:"",isFocused:!1,error:""},formError:""},a.onSubmit=function(e){e.preventDefault();var t=e.target.elements.email;a.setState({email:{value:t.value,isFocused:!1,error:t.value?"":"required"}},(function(){var e=a.state.email;e.value&&D.a.post("/forgotpassword",{email:a.state.email.value}).then((function(t){alert("We emailed a password reset link to ".concat(e.value,". Please follow the instructions in that email.")),a.props.history.push("/login")})).catch((function(e){a.setState({formError:"Invalid Credentials please try again."})}))}))},a.onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,{value:r,isFocused:!0,error:r?"":"required"}))},a.onBlurr=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,{value:r,isFocused:!1,error:a.state[n].error}))},a.togglePassword=function(){a.setState({showPassword:!a.state.showPassword})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){document.title="Forgot Password - Payference"}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.formError;return r.a.createElement("div",{className:"loginpage-container"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{alt:"loading",src:Y.a,height:"60",width:"60"}),r.a.createElement("span",{style:{color:"white"}}," Payference ")),r.a.createElement("div",{className:"form-widget"},r.a.createElement("h2",{className:"title"},"Forgot password"),r.a.createElement("p",{className:"text-center"},"Please enter your email address, and we will send you a link to reset your password"),r.a.createElement(oe.a,{condition:a},r.a.createElement("span",{className:"form-error"},a)),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:q()("clearfix field-wrapper",{"label-active":t.isFocused})},r.a.createElement("label",{className:q()("float-left",{focused:t.isFocused})},r.a.createElement("span",{className:q()("label",{focused:t.isFocused})},"Email address"),r.a.createElement("input",{type:"text",name:"email",placeholder:t.isFocused?"":"Email address",onFocus:this.onChange,onChange:this.onChange,onBlur:this.onBlurr,autoComplete:"off"})),r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{className:"helptxt"},t.error))),r.a.createElement("div",{className:"link-wrapper text-center"},r.a.createElement(h.b,{to:"/login",className:"forgot-password"},"Back to login")),r.a.createElement("button",{className:"button",type:"submit"},"Submit"))))}}]),t}(n.Component)),ie=Object(o.b)((function(e){return{login:e}}),{})(se),me=a(58),ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={password:{value:"",isFocused:!1,error:""},confirmPassword:{value:"",isFocused:!1,error:""},showPassword:!1,showConfirmPassword:!1,formError:"",urlToken:Object(me.e)("token")},a.onSubmit=function(e){e.preventDefault();var t=e.target.elements,n=t.password,r=t.confirmPassword;a.setState({password:{value:n.value,isFocused:!1,error:n.value?a.state.password.error:"required"},confirmPassword:{value:r.value,isFocused:!1,error:r.value?a.state.password.error:"required"}},(function(){var e=a.state,t=e.password,n=e.confirmPassword;t.value&&n.value&&!t.error&&!n.error&&D.a.post("/user/setpassword",{password:a.state.password.value},{auth:{username:L.a.get(),password:a.state.password.value}}).then((function(){alert("Password reset successful."),a.props.history.push("/dashboard")})).catch((function(e){a.setState({formError:"Something went wrong please try again."})}))}))},a.onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,{value:r,isFocused:!0,error:""}))},a.onBlurr=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},n,{value:r,isFocused:!1,error:r?"password"===n?G.b.test(r)?"":"8 characters, minimum 1 digit":"confirmPassword"===n&&a.state.password.value!==r?"Not matching":"":"required"}))},a.chechPasswordEquality=function(){var e=a.state,t=e.password,n=e.confirmPassword;return n.value&&t.value!==n.value?"Password does't match":""},a.togglePassword=function(){a.setState({showPassword:!a.state.showPassword})},a.checkPasswordStrength=function(e){return""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.title="Reset Password - Payference",this.state.urlToken&&D.a.get("/token",{auth:{username:this.state.urlToken,password:Math.random().toString(20)}}).then((function(t){L.a.set(t.data.token,t.data["expires at"]),L.a.setUserName(t.data.username,t.data.id);var a="/client/user?id=".concat(t.data.id);D.a.get(a).then((function(a){var n=Object(_.a)({},t.data,{},M()(a,"data.result[0]",{}));L.a.setUserData(n),t.data.status||e.props.history.push("/reset-password")}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.password,n=t.formError,l=t.urlToken,c=t.confirmPassword,o=t.showConfirmPassword,s=t.showPassword;return r.a.createElement("div",{className:"loginpage-container"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{alt:"loading",src:Y.a,height:"60",width:"60"}),r.a.createElement("span",{style:{color:"white"}}," Payference ")),r.a.createElement("div",{className:"form-widget"},r.a.createElement("h2",{className:"title"},"Enter Password"),l?null:r.a.createElement("p",{className:"text-center"},"Welcome to Payference! please select a password to get started"),r.a.createElement(oe.a,{condition:n},r.a.createElement("span",{className:"form-error"},n)),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:q()("clearfix field-wrapper",{"label-active":a.isFocused,"border border-danger":a.error&&!a.isFocused})},r.a.createElement("label",{className:q()("float-left",{focused:a.isFocused})},r.a.createElement("span",{className:q()("label",{focused:a.isFocused})},"Password"),r.a.createElement("input",{type:s?"text":"password",name:"password",placeholder:a.isFocused?"":"8 characters, minimum 1 digit",onFocus:this.onChange,onChange:this.onChange,onBlur:this.onBlurr,autoComplete:"off"})),r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{className:"helptxt"},a.error))),r.a.createElement("div",{className:q()("clearfix field-wrapper",{"label-active":c.isFocused,"border border-danger":c.error&&!c.isFocused})},r.a.createElement("label",{className:q()("float-left",{focused:c.isFocused})},r.a.createElement("span",{className:q()("label",{focused:c.isFocused})},"Confirm Password"),r.a.createElement("input",{type:o?"text":"password",name:"confirmPassword",placeholder:c.isFocused?"":"Confirm Password",onFocus:this.onChange,onChange:this.onChange,onBlur:this.onBlurr,autoComplete:"off"})),r.a.createElement("div",{className:"float-right"},r.a.createElement("span",{className:"helptxt"},c.error),r.a.createElement("span",{className:"show-hide-toggle",role:"presentation",onClick:function(){return e.setState({showConfirmPassword:!o})}},o?r.a.createElement("i",{className:"fa fa-eye",style:{cursor:"pointer",fontSize:"15px"},title:"Show Password"}):r.a.createElement("i",{className:"fa fa-eye-slash",style:{cursor:"pointer",fontSize:"15px"},title:"Show Password"})))),r.a.createElement("button",{className:"btn btn-primary w-100 p-3 mt-2",type:"submit",disabled:!c.value||c.error||a.error},"Submit"))))}}]),t}(n.Component),de=(a(345),Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(8)]).then(a.bind(null,775))}))),pe=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},fe=function(e){return r.a.createElement(pe,{Child:r.a.createElement(de,e)})},Ee=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,776))})),ve=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},he=function(e){return r.a.createElement(ve,{Child:r.a.createElement(Ee,e)})},be=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(20)]).then(a.bind(null,768))})),ge=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},ye=function(e){return r.a.createElement(ge,{Child:r.a.createElement(be,e)})},Ne=(a(236),Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(14),a.e(16)]).then(a.bind(null,771))}))),we=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},Oe=function(e){return r.a.createElement(we,{Child:r.a.createElement(Ne,e)})},Se=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(12)]).then(a.bind(null,772))})),je=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},Ce=function(e){return r.a.createElement(je,{Child:r.a.createElement(Se,e)})},xe=(a(106),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row px-15",id:"dashboardBody"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body payrollmanage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{style:{clear:"both"}},r.a.createElement("div",{className:"titletranshist",style:{fontSize:"18px",paddingBottom:"15px",float:"left"}},r.a.createElement(h.b,{to:"/settings",key:"back"},r.a.createElement("i",{className:"fa fa-arrow-left",style:{color:"#ddd",marginRight:"5px"}})," "),"\xa0Payroll - Entity"),r.a.createElement("div",{className:"dropdown float-right"},"DEV"===I.a.MODE&&r.a.createElement("a",{className:"btn dropdown-toggle btn-primary",href:"#",role:"button",id:"export","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Export"),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuLink",id:"exportlist"},r.a.createElement("a",{href:"#"},"Export CSV"),r.a.createElement("a",{href:"#"},"Export Excel"))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"titletranshist",style:{fontSize:18,marginBottom:15}},"Add Entity"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Entity"),r.a.createElement("input",{type:"text",name:"",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group",style:{textAlign:"right",marginTop:30}},r.a.createElement("button",{className:"btn btn-primary payrollsumbtn"},"Submit")))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"titletranshist",style:{fontSize:18,marginBottom:15}},"List of entity"),r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"payrolltable"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sr no."),r.a.createElement("th",null,"Entity"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete")),r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,"Entity One"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete"))),r.a.createElement("tr",null,r.a.createElement("td",null,"2"),r.a.createElement("td",null,"Entity Two"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete"))),r.a.createElement("tr",null,r.a.createElement("td",null,"3"),r.a.createElement("td",null,"Entity Three"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete"))),r.a.createElement("tr",null,r.a.createElement("td",null,"4"),r.a.createElement("td",null,"Entity Four"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete")))))))))))))))))}}]),t}(n.Component)),ke=Object(o.b)((function(e){return{}}),{})(xe),_e=a(496),De=a(30),Pe=Object(_.a)({},{name:null,currency:null}),Ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={postdata:null,allentities:[],line:"",isLoading:!0},a.updatepostdata=function(e){a.setState({postdata:Object(_.a)({},a.state.postdata,Object(k.a)({},e.target.name,e.target.value))})},a.deleteRecord=function(e){Object(De.c)({variant:"warning",msg:"Are you sure you want to delete this Entity?",onSave:function(){Object(De.b)(),D.a.delete("payroll/delete?id=".concat(e)).then((function(){return a.getdata()})).catch((function(e){return Object(U.a)(e)}))}})},a.onSubmit=function(){var e=a.state,t=e.postdata,n=t.name,r=t.currency,l=t.id,c=e.line;if(n&&r){var o={records:[a.state.postdata]};"new"!==c?D.a.put("payroll/setting?id=".concat(l),o).then((function(){a.setState({postdata:null,line:""}),a.getdata()})).catch((function(e){return Object(U.a)(e)})):D.a.put("payroll/setting",o).then((function(){a.setState({postdata:null,line:""}),a.getdata()})).catch((function(e){return Object(U.a)(e)}))}},a.getdata=function(){D.a.get("payroll/setting").then((function(e){a.setState({allentities:M()(e,"data.result",[]),isLoading:!1})})).catch((function(e){return Object(U.a)(e)}))},a.renderEditableRow=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"name",className:"form-control",placeholder:"Enter ...",onChange:function(e){return a.updatepostdata(e)},defaultValue:M()(e,"name","")}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"currency",className:"form-control",placeholder:"Enter ...",onChange:function(e){return a.updatepostdata(e)},defaultValue:M()(e,"currency","")}))),r.a.createElement("td",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"btn payrollsumbtn cursor-pointer",onClick:a.onSubmit},r.a.createElement("i",{className:"fa fa-save color-blue"})),r.a.createElement("div",{onClick:function(){return a.setState({postdata:null,line:""})},className:"btn mr-3 cursor-pointer"},r.a.createElement("i",{className:"fa fa-remove color-blue"})))))},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getdata()}},{key:"render",value:function(){var e=this,t=this.state,a=t.postdata,n=t.line,l=t.allentities,c=void 0===l?[]:l,o=t.isLoading;return r.a.createElement("div",{className:"row px-15",id:"dashboardBody"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body payrollmanage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{style:{clear:"both"}},r.a.createElement("div",{className:"titletranshist",style:{fontSize:"18px",paddingBottom:"15px",float:"left"}},r.a.createElement(h.b,{to:"/settings",key:"back"},r.a.createElement("i",{className:"fa fa-arrow-left",style:{color:"#ddd",marginRight:"5px"}})," "),"\xa0Payroll - Entity"))),r.a.createElement(_e.a,{onClickAway:function(){return"new"===n?e.setState({postData:null,line:""}):e.onSubmit()}},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"titletranshist",style:{fontSize:18,marginBottom:15}},!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Entity"),r.a.createElement("i",{onClick:function(t){t.stopPropagation(),e.setState({postdata:Pe,line:"new"})},className:"fa fa-plus cashinflowclick",title:"Click to add item","aria-hidden":"true"}))),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"titletranshist",style:{fontSize:18,marginBottom:15}},"List of entity"),r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"payrolltable"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Entity"),r.a.createElement("th",null,"Currency"),r.a.createElement("th",null,"Action")),o?r.a.createElement("tr",null,r.a.createElement("td",{colspan:"3",className:"text-center"},"Loading..")):null,"new"===n?this.renderEditableRow():null,c&&c.map((function(t,l){return n===l?e.renderEditableRow(a):r.a.createElement("tr",{className:"cursor-pointer",title:"Edit",onClick:function(){e.setState({postdata:t,line:l})}},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.currency),r.a.createElement("td",null))})))))))))))))))))}}]),t}(n.Component),Ie=(Object(o.b)((function(e){return{}}),{})(Ae),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row px-15",id:"dashboardBody"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body payrollmanage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{style:{clear:"both"}},r.a.createElement("div",{className:"titletranshist",style:{fontSize:"18px",paddingBottom:"15px",float:"left"}},r.a.createElement(h.b,{to:"/settings",key:"back"},r.a.createElement("i",{className:"fa fa-arrow-left",style:{color:"#ddd",marginRight:"5px"}})," "),"\xa0Payroll - Entity"),r.a.createElement("div",{className:"dropdown float-right"},r.a.createElement("a",{className:"btn dropdown-toggle btn-primary",href:"#",role:"button",id:"export","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Export"),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuLink",id:"exportlist"},r.a.createElement("a",{href:"#"},"Export CSV"),r.a.createElement("a",{href:"#"},"Export Excel"))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"titletranshist",style:{fontSize:18,marginBottom:15}},"Add Entity"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Entity"),r.a.createElement("input",{type:"text",name:"",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group",style:{textAlign:"right",marginTop:30}},r.a.createElement("button",{className:"btn btn-primary payrollsumbtn"},"Submit")))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"titletranshist",style:{fontSize:18,marginBottom:15}},"List of entity"),r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"payrolltable"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sr no."),r.a.createElement("th",null,"Entity"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete")),r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,"Entity One"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete"))),r.a.createElement("tr",null,r.a.createElement("td",null,"2"),r.a.createElement("td",null,"Entity Two"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete"))),r.a.createElement("tr",null,r.a.createElement("td",null,"3"),r.a.createElement("td",null,"Entity Three"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete"))),r.a.createElement("tr",null,r.a.createElement("td",null,"4"),r.a.createElement("td",null,"Entity Four"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete")))))))))))))))))}}]),t}(n.Component)),Te=Object(o.b)((function(e){return{}}),{})(Ie),Me=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row px-15",id:"dashboardBody"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body payrollmanage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{style:{clear:"both"}},r.a.createElement("div",{className:"titletranshist",style:{fontSize:"18px",paddingBottom:"15px",float:"left"}},r.a.createElement(h.b,{to:"/settings",key:"back"},r.a.createElement("i",{className:"fa fa-arrow-left",style:{color:"#ddd",marginRight:"5px"}})," "),"\xa0Payroll - Entity"),r.a.createElement("div",{className:"dropdown float-right"},r.a.createElement("a",{className:"btn dropdown-toggle btn-primary",href:"#",role:"button",id:"export","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Export"),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuLink",id:"exportlist"},r.a.createElement("a",{href:"#"},"Export CSV"),r.a.createElement("a",{href:"#"},"Export Excel"))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"titletranshist",style:{fontSize:18,marginBottom:15}},"Add Entity"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Entity"),r.a.createElement("input",{type:"text",name:"",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group",style:{textAlign:"right",marginTop:30}},r.a.createElement("button",{className:"btn btn-primary payrollsumbtn"},"Submit")))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"titletranshist",style:{fontSize:18,marginBottom:15}},"List of entity"),r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"payrolltable"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sr no."),r.a.createElement("th",null,"Entity"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete")),r.a.createElement("tr",null,r.a.createElement("td",null,"1"),r.a.createElement("td",null,"Entity One"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete"))),r.a.createElement("tr",null,r.a.createElement("td",null,"2"),r.a.createElement("td",null,"Entity Two"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete"))),r.a.createElement("tr",null,r.a.createElement("td",null,"3"),r.a.createElement("td",null,"Entity Three"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete"))),r.a.createElement("tr",null,r.a.createElement("td",null,"4"),r.a.createElement("td",null,"Entity Four"),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"})," Edit")),r.a.createElement("td",null,r.a.createElement("a",{href:"#",className:"btn  editdltbtn"},r.a.createElement("i",{className:"fa fa-trash-o","aria-hidden":"true"})," Delete")))))))))))))))))}}]),t}(n.Component),Re=Object(o.b)((function(e){return{}}),{})(Me),Le=(a(346),a(196),a(45)),Fe=a(68),Be=a.n(Fe),Ye=a(95),Ve=a.n(Ye),Ue=a(69),Ke=function(e){return{type:N.a.NAVIGATION,payload:e}};var ze=Object(o.b)((function(e){return{openleftnav:e.navigation.openleftnav}}),(function(e){return Object(Le.b)({setNavigation:Ke},e)}))((function(e){var t=e.openleftnav,a=e.setNavigation,l=e.history,c=Object(n.useState)(!1),o=Object(F.a)(c,2),s=o[0],i=o[1],m=Object(n.useState)([]),u=Object(F.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(!1),E=Object(F.a)(f,2),v=E[0],b=E[1],g=L.a.getUserName()||"-",y=Object(n.useRef)(Ve()((function(e){return N(e)}),500)).current,N=function(e){var t="search?per_page=100&search_text=".concat(e);e?(b(!0),p([]),D.c.get(t).then((function(e){b(!1);var t=e.data.result.sort((function(e,t){return"Customer"===e.model_type?-1:"Vendor"===e.model_type&&"Customer"!==t.model_type?-1:"AR_Invoice"===e.model_type&&"Vendor"!==t.model_type&&"Customer"!==t.model_type?-1:"AP_Invoice"===e.model_type&&"Vendor"!==t.model_type&&"Customer"!==t.model_type&&"AR_Invoice"!==t.model_type?-1:1}));p(t)})).catch((function(e){return Object(U.a)(e)}))):p([])},w={AP_Invoice:"Payables",AR_Invoice:"Receivables",Customer:"Customers",Vendor:"Vendors",OrderBacklog:"Backlog"};return r.a.createElement("div",{className:"row menufixed",id:"topHeader"},r.a.createElement("div",{className:"logop-expanded switchButton"},r.a.createElement("div",{"data-toggle":"sidebar-colapse",onClick:function(){a({openleftnav:!t})}},r.a.createElement("i",{id:"swit",className:"fas fa-fw mr-3 ".concat(t?"fa-chevron-left":"fa-chevron-right"," cursour-pointer")})," "),r.a.createElement("img",{className:"logo",src:Y.a,alt:"loading"}),"Payference"),r.a.createElement("div",{className:"col mp-0"},r.a.createElement("div",{className:"row mp-0"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("form",{className:"navbar-form navbar-left searchform"},r.a.createElement("div",{className:"input-group"},r.a.createElement(Ue.a,{suggestions:Be()(d.map((function(e){return{id:e.id,type:e.model_type,name:"<strong>".concat("OrderBacklog"===e.model_type?"Order ":"").concat(w[e.model_type],":</strong> ").concat(e.display_string)}})),"id"),placeholder:"Search for an invoice, customer or vendor",inputClassName:"searchbar",inputWrapperClassName:"search-wrapper",getSelected:function(e){e&&(p([]),l.push("/".concat(w[e.type].toLowerCase(),"/").concat(e.id)))},search:function(e){return y(e)},isLoading:v})))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"pull-right"},r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"btn cursour-pointer",to:"#",role:"button",id:"profile","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return i(!s)}},r.a.createElement("div",{className:"text-icon-big rounded-circle"},g[0])),r.a.createElement(J.a,{onClickAway:i},r.a.createElement("div",{className:"dropdown-menu ".concat(s&&"open-profilepic-menu show"),id:"profilebox","aria-labelledby":"dropdownMenuLink"},r.a.createElement("div",{className:"text-icon-big rounded-circle"},g[0]),r.a.createElement("p",{title:g,className:"text-center"},g),r.a.createElement("div",{className:"row",id:"dtwrapper"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(h.b,{onClick:function(){return i(!1)},to:"/settings/profile"},"Profile")),r.a.createElement("div",{className:"col-md-6 align-right"},r.a.createElement(h.b,{disabled:!0,onClick:function(){i(!1),Object(U.b)()}},"Signout")))))))))))})),qe=a(490),He=a(495),Ge=a(494),$e=[{name:"Dashboard",ilink:"fas fa-tachometer-alt mr-3",route:"/dashboard",localStorageKey:"dashboardrange",subStorages:[]},{name:"Payroll",ilink:"fntw fas fa-money mr-3",route:"/payroll",localStorageKey:"payrollFilters",subStorages:[]},{name:"Payables",ilink:"fntw fas fa-file-invoice-dollar mr-3",route:"/payables",localStorageKey:"payableFilters",subStorages:[],subNav:"DEV"===I.a.MODE?[{name:"Purchase Orders",ilink:"fntw fas fa-file-invoice-dollar mr-3",route:"/purchase-orders",localStorageKey:"payablePurchaseOrderFilters",subStorages:[]}]:null},{name:"Receivables",ilink:"fas fa-hand-holding-usd mr-3",route:"/receivables",localStorageKey:"receivableFilters",subStorages:[],subNav:[{name:"Order Backlog",ilink:"fas fa-hand-holding-usd mr-3",route:"/backlog",localStorageKey:"backlogFilters",subStorages:[]}]},{name:"Vendors",ilink:"fas fa-user-tag mr-3",route:"/vendors",localStorageKey:"vendorsFilters",subStorages:["vendor_activeTab"]},{name:"Customers",ilink:"fas fa-users mr-3",route:"/customers",localStorageKey:"customersFilters",subStorages:["customer_activeTab","customer_details_activeTab"]},{name:"Reports",ilink:"fntw fas fa-list mr-3",route:"/reports",localStorageKey:"",subStorages:[]},{name:"Insights",ilink:"fntw fas fa-chart-line mr-3",route:"/insights",localStorageKey:"",subStorages:[]},{name:"Settings",ilink:"fas fa-cog mr-3",route:"/settings",localStorageKey:"",subStorages:[]}];var We=Object(v.g)(Object(o.b)((function(e){return{openleftnav:e.navigation.openleftnav}}),(function(e){return Object(Le.b)({setNavigation:Ke},e)}))((function(e){var t=e.openleftnav,a=e.history;function n(e){$e.forEach((function(t){t.localStorageKey!==e&&(t.subStorages.forEach((function(e){localStorage.removeItem(e)})),localStorage.removeItem(t.localStorageKey))}))}return r.a.useEffect((function(){var e=M()(window,"location.pathname","").split("/");console.log("currentPageArray: ",e)}),[]),r.a.createElement("div",{id:"sidebar-container",className:t?"sidebar-expanded":"sidebar-collapsed"},r.a.createElement("div",{className:"list-group sidebarfixed"},$e.map((function(e,l){return r.a.createElement("div",null,r.a.createElement(qe.a,{className:"bg-light-grey",defaultActiveKey:e.subNav&&0!==e.subNav.filter((function(e){return M()(a,"location.pathname","").includes(e.route)})).length?l:null},r.a.createElement(qe.a.Toggle,{className:"m-0 p-0 bg-light-grey border-0",as:He.a.Header,eventKey:l},r.a.createElement(h.c,{key:e.name,to:e.route,activeClassName:"activet",onClick:function(t){e.isdisabled||M()(a,"location.pathname","")===e.route?(t.preventDefault(),localStorage.removeItem(e.localStorageKey),e.subStorages.forEach((function(e){localStorage.removeItem(e)})),a.push("/"),a.push(e.route)):n(e.localStorageKey)},className:"list-group-item list-group-item-action flex-column align-items-start, ".concat(e.isdisabled?"cursour-not-allowed text-secondary":"")},r.a.createElement("div",{className:"d-flex w-100 justify-content-start align-items-center"},r.a.createElement(Ge.a,{title:e.name,placement:"right"},r.a.createElement("i",{style:{width:"15px"},className:e.ilink,"data-toggle":"tooltip","data-placement":"right"})),r.a.createElement("span",{className:t?"menu-collapsed":"menu-collapsed d-none"},e.name)))),r.a.createElement(qe.a.Collapse,{className:"m-0 p-0",eventKey:l},r.a.createElement("div",null,e.subNav?r.a.createElement("div",{className:"subnav ".concat(t?"ml-4":"")},e.subNav.map((function(e){return r.a.createElement(h.c,{key:e.name,to:e.route,activeClassName:"activet",onClick:function(t){e.isdisabled||M()(a,"location.pathname","")===e.route?(t.preventDefault(),localStorage.removeItem(e.localStorageKey),e.subStorages.forEach((function(e){localStorage.removeItem(e)})),a.push("/"),a.push(e.route)):n(e.localStorageKey)},className:"list-group-item list-group-item-action flex-column align-items-start ".concat(e.isdisabled?"cursour-not-allowed text-secondary":"")},r.a.createElement("div",{className:"d-flex w-100 justify-content-start align-items-center"},r.a.createElement(Ge.a,{title:e.name,placement:"right"},r.a.createElement("i",{style:{width:"15px"},className:e.ilink,"data-toggle":"tooltip","data-placement":"right"})),r.a.createElement("span",{className:t?"menu-collapsed":"menu-collapsed d-none"},e.name)))}))):""))))}))))}))),Je=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(15)]).then(a.bind(null,770))})),Xe=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},Ze=function(e){return r.a.createElement(Xe,{Child:r.a.createElement(Je,e)})},Qe=Object(n.lazy)((function(){return Promise.all([a.e(10),a.e(4),a.e(18)]).then(a.bind(null,777))})),et=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},tt=function(e){return r.a.createElement(et,{Child:r.a.createElement(Qe,e)})},at=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(13)]).then(a.bind(null,778))})),nt=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},rt=function(e){return r.a.createElement(nt,{Child:r.a.createElement(at,e)})},lt=Object(n.lazy)((function(){return Promise.all([a.e(4),a.e(11)]).then(a.bind(null,774))})),ct=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},ot=function(e){return r.a.createElement(ct,{Child:r.a.createElement(lt,e)})},st=Object(n.lazy)((function(){return a.e(21).then(a.bind(null,767))})),it=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},mt=function(e){return r.a.createElement(it,{Child:r.a.createElement(st,e)})},ut=(a(403),function(e){var t=Object(n.useState)(""),a=Object(F.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),s=Object(F.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(""),d=Object(F.a)(u,2),p=d[0],f=d[1],E=Object(n.useState)(""),v=Object(F.a)(E,2),h=v[0],b=v[1],g=Object(n.useState)({account:"",netSuiteKey:"",consumerSecret:"",tokenKey:"",tokenSecret:""}),y=Object(F.a)(g,2),N=y[0],w=y[1];Object(n.useEffect)((function(){L.a.getIsAdmin()?O():e.history.push("/dashboard")}),[]);var O=function(){D.a.get("integration/configuration").then((function(e){var t=e.data.result;t&&(c(t.erp_endpoint_ap),m(t.erp_endpoint_ar),f(t.erp_endpoint_ob),b(t.erp_type),w({account:t.ns_account,netSuiteKey:t.ns_consumer_key,consumerSecret:t.ns_consumer_secret,tokenKey:t.ns_token_key,tokenSecret:t.ns_token_secret}))}))},S=function(e){return e&&"X".repeat(10)+e.substr(e.length-4)};return r.a.createElement("div",{className:"row integration-form"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Payables query Endpoint"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:S(l),onChange:function(e){return c(e.target.value)},placeholder:"Payables query Endpoint"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Receivables query Endpoint"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:S(i),onChange:function(e){return m(e.target.value)},placeholder:"Receivables query Endpoint"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Order Backlog query Endpoint"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:S(p),onChange:function(e){return f(e.target.value)},placeholder:"Order Backlog query Endpoint"}))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"ERP"),r.a.createElement("select",{className:"form-control",defaultValue:h,onChange:function(e){return b(e.target.value)}},r.a.createElement("option",{disabled:!0,selected:!0},"Select ERP"),r.a.createElement("option",{value:"netsuite"},"Netsuite"))))),"NETSUITE"===h?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Netsuite Account"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:S(N.account),onChange:function(e){return w(Object(_.a)({},N,{account:e.target.value}))},placeholder:"Netsuite Account"}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Netsuite Consumer Key"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:S(N.netSuiteKey),onChange:function(e){return w(Object(_.a)({},N,{netSuiteKey:e.target.value}))},placeholder:"Netsuite Consumer Key"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Netsuite Consumer Secret"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:S(N.consumerSecret),onChange:function(e){return w(Object(_.a)({},N,{consumerSecret:e.target.value}))},placeholder:"Netsuite Consumer Secret"}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Netsuite Token Key"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:S(N.tokenKey),onChange:function(e){return w(Object(_.a)({},N,{tokenKey:e.target.value}))},placeholder:"Netsuite Token Key"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Netsuite Token Secret"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:S(N.tokenSecret),onChange:function(e){return w(Object(_.a)({},N,{tokenSecret:e.target.value}))},placeholder:"Netsuite Token Secret"}))))):null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("button",{disabled:!l||!i||!p||!h||!N.account||!N.netSuiteKey||!N.consumerSecret||!N.tokenKey||!N.tokenSecret,onClick:function(){var e={erp_endpoint_ap:l,erp_endpoint_ar:i,erp_endpoint_ob:p,erp_type:h,ns_account:N.account,ns_consumer_key:N.netSuiteKey,ns_consumer_secret:N.consumerSecret,ns_token_key:N.tokenKey,ns_token_secret:N.tokenSecret};D.a.post("integration/configuration",Object(_.a)({},e)).then((function(){O(),Object(H.a)("Data integration updated successfully!","success")})).catch((function(e){return Object(U.a)(e)}))},className:"btn btn-primary"},"Submit")))))}),dt=(a(167),{action:"",editLine:"",editableData:null,second:"",minute:"",hour:"",day:"",day_of_week:""}),pt=[{id:"mon",name:"Monday"},{id:"tue",name:"Tuesday"},{id:"wed",name:"Wednesday"},{id:"thu",name:"Thursday"},{id:"fri",name:"Friday"},{id:"sat",name:"Saturday"},{id:"sun",name:"Sunday"}],ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state=Object(_.a)({},dt),a.resetState=function(){return a.setState(Object(_.a)({},dt))},a.addNewRow=function(){var e=a.props.type,t=a.state.editableData;if("edit"===a.state.action)return r.a.createElement(_e.a,{onClickAway:function(n){n.stopPropagation(),a.submitEntry("edit",t,e),a.resetState()}},r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control ".concat(a.state.minute>59||a.state.minute<0?"error":""),min:0,max:59,defaultValue:t.minute,onInput:function(e){return a.setState({minute:e.target.value})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",min:0,max:23,defaultValue:t.hour,onInput:function(e){return a.setState({hour:e.target.value})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:0,max:31,className:"form-control",defaultValue:t.day,onInput:function(e){return a.setState({day:e.target.value})}})),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",defaultValue:t.day_of_week,onChange:function(e){return a.setState({day_of_week:e.target.value})}},r.a.createElement("option",{value:"",selected:!0},"None"),pt.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))))},a.renderRows=function(e,t){var n=a.state,l=n.editableData,c=n.editLine;if("job"===e)return t.map((function(e,t){if(!l||l&&l.id!==e.id){if(t!==c)return r.a.createElement("tr",{onClick:function(){return a.setState({action:"edit",editableData:e,editLine:t,minute:e.minute,hour:e.hour,day:e.day,day_of_week:e.day_of_week})}},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.minute),r.a.createElement("td",null,e.hour),r.a.createElement("td",null,e.day),r.a.createElement("td",null,pt.find((function(t){return e.day_of_week==t.id}))&&pt.find((function(t){return e.day_of_week==t.id})).name));a.addNewRow()}return a.addNewRow()}))},a.submitEntry=function(e,t,n){var r="scheduledjob?id=".concat(t.id),l=a.state,c=l.minute,o=l.hour,s=l.day,i=l.day_of_week;if(c==t.minute&&o==t.hour&&s==t.day&&i==t.day_of_week)a.resetState();else if(c||o||s||i)if(c>59||o>23||s>31)Object(H.a)("Invalid input","error"),a.resetState();else if(c||o||s||i){var m={minute:c,hour:o,day:s,day_of_week:i};D.a.post(r,Object(_.a)({},m)).then((function(e){a.props.reloadListing(),a.resetState();Object(H.a)("Updated successfully","success")}))}else a.resetState();else a.resetState()},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.header,a=e.data,n=e.type,l=this.state.action;return r.a.createElement("div",{className:"clearfix"},r.a.createElement("table",{className:"custom-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{style:{width:(0===t||3===t||4===t)&&"10%"}},e)})))),r.a.createElement("tbody",null,a.length||l?this.renderRows(n,a):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:t.length,className:"text-center"},"No Entries")))))}}]),t}(r.a.Component),Et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getJobs=function(){D.a.get("scheduledjob").then((function(e){a.setState({jobs:e.data.result})})).catch((function(e){return Object(U.a)(e)}))},a.state={jobs:[]},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getJobs()}},{key:"render",value:function(){var e=this.state.jobs;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(ft,{type:"job",data:e,header:["Job Id","Name","Minute","Hour","Day","Day of week"],reloadListing:this.getJobs}))))))}}]),t}(r.a.Component);var vt=function(e){var t=e.location.hash;return r.a.createElement("div",{className:"row",id:"dashboardBody"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"paynewdetsec"},r.a.createElement("div",{className:"float-left",style:{fontSize:"18px",paddingBottom:"15px",float:"left"}},r.a.createElement(h.b,{to:"/settings",title:"Back"},r.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true",style:{color:"#ddd",marginRight:"10px"}})),"Data")),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"col-md-6",id:"integrations"},r.a.createElement(ut,e)),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#backgroundjobs"===t&&"0",id:"backgroundjobs"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Background Jobs")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(Et,e))))))))))};a(150);var ht=Object(o.b)((function(e){return{}}),{})((function(e){var t=Object(n.useState)({id:0,name:"Storcentric 2",logo:"1",industry:"",company_type:"",address:""}),a=Object(F.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(F.a)(o,2),i=(s[0],s[1]),m=Object(n.useState)(!0),u=Object(F.a)(m,2),d=(u[0],u[1]);Object(n.useEffect)((function(){D.a.get("/client").then((function(e){if(null!=e.data.result&&null!=e.data.result[0]){var t={id:p(e.data.result[0].id),name:p(e.data.result[0].name),department:p(e.data.result[0].department),role:e.data.result[0].role||"1",email:p(e.data.result[0].email),phone:p(e.data.result[0].phone),username:p(e.data.result[0].username)};c(t),d(!1)}})).catch((function(e){return Object(U.a)(e)}))}),[]);var p=function(e){return e||""};return r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"0"},r.a.createElement(qe.a.Collapse,{className:"p-2 px-3",eventKey:"0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Company name")),r.a.createElement("input",{type:"text",maxLength:"50",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",null,r.a.createElement("label",null,"Upload logo")),r.a.createElement("input",{type:"file"}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Company type")),r.a.createElement("select",{className:"form-control"},r.a.createElement("option",{value:!0},"Select"),r.a.createElement("option",{value:!0},"Private"),r.a.createElement("option",{value:!0},"Public")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Industry")),r.a.createElement("input",{type:"text",maxLength:"50",className:"form-control",id:!0,placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Employees size")),r.a.createElement("input",{type:"number",className:"form-control",placeholder:"Enter ...",min:0}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Street address")),r.a.createElement("input",{type:"text",className:"form-control",maxLength:"200",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"State")),r.a.createElement("input",{type:"text",maxLength:"50",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"City")),r.a.createElement("input",{type:"text",maxLength:"50",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Country")),r.a.createElement("input",{type:"text",maxLength:"50",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Zip code")),r.a.createElement("input",{type:"text",pattern:"[0-9]{5}",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4",id:"accounts"},r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{type:"submit",onClick:function(e){i(!0);D.a.post("/client",l).then((function(e){i(!1),Object(H.a)("Profile updated successfully!","success")})).catch((function(e){return Object(U.a)(e)}))},className:"btn subbtn btn-success"},"Update"))))))})),bt=a(153),gt=a.n(bt),yt=a(21),Nt=a.n(yt),wt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={editmode:!1,value:M()(a.props.value),showpencil:!1},a.setEditMode=function(e){a.setState({editmode:e});var t=a.state.value;t!==a.props.value&&a.props.updateValue(t)},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({value:this.props.value})}},{key:"componentWillReceiveProps",value:function(e){this.state.value!==e.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this,t=this.props.iscellcomponent,a=void 0!==t&&t,n=this.state,l=n.editmode,c=n.value,o=n.showpencil;return l?r.a.createElement(J.a,{onClickAway:this.setEditMode},r.a.createElement("form",{className:"mr-2",onSubmit:function(){return e.setEditMode(!1)}},r.a.createElement("input",{id:"amount-editor",type:"number",className:"text-right",onChange:function(t){e.setState({value:M()(t,"target.value","")})},onKeyDown:function(t){"Tab"!==t.key&&"Enter"!==t.key||(t.preventDefault(),e.setEditMode(!1))},onBlur:function(){return e.setEditMode(!1)},value:c}))):r.a.createElement("div",{className:"text-right mr-2",onClick:function(t){t.stopPropagation(),e.setState({editmode:!0},(function(){document.getElementById("amount-editor").focus()}))},onMouseEnter:function(){e.setState({showpencil:!0})},onMouseLeave:function(){e.setState({showpencil:!1})}},Object(me.f)(c)||"-",!a&&o&&r.a.createElement("span",{className:"ml-3"},r.a.createElement("i",{className:"fa fa-pencil-alt"})))}}]),t}(r.a.Component),Ot=a(86),St="";var jt=Object(o.b)((function(e){return{}}),{})((function(e){var t=Object(n.useState)({id:0,name:"",account_number:"",client_id:""}),a=Object(F.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),s=Object(F.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(null),d=Object(F.a)(u,2),p=d[0],f=d[1],E=Object(n.useState)(!1),v=Object(F.a)(E,2),h=v[0],b=v[1],g=Object(n.useState)(!1),y=Object(F.a)(g,2),N=y[0],w=y[1],O=Object(n.useState)(!1),S=Object(F.a)(O,2),j=S[0],C=S[1],x=Object(n.useState)(""),P=Object(F.a)(x,2),T=P[0],R=P[1],L=e.location.hash,B=function(){return w(!1)};function Y(){m([]),b(!0),D.a.get("bankaccount").then((function(e){m(e.data.result),St="",f(null),f(p),b(!1),localStorage.getItem("selectedBankBalanceCheckDate")?(f(localStorage.getItem("selectedBankBalanceCheckDate")),document.getElementById("accounts").scrollIntoView(),localStorage.removeItem("selectedBankBalanceCheck")):f(Nt()().format("MM/DD/YYYY"))})).catch((function(e){return Object(U.a)(e)})),D.a.get("client").then((function(e){C(M()(e,"data.result[0].auto_convert_currencies",""))})).catch((function(e){return Object(U.a)(e)}))}Object(n.useEffect)((function(){return Y(),["#bankbalance"].includes(L)&&document.getElementById("accounts").scrollIntoView(),function(){St=""}}),[]),Object(n.useEffect)((function(){var e="bankbalance?from_date='".concat(p,"'&to_date='").concat(p,"'");if(St!==e&&p&&M()(i,"[0]","")){St=e,D.a.get("client").then((function(e){C(M()(e,"data.result.auto_convert_currencies","")),R(M()(e,"data.result.base_currency",""))})).catch((function(e){return Object(U.a)(e)}));var t=i.map((function(e){return Object(_.a)({},e,{amount:null,recordid:null})}));m(t),b(!0),D.a.get(e).then((function(e){var a=e.data.result,n=[];t.forEach((function(e){var t=a.find((function(t){return t.bank_account_id===e.id}));t?n.push(Object(_.a)({},e,{amount:t.amount,recordid:t.id})):n.push(Object(_.a)({},e,{amount:null}))})),m(gt()(n.map((function(e){return Object(_.a)({},e,{name:e.name.trim()})})),["name"])),b(!1)}))}}),[i,p,i]);var K=function(){l.bankname="",l.accountno="",l.routingno=""},z=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(_.a)({},e,Object(k.a)({},a,n))}))},q=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return Object(_.a)({},e,Object(k.a)({},a,n))}))},G=[{Header:"Bank name",accessor:"name",className:"mr-3",width:180,Cell:function(e){return r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(Ot.a,Object.assign({},e,{iscellcomponent:!0,updateValue:function(t){var a=e.original,n={name:t||""},r="bankaccount?id=".concat(a.id);D.a.put(r,n).then((function(){localStorage.setItem("refresh_reports",!0),Object(H.a)("Updated successfully","success")}))}})))}},{Header:"Account Number",accessor:"account_number",Cell:function(e){return"XXXX-XXXX-XXXX-".concat(e.original.account_number)}},{Header:function(){return r.a.createElement("div",{className:"mr-2"},r.a.createElement("span",{style:{position:"absolute",left:0}},r.a.createElement("i",{className:"fa fa-angle-left ".concat(Nt()().subtract(10,"days").format("MM/DD/YYYY")===p&&"text-transparent"),onClick:function(){Nt()().subtract(10,"days").format("MM/DD/YYYY")!==p&&f(Nt()(p,"MM/DD/YYYY").subtract(1,"day").format("MM/DD/YYYY"))},id:"prevDate","aria-hidden":"true"})),r.a.createElement("span",{style:{position:"absolute",top:5,left:30}},Nt()(p,"MM/DD/YYYY").format("ddd, DD MMM, YYYY")),r.a.createElement("span",{style:{position:"absolute",right:10}},r.a.createElement("i",{className:"fa fa-angle-right ".concat(Nt()().format("MM/DD/YYYY")===p&&"text-transparent"),id:"nextDate","aria-hidden":"true",onClick:function(){Nt()().format("MM/DD/YYYY")!==p&&f(Nt()(p,"MM/DD/YYYY").add(1,"day").format("MM/DD/YYYY"))}})))},accessor:"amount",className:"text-right mr-3",width:180,Footer:function(e){return r.a.createElement("div",null,r.a.createElement("span",{className:"pull-left font-weight-bold"},"Total:"),r.a.createElement("span",{className:"pull-right mr-2"},Object(me.c)(i.reduce((function(e,t){return e+Number(t.amount)}),0))))},Cell:function(e){return r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(wt,Object.assign({},e,{iscellcomponent:!0,updateValue:function(t){var a=e.original,n=e.index,r=function(e){var t={records:[{date:p,amount:e||"0",bank_account_id:a.id}]},r=a.recordid?"bankbalance?id=".concat(a.recordid):"bankbalance";D.a.put(r,t).then((function(){localStorage.setItem("refresh_reports",!0);var t=i;t[n].amount=e,m([]),m(t)}))};j&&T&&a.currency?A.a.get("https://api.exchangeratesapi.io/latest?base=".concat(a.currency,"&symbols=").concat(T)).then((function(e){var n=M()(e,"data.rates[".concat(T,"]"),1),l=Number(Number(t||0)*Number(n)).toFixed(2);r(l),Object(H.a)("Converted successfully: ".concat(a.currency," ").concat(t," to ").concat(T," ").concat(l),"success",4e3)})).catch((function(){return Object(H.a)("Automatic currency conversion failed. Please convert manually")})):r(t)}})))}},{Header:"",accessor:"id",width:100,Cell:function(e){return r.a.createElement("span",{className:""},M()(e,"original.status","")?r.a.createElement("i",{className:"fa fa-key t-red cursor-pointer mr-2",title:"Authentication Needed"}):null,r.a.createElement("i",{className:M()(e,"original.status","")?"fa fa-trash-o ml-4 cursor-pointer":"fa fa-trash-o ml-5 cursor-pointer","aria-hidden":"true",title:"Delete Account",onClick:function(t){t.stopPropagation();var a=e.original,n=e.index;Object(De.c)({variant:"warning",msg:"Are you sure you want to delete?",onSave:function(){Object(De.b)(),D.a.put("bankaccount/delete?id=".concat(a.id),{}).then((function(){localStorage.setItem("refresh_reports",!0),Object(H.a)("Deleted successfully","success");var e=i.filter((function(e,t){return t!==n}));m([]),m(e)}))}})}}))}}];return r.a.createElement(qe.a,{defaultActiveKey:"#bankbalance"===L&&"0",className:"col-md-12"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Accounts")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("button",{type:"button",onClick:function(){return w(!0)},className:"btn subbtn btn-primary pull-left m-2 p-2 mr-3","data-toggle":"modal","data-target":"#myModal"},"Add account"),r.a.createElement("label",{className:"ml-3 pull-right mt-3 pt-1"},r.a.createElement("span",{style:{position:"absolute",right:"52px"}},"Auto convert currencies"),r.a.createElement("span",null,r.a.createElement("input",{style:{width:20,height:20,margin:0,padding:0,position:"absolute",right:"0px",top:22},type:"checkbox",className:"mr-3 cursour-pointer",placeholder:"Enter ...",onClick:function(){D.a.post("client",{auto_convert_currencies:!j}).then((function(){C(!j)}))},checked:j}))),r.a.createElement(ae,{getAccount:Y}),r.a.createElement(te.a,{show:N,onHide:B},r.a.createElement(te.a.Header,{closeButton:!0},r.a.createElement(te.a.Title,null,r.a.createElement("h3",null,"Add Account"))),r.a.createElement(te.a.Body,{closeButton:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Bank name")),r.a.createElement("input",{type:"text",name:"name",value:l.name,onBlur:q,onFocus:z,onChange:z,className:"form-control",placeholder:"Enter ..."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Account no")),r.a.createElement("input",{type:"text",name:"account_number",value:l.account_number,onBlur:q,onFocus:z,onChange:z,className:"form-control",placeholder:"Enter ..."}))),r.a.createElement(te.a.Footer,null,r.a.createElement(V.a,{variant:"primary",disabled:!(l&&l.name&&l.account_number),onClick:function(){var e={name:l.name,account_number:l.account_number,ismanual:!0};D.a.post("bankaccount",Object(_.a)({},e)).then((function(){Y(),K(),B(),Object(H.a)("Account added successfully","success")}))}},"Add"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"paynewdetsectran tablemargin"},r.a.createElement(Z.a,{noDataText:h?"":"No data found",pageSize:i.length>1?i.length:1,loading:h,sortable:!1,resizable:!0,showPagination:!1,columns:G,data:i,getTrGroupProps:function(e,t,a){return{onClick:function(e){var a;1===(a=t.original).status&&D.a.get("bankaccount/renewtoken?id=".concat(a.id)).then((function(e){window.Plaid.create({env:I.a.PLAID_env,clientName:"Payference",key:I.a.PLAID_publicKey,product:["transactions"],token:e.data.public_token,onSuccess:function(e,t){Y()},onExit:function(e,t){}}).open()})).catch((function(e){return Object(U.a)(e)}))},style:{border:t&&1===t.original.status?"1px solid red":""}}}})))))))})),Ct=a(158);var xt=Object(o.b)((function(e){return{}}),{})((function(e){var t={id:0,name:"",department:"",role:"",email:""},a=Object(n.useState)(t),l=Object(F.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!1),i=Object(F.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(F.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)([]),h=Object(F.a)(v,2),b=h[0],g=h[1],y=Object(n.useState)(!1),N=Object(F.a)(y,2),w=N[0],O=N[1],S=Object(n.useState)(null),j=Object(F.a)(S,2),C=j[0],x=j[1],P=L.a.getIsAdmin(),A=e.location.hash,I=Object(n.useState)({newPassword:"",confirmPassword:""}),T=Object(F.a)(I,2),R=T[0],B=T[1],Y=Object(n.useState)(!1),V=Object(F.a)(Y,2),K=V[0],z=(V[1],Object(n.useState)(!1)),q=Object(F.a)(z,2),$=q[0],W=q[1],J=Object(n.useState)(!1),X=Object(F.a)(J,2),Q=X[0],ee=X[1];function ae(){O(!0),D.a.get("client/user").then((function(e){O(!1),g(e.data.result)})).catch((function(e){O(!1)}))}Object(n.useEffect)((function(){ae(),["#users"].includes(A)&&document.getElementById("users").scrollIntoView()}),[]);var ne=function(){c.name="",c.department="",c.role="",c.email=""},re=function(e){var t=e.target,a=t.name,n=t.value;o(Object(_.a)({},c,Object(k.a)({},a,n)))},le=function(e){var t=e.target,a=t.name,n=t.value;o(Object(_.a)({},c,Object(k.a)({},a,n)))},ce=function(e){var t=e.target,a=t.name,n=t.value;B(Object(_.a)({},R,Object(k.a)({},a,n)))},oe=function(e){var t=e.target,a=t.name,n=t.value;B(Object(_.a)({},R,Object(k.a)({},a,n)))},se=[{Header:"ID",accessor:"id",className:"ml-3"},{Header:"Name",accessor:"name",Cell:function(e){return r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(Ot.a,Object.assign({},e,{iscellcomponent:!0,updateValue:function(t){var a=e.original,n={name:t||""},r="/client/user?id=".concat(a.id);D.a.put(r,n).then((function(){Object(H.a)("Updated successfully","success")}))}})))}},{Header:"Department",accessor:"department",Cell:function(e){return r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(Ot.a,Object.assign({},e,{iscellcomponent:!0,updateValue:function(t){var a=e.original,n={department:t||""},r="/client/user?id=".concat(a.id);D.a.put(r,n).then((function(){Object(H.a)("Updated successfully","success")}))}})))}},{Header:"Role",accessor:"roles",Cell:function(e){return L.a.getUserId()==e.original.id?"payadmin"===M()(e,"value[0]","")?"admin":M()(e,"value[0]",""):r.a.createElement("div",{onClick:function(e){return e.stopPropagation()}},r.a.createElement(Ct.a,Object.assign({},e,{value:"payadmin"===M()(e,"value[0]","")?"admin":M()(e,"value[0]",""),options:[{id:"admin",value:"admin",name:"Admin"},{id:"user",value:"user",name:"User"}],iscellcomponent:!0,updateValue:function(t){if(t){var a=e.original,n={role:[t||""]},r="/client/user?id=".concat(a.id);D.a.put(r,n).then((function(){Object(H.a)("Updated successfully","success")}))}}})))}},{Header:"Email",accessor:"email"},{Header:function(){return r.a.createElement("span",{className:"ml-2"})},accessor:"id",width:100,className:"overflow-unset",Cell:function(e){return L.a.getUserId()!=e.value?r.a.createElement("span",null,r.a.createElement("i",{onClick:function(){return x(e.original)},className:"fa far fa-key color-blue cursour-pointer mx-2",title:"Reset Password"}),"|",r.a.createElement("i",{onClick:function(){Object(De.c)({variant:"warning",msg:"Are you sure you want to remove ".concat(M()(e,"original.name",""),"?"),onSave:function(){Object(De.b)(),D.a.post("client/user/delete?id=".concat(e.value)).then((function(e){ae(),Object(H.a)("Deleted successfully","success")}))}})},className:"fa fa-trash-o color-blue cursour-pointer mx-2",title:"Remove user"})):null}}];return P?r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{size:"md",show:C,onHide:function(){return x(null)}},r.a.createElement(te.a.Header,{closeButton:!0},"Reset password for ",M()(C,"name","")),r.a.createElement(te.a.Body,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();G.b.test(R.newPassword)?R.newPassword!==R.confirmPassword?(ee(!0),Object(H.a)("New password and Confirm password did not match!","error")):D.a.post("user/setpassword",{password:R.confirmPassword,userid:C.id}).then((function(e){Object(H.a)("Password updated successfully","success"),B({newPassword:"",confirmPassword:""}),ee(!1),x(null)})).catch((function(e){return Object(U.a)(e)})):(ee(!0),Object(H.a)("Password must contain in 8 characters and 1 digit!","error"))},className:"d-flex justify-content-center row px-5"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"New password")),r.a.createElement("input",{type:"password",name:"newPassword",className:"form-control ".concat(Q&&R.newPassword&&!G.b.test(R.newPassword)?"error":""),placeholder:"8 char, min 1 digit",autoComplete:"off",onFocus:ce,onChange:ce,onBlur:oe,required:!0,value:R.newPassword}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Confirm password")),r.a.createElement("div",{className:"confirm-password"},r.a.createElement("input",{type:$?"text":"password",name:"confirmPassword",className:"form-control ".concat(Q&&R.newPassword!==R.confirmPassword?"error":""),placeholder:"Enter ...",autoComplete:"off",onFocus:ce,onChange:ce,onBlur:oe,required:!0,value:R.confirmPassword,error:R.newPassword}),r.a.createElement("span",{className:"show-hide-toggle eye-password",role:"presentation",onClick:function(){return W(!$)}},$?r.a.createElement("i",{className:"fa fa-eye",style:{cursor:"pointer",fontSize:"15px"},title:"Show Password"}):r.a.createElement("i",{className:"fa fa-eye-slash",style:{cursor:"pointer",fontSize:"15px"},title:"Show Password"}))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{type:"submit",className:"btn subbtn btn-success"},K?r.a.createElement("span",null,"Updating ",r.a.createElement("i",{class:"fa fa-spinner fa-spin",style:{fontSize:"11px"},"aria-hidden":"true"})):r.a.createElement("span",null,"Update"))))))),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#users"===A&&"0",id:"users"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",onClick:function(){E(!f),f&&ae()},as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Users",!m&&(f||"#users"===A)&&P&&r.a.createElement("i",{onClick:function(e){e.stopPropagation(),u(!0)},className:"fa fa-plus cashinflowclick t-10 ".concat(""),title:"click to add/invite user","aria-hidden":"true"}))),r.a.createElement(qe.a.Collapse,{className:"p-2 px-3",eventKey:"0"},r.a.createElement("form",{action:!0,method:"post"},r.a.createElement("div",{className:"px-0"},m&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Name")),r.a.createElement("input",{type:"text",name:"name",value:c.name,onBlur:le,onFocus:re,onChange:re,className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Department")),r.a.createElement("input",{type:"text",name:"department",value:c.department,onBlur:le,onFocus:re,onChange:re,className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Roles")),r.a.createElement("select",{className:"form-control",name:"role",value:c.role,onBlur:le,onFocus:re,onChange:re},r.a.createElement("option",{selected:!0,disabled:!0,value:""},"Select"),r.a.createElement("option",{value:"admin"},"Admin"),r.a.createElement("option",{value:"user"},"User")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Email")),r.a.createElement("input",{type:"email",name:"email",value:c.email,onBlur:le,onFocus:re,onChange:re,className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{type:"button",className:"btn subbtn btn-primary mr-2",onClick:function(){return u(!1)}},"Cancel"),r.a.createElement("button",{type:"button",onClick:function(){if(c.email&&c.role){var e={name:c.name,email:c.email,roles:[c.role],department:c.department};D.a.post("client/inviteuser",e).then((function(e){Object(H.a)("Invitation sent successfully","success"),ne(),o(t),ae(),u(!1)})).catch((function(e){Object(U.a)(e),Object(H.a)("User already exists","error")}))}},className:"btn subbtn btn-success"},"Invite User")))),r.a.createElement("div",{className:"row px-0"},r.a.createElement("div",{className:"col-md-12 px-0"},r.a.createElement("div",{className:"paynewdetsectran tablemargin"},r.a.createElement(Z.a,{noDataText:w?"":"No data found",minRows:1,loading:w,sortable:!0,resizable:!0,showPagination:!1,columns:se,data:b}))))))))):null}));var kt=Object(o.b)((function(e){return{}}),{})((function(e){var t=e.location.hash,a=Object(n.useState)(13),l=Object(F.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(6),i=Object(F.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)("weekly"),p=Object(F.a)(d,2),f=p[0],E=p[1],v=Object(n.useState)(2),h=Object(F.a)(v,2),b=h[0],g=h[1],y=Object(n.useState)(4),N=Object(F.a)(y,2),w=N[0],O=N[1],S=Object(n.useState)(1),j=Object(F.a)(S,2),C=j[0],x=j[1];function k(){D.a.get("/client").then((function(e){var t=e.data.result;o(t.report_num_weeks),u(t.report_start_day_of_week),g(t.report_num_months),E(t.report_interval),O(t.report_num_actuals_weeks),x(t.report_num_actuals_months)})).catch((function(e){return Object(U.a)(e)}))}return Object(n.useEffect)((function(){k(),["#reportconfig","#reports"].includes(t)&&document.getElementById("reports").scrollIntoView()}),[]),r.a.createElement(qe.a,{id:"reports",defaultActiveKey:["#reportconfig","#reports"].includes(t)&&"0",className:"col-md-12"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Reports Configuration")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Report Frequency")),r.a.createElement("select",{onChange:function(e){return E(e.target.value)},className:"form-control"},["Monthly","Weekly"].map((function(e){return r.a.createElement("option",{selected:f===e.toLocaleLowerCase(),value:e.toLocaleLowerCase()},e)}))))),r.a.createElement("div",{className:"col-md-8"})),r.a.createElement(r.a.Fragment,null,"weekly"===f?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"# Actuals Weeks")),r.a.createElement("select",{onChange:function(e){return O(e.target.value)},className:"form-control"},[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){return r.a.createElement("option",{selected:w===e,value:e},e)}))))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"# Forecast Weeks")),r.a.createElement("select",{onChange:function(e){return o(e.target.value)},className:"form-control"},[4,5,6,7,8,9,10,11,12,13].map((function(e){return r.a.createElement("option",{selected:c===e,value:e},e)}))))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Start Day of Week")),r.a.createElement("select",{onChange:function(e){return u(Number(e.target.value))},className:"form-control"},["Sunday","Monday","Tuesday","wednesday","Thursday","Friday","Saturday"].map((function(e,t){return r.a.createElement("option",{selected:m===t,value:t},e)})))))):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"# Actual Months")),r.a.createElement("select",{onChange:function(e){return x(Number(e.target.value))},className:"form-control"},[1,2,3,4,5,6].map((function(e){return r.a.createElement("option",{selected:C===e,value:e},e)}))))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"# Forecast Months")),r.a.createElement("select",{onChange:function(e){return g(Number(e.target.value))},className:"form-control"},[2,3,4,5,6,8,9,10,11,12].map((function(e){return r.a.createElement("option",{selected:b===e,value:e},e)}))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{className:"btn btn-primary mt-3",onClick:function(){var a={report_num_weeks:c,report_num_months:b,report_interval:f,report_start_day_of_week:m,report_num_actuals_months:C,report_num_actuals_weeks:w};D.a.post("/client",a).then((function(a){Object(H.a)("Report configuration updated successfully!","success"),k(),"#reports"===t&&e.history.push("/reports"),localStorage.setItem("refresh_reports",!0)})).catch((function(e){return Object(U.a)(e)}))}},"Submit"))))))}));var _t=Object(o.b)((function(e){return{}}),{})((function(e){var t=e.location.hash;return r.a.useEffect((function(){["#permissions"].includes(t)&&document.getElementById("permissions").scrollIntoView()}),[]),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#permissions"===t&&"0",id:"permissions"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Permissions")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement("form",{action:!0,method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group px-3"},r.a.createElement("span",null,r.a.createElement("label",null,"Roles")),r.a.createElement("select",{className:"form-control"},r.a.createElement("option",{value:!0},"Select"),r.a.createElement("option",{value:!0},"Admin"),r.a.createElement("option",{value:!0},"AP clerk"),r.a.createElement("option",{value:!0},"AR clerk"),r.a.createElement("option",{value:!0},"Controller"),r.a.createElement("option",{value:!0},"Procurement")))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"paynewdetsectran"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"View"),r.a.createElement("th",null,"Edit")),r.a.createElement("tr",null,r.a.createElement("td",null,"User admin"),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample1",name:"groupOfDefaultRadios1",defaultChecked:!0}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample1"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample2",name:"groupOfDefaultRadios1"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample2"})))),r.a.createElement("tr",null,r.a.createElement("td",null,"Bank accounts"),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample3",name:"groupOfDefaultRadios2",defaultChecked:!0}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample3"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample4",name:"groupOfDefaultRadios2"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample4"})))),r.a.createElement("tr",null,r.a.createElement("td",null,"Payables"),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample5",name:"groupOfDefaultRadios3"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample5"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample6",name:"groupOfDefaultRadios3",defaultChecked:!0}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample6"})))),r.a.createElement("tr",null,r.a.createElement("td",null,"Receivables"),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample7",name:"groupOfDefaultRadios4",defaultChecked:!0}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample7"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample8",name:"groupOfDefaultRadios4"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample8"})))),r.a.createElement("tr",null,r.a.createElement("td",null,"Make payments"),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample9",name:"groupOfDefaultRadios5"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample9"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample10",name:"groupOfDefaultRadios5",defaultChecked:!0}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample10"})))),r.a.createElement("tr",null,r.a.createElement("td",null,"Vendors"),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample11",name:"groupOfDefaultRadios6",defaultChecked:!0}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample11"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample12",name:"groupOfDefaultRadios6"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample12"})))),r.a.createElement("tr",null,r.a.createElement("td",null,"Customers"),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample13",name:"groupOfDefaultRadios7"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample13"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample14",name:"groupOfDefaultRadios7",defaultChecked:!0}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample14"})))),r.a.createElement("tr",null,r.a.createElement("td",null,"Approvals"),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample15",name:"groupOfDefaultRadios8",defaultChecked:!0}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample15"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample16",name:"groupOfDefaultRadios8"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"defaultGroupExample16"})))))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"20px"}},r.a.createElement("button",{type:"submit",className:"btn subbtn btn-success"},"Update")))))))}));a(418);var Dt=Object(v.g)(Object(o.b)((function(e){return{login:e.payables}}),{})((function(e){return e.history,e.match,r.a.createElement("div",{className:"row",id:"dashboardBody"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"paynewdetsec",style:{marginBottom:"10px"}},r.a.createElement("div",{className:"titletranshist",style:{fontSize:"18px",paddingBottom:"15px",float:"left"}},r.a.createElement(h.b,{to:"/settings",key:"back"},r.a.createElement("i",{className:"fa fa-arrow-left",style:{color:"#ddd",marginRight:"5px"}})," "),"\xa0Company Details"),r.a.createElement("div",{className:"dropdown float-right"},"DEV"===I.a.MODE&&r.a.createElement("a",{className:"btn dropdown-toggle btn-primary",href:"#",role:"button",id:"export","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Export"),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuLink",id:"exportlist"},r.a.createElement("a",{href:"#"},"Export CSV"),r.a.createElement("a",{href:"#"},"Export Excel"))))),r.a.createElement(ht,e),r.a.createElement(jt,e),r.a.createElement(xt,e),r.a.createElement(kt,e),"DEV"===I.a.MODE&&r.a.createElement(_t,e))))))))}))),Pt=a(94),At=a(73),It=a(93);function Tt(e){return e.map((function(e){return{Supplier:M()(e,"supplier.name",""),InvoiceNo:M()(e,"invoice_number",""),DueDate:Nt()(M()(e,"due_date","")).format("YYYY/MM/DD"),Recommendation:M()(e,"recommendation",""),InvoiceDate:Nt()(M()(e,"invoice_date","")).format("YYYY/MM/DD"),AmountDue:M()(e,"total_amount_due","")}}))}var Mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).setshowExport=function(e){a.setState({showexport:e})},a.getVendorCategory=function(){a.setState({isVendorCategoryLoading:!0}),D.a.get("vendorcategory?per_page=100").then((function(e){a.setState({vendorCategoryList:e.data.result.sort((function(e,t){return+t.is_selected-+e.is_selected})),isVendorCategoryLoading:!1})})).catch((function(e){return Object(U.a)(e)}))},a.onSubmit=function(){var e=a.state.selectedData,t=e.id?"vendorcategory?id=".concat(e.id):"vendorcategory",n=e.id?"patch":"post",r={name:e.name,internal_id:Number(e.internal_id),is_selected:e.is_selected};e.internal_id||delete r.internal_id,D.a[n](t,Object(_.a)({},r)).then((function(){a.setState({line:"",selectedData:null}),a.getVendorCategory(),localStorage.setItem("refresh_reports",!0)})).catch((function(e){return Object(U.a)(e)}))},a.onDelete=function(e){D.a.delete("vendorcategory?id=".concat(e)).then((function(){a.getVendorCategory(),localStorage.setItem("refresh_reports",!0)})).catch((function(e){return Object(U.a)(e)}))},a.renderEditableRow=function(){var e=a.state,t=e.selectedData,n=t.id,l=t.name,c=t.internal_id,o=t.is_selected,s=e.vendorCategoryList,i=!n&&s.some((function(e){return e.internal_id===Number(c)}));return r.a.createElement("tr",null,r.a.createElement("td",{className:"text-sm-center"},r.a.createElement("input",{type:"checkbox",className:"md-checkbox",defaultChecked:o,onChange:function(e){return a.setState({selectedData:Object(_.a)({},a.state.selectedData,{is_selected:+e.target.checked})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",onChange:function(e){return a.setState({selectedData:Object(_.a)({},a.state.selectedData,{name:e.target.value})})},className:"form-control",defaultValue:l})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",onInput:function(e){return a.setState({selectedData:Object(_.a)({},a.state.selectedData,{internal_id:e.target.value})})},readOnly:!!n,className:i?"error form-control":"form-control",defaultValue:c})),r.a.createElement("td",{className:"text-sm-center"},r.a.createElement("button",{disabled:!l||i,className:"btn",onClick:a.onSubmit},r.a.createElement("i",{className:"fa fa-save cursor-pointer color-blue"})),"|",r.a.createElement("button",{className:"btn",onClick:function(){return a.setState({line:"",selectedData:null})}},r.a.createElement("i",{className:"fa fa-remove cusor-pointer color-blue"}))))},a.paginate=function(e,t,a){return e.slice((a-1)*t,a*t)},a.handlePagination=function(e){var t=a.state.currPage,n=t;"prev"===e&&(n=1===t?1:t-1),"next"===e&&(n=t+1),a.setState({currPage:n})},a.state={showexport:!1,vendorCategoryList:[],line:"",selectedData:null,currPage:1,isVendorCategoryLoading:!0},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getVendorCategory();var e=this.props.location.hash;e&&document.getElementById(e.replace("#","")).scrollIntoView(!0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.line,n=t.currPage,l=t.showexport,c=t.vendorCategoryList,o=t.isVendorCategoryLoading,s=1===n,i=!c.length||c.length<20,m=this.props.location.hash;return r.a.createElement("div",{className:"row",id:"dashboardBody"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"paynewdetsec"},r.a.createElement("div",{className:"float-left",style:{fontSize:"18px",paddingBottom:"15px",float:"left"}},r.a.createElement(h.b,{to:"/settings",title:"Back"},r.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true",style:{color:"#ddd",marginRight:"10px"}})),"Payables Settings"),r.a.createElement("div",{className:"dropdown float-right"},"DEV"===I.a.MODE&&r.a.createElement("span",{className:"btn dropdown-toggle btn-primary",role:"button",id:"","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return e.setshowExport(!0)}},"Export"),r.a.createElement(J.a,{onClickAway:this.setshowExport},r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right payexpdroplist ".concat(l&&"show"),"aria-labelledby":"dropdownMenuLink",id:""},r.a.createElement(Pt.CSVLink,{data:Tt([]),filename:"payable_".concat(Nt()().format("MMMM Do YYYY-h:mm:ss-a"),".csv")},"Export CSV"),r.a.createElement("span",{style:{fontSize:12,float:"right",marginRight:"10px",cursor:"pointer"},onClick:function(){return function(e){var t="payeables".concat(Nt()().format("MMMM Do YYYY-h:mm:ss-a"),".xlsx"),a={Sheets:{data:At.utils.json_to_sheet(e)},SheetNames:["data"]},n=At.write(a,{bookType:"xlsx",type:"array"}),r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});It.saveAs(r,t)}(Tt([]))}},"Export Excel")))))),"DEV"===I.a.MODE&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12 paynewdetsec"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{style:{fontSize:"18px",marginBottom:"15px"}},"Preferences"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Single payment for multiple invoices"),r.a.createElement("select",{className:"form-control",onChange:function(t){return e.setState({invoiceOption:t.target.value})}},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"1"},"Yes"),r.a.createElement("option",{value:"2"},"No"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"paynewdetsectran tablemargin"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Payment lead time")),r.a.createElement("table",null,r.a.createElement("tbody",{className:"ui-sortable"},r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("th",null,"Payment lead time"),r.a.createElement("th",null,"Days/hrs")),r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("td",null,"Check"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("td",null,"ACH"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("td",null,"Domestic wires"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter ..."}))),r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("td",null,"International wires"),r.a.createElement("td",null,r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter ..."})))))),r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{type:"submit",className:"btn subbtn btn-success"},"Update")))))),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#paymentrules"===m&&"0",id:"paymentrules"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Payment Rules")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"paynewdetsec"},r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Spend category")),r.a.createElement("select",{className:"form-control"},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:""},"Office Supplies"),r.a.createElement("option",{value:""},"Payoll")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Spend amount")),r.a.createElement("select",{className:"form-control"},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:""},"$2M/month"),r.a.createElement("option",{value:""},"$25K/month"),r.a.createElement("option",{value:""},"$25M/month")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Payment method")),r.a.createElement("select",{className:"form-control"},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:""},"Credit - 5678"),r.a.createElement("option",{value:""},"P card - 2345"),r.a.createElement("option",{value:""},"ACH - 2384")))),r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{type:"submit",className:"btn subbtn btn-success"},"Update"))))))))),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#paymentmethods"===m&&"0",id:"paymentmethods"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Payment Method")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"paynewdetsec"},r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"paynewdetsectran tablemargin"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Payment method order")),r.a.createElement("table",null,r.a.createElement("tbody",{className:"row_position ui-sortable"},r.a.createElement("tr",{id:"1",className:"ui-sortable-handle"},r.a.createElement("td",null,"Credit card")),r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("td",null,"P card")),r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("td",null,"ACH")),r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("td",null,"Wires")),r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("td",null,"Check")),r.a.createElement("tr",{className:"ui-sortable-handle"},r.a.createElement("td",null,"Virtual card"))))),r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{type:"submit",className:"btn subbtn btn-success"},"Update"))),r.a.createElement("div",{className:"col-md-8"})))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"paynewdetsec"},r.a.createElement("div",{className:"titletranshist",style:{fontSize:"18px",marginBottom:"15px"}},"Override Payment Terms"),r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Override payment terms")),r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample1",name:"groupOfDefaultRadios1"}),r.a.createElement("label",{className:"custom-control-label",for:"defaultGroupExample1"},"Yes")),r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",className:"custom-control-input",id:"defaultGroupExample2",name:"groupOfDefaultRadios1"}),r.a.createElement("label",{className:"custom-control-label",for:"defaultGroupExample2"},"No")))),r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{type:"submit",className:"btn subbtn btn-success"},"Update"))))))))))),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#vendorcategory"===m&&"0",id:"vendorcategory"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Vendor Category")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement(J.a,{onClickAway:function(){return e.setState({line:"",selectedData:null})}},r.a.createElement("div",{className:"paynewdetsec"},"new"!==a?r.a.createElement("button",{className:"btn btn-primary mb-2 mt-3",onClick:function(t){t.stopPropagation(),e.setState({selectedData:{name:"",internal_id:""},line:"new"})}},"Add new"):null,r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:"paynewdetsectran"},r.a.createElement("tr",null,r.a.createElement("th",{className:"column1 text-sm-center"},"Reports"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Internal Id"),r.a.createElement("th",{className:"text-sm-center"},"Action")),"new"===a?this.renderEditableRow():null,this.paginate(c,20,n).map((function(t,n){return a===n?e.renderEditableRow():r.a.createElement("tr",{onClick:function(){return e.setState({line:n,selectedData:t})},key:t.name+o},r.a.createElement("td",{className:"text-sm-center"},r.a.createElement("input",{type:"checkbox",className:"md-checkbox",name:t.id,defaultChecked:t.is_selected,onClick:function(e){return e.stopPropagation()},onChange:function(a){a.stopPropagation(),e.setState({selectedData:Object(_.a)({},t,{is_selected:+a.target.checked})},e.onSubmit)}})),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.internal_id),r.a.createElement("td",{className:"text-sm-center"},r.a.createElement("button",{className:"btn",onClick:function(a){a.stopPropagation(),Object(De.c)({variant:"warning",msg:"Are you sure you want to delete this category?",onSave:function(){Object(De.b)(),e.onDelete(t.id)}})}},r.a.createElement("i",{className:"fa fa-trash-o cursor-pointer color-blue"}))))}))),o?r.a.createElement("div",{className:"loader"},"Loading..."):null),r.a.createElement("div",{className:"pull-right mt-3"},r.a.createElement("button",{onClick:function(){return e.handlePagination("prev")},className:"btn btn-primary mr-2 width-94px",disabled:s},"Previous"),r.a.createElement("button",{onClick:function(){return e.handlePagination("next")},className:"btn btn-primary width-94px",disabled:i},"Next")))))))))))}}]),t}(r.a.Component),Rt=a(142),Lt=a(27),Ft=a(20);var Bt=Object(o.b)((function(e){return{}}),{})((function(e){var t=Object(n.useState)(null),a=Object(F.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(F.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(!0),d=Object(F.a)(u,2),p=d[0],f=d[1];Object(n.useEffect)((function(){var e="/client/user?id=".concat(L.a.getUserId());D.a.get(e).then((function(e){if(null!=e.data.result&&null!=e.data.result[0]){var t={id:v(e.data.result[0].id),name:v(e.data.result[0].name),department:v(e.data.result[0].department),role:"payadmin"===M()(e,"data.result[0].roles[0]","")?"admin":M()(e,"data.result[0].roles[0]","")||"1",email:v(e.data.result[0].email),phone:v(e.data.result[0].phone),username:v(e.data.result[0].username)};c(t),f(!1)}})).catch((function(e){return Object(U.a)(e)}))}),[]);var E,v=function(e){return e||""};return r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"0"},r.a.createElement(qe.a.Collapse,{className:"p-2 px-3",eventKey:"0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},l&&r.a.createElement(Rt.a,{fields:(E=l,[{id:"name",label:"Name",typeid:Ft.a.Text},{id:"department",label:"Department",typeid:Ft.a.Text},{id:"phone",label:"Phone",customiserr:function(e){var t=e.fielddata;return!(!t.value||/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s./0-9]*$/.test(t.value))},errorText:"Phone number is invalid",typeid:Ft.a.Text},{id:"role",label:"Role",typeid:Ft.a.Select,disabled:!0,options:[{id:"admin",name:"Admin"},{id:"user",name:"User"}]},{id:"email",label:"Email",typeid:Ft.a.Text,disabled:!0,customiserr:function(e){var t=e.fielddata;return!/^\w+([\.-]?\w+)*([+]{0,1}\w+){0,1}@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t.value)},errorText:"Email is invalid"}].map((function(e){return Object(_.a)({},Lt.a,{},e,{value:E[e.id]})}))),numberOfColumns:3,formKey:"editLoggedInUserDetails"})),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{disabled:p,type:"submit",onClick:function(e){var t=Object(Rt.b)({formKey:"editLoggedInUserDetails"}),a=t.error,n=t.fields,r=void 0===n?[]:n;if(!a){var c=Object(_.a)({},l,{},function(e,t){var a=Object(_.a)({},t);return e.forEach((function(e){a[e.id]=e.value})),a}(r,l));if(c!==l){m(!0);var o="/client/user?id=".concat(L.a.getUserId());D.a.post(o,c).then((function(){m(!1),Object(H.a)("Updated successfully","success")})).catch((function(e){return Object(U.a)(e)}))}}},className:"btn subbtn btn-success"},i?r.a.createElement("span",null,"Updating ",r.a.createElement("i",{class:"fa fa-spinner fa-spin",style:{fontSize:"11px"},"aria-hidden":"true"})):r.a.createElement("span",null,"Update")))))))}));var Yt=Object(o.b)((function(e){return{}}),{})((function(e){var t=e.location.hash;return Object(n.useEffect)((function(){["#notifications"].includes(t)&&document.getElementById("notifications").scrollIntoView()}),[]),r.a.createElement(qe.a,{className:"col-md-12",id:"notifications",defaultActiveKey:"#notifications"===t&&"0"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Notification Details")),r.a.createElement(qe.a.Collapse,{className:"p-2 px-3 pt-3",eventKey:"0"},r.a.createElement("form",{action:!0,method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"managecheckbox"},r.a.createElement("label",{className:"container"},"once daily",r.a.createElement("input",{type:"checkbox",defaultChecked:"checked"}),r.a.createElement("span",{className:"checkmark"})))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"managecheckbox"},r.a.createElement("label",{className:"container"},"When payment comes in account",r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{className:"checkmark"})))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault()},className:"btn subbtn btn-success"},"Update")))))))}));var Vt=Object(o.b)((function(e){return{}}),{})((function(e){var t={currentPassword:"",newPassword:"",confirmPassword:""},a=Object(n.useState)(t),l=Object(F.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!1),i=Object(F.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(F.a)(d,2),f=p[0],E=p[1],v=e.location.hash;Object(n.useEffect)((function(){["#password"].includes(v)&&document.getElementById("password").scrollIntoView()}),[]),Object(n.useEffect)((function(){}),[c]);var h=function(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(_.a)({},e,Object(k.a)({},a,n))}))},b=function(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(_.a)({},e,Object(k.a)({},a,n))}))};return r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#password"===v&&"0",id:"password"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Change Password")),r.a.createElement(qe.a.Collapse,{className:"p-2 px-3",eventKey:"0"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=L.a.getUserName();G.b.test(c.newPassword)?c.newPassword!==c.confirmPassword?Object(H.a)("New password and Confirm password did not match!","error"):c.newPassword===c.currentPassword?Object(H.a)("New password should be different than existing password!","error"):(u(!0),A.a.get("".concat(I.a.API_URL,"token"),{auth:{username:a,password:c.currentPassword}}).then((function(e){null!=e&&null!=e.data&&null!=e.data.token&&D.a.post("user/setpassword",{password:c.confirmPassword}).then((function(e){Object(H.a)("Password updated successfully","success"),o(t)})).catch((function(e){return Object(U.a)(e)})),u(!1)})).catch((function(e){Object(H.a)("Please enter correct current password!","error"),u(!1)}))):Object(H.a)("Password must contain in 8 characters and 1 digit!","error")},action:!0,method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Current password")),r.a.createElement("input",{type:"password",name:"currentPassword",className:"form-control",placeholder:"Enter ...",autoComplete:"off",onFocus:h,onChange:h,onBlur:b,required:!0,value:c.currentPassword}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"New password")),r.a.createElement("input",{type:"password",name:"newPassword",className:"form-control",placeholder:"8 char, min 1 digit",autoComplete:"off",onFocus:h,onChange:h,onBlur:b,required:!0,value:c.newPassword}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Confirm password")),r.a.createElement("div",{className:"confirm-password"},r.a.createElement("input",{type:f?"text":"password",name:"confirmPassword",className:"form-control",placeholder:"Enter ...",autoComplete:"off",onFocus:h,onChange:h,onBlur:b,required:!0,value:c.confirmPassword}),r.a.createElement("span",{className:"show-hide-toggle eye-password",role:"presentation",onClick:function(){return E(!f)}},f?r.a.createElement("i",{className:"fa fa-eye",style:{cursor:"pointer",fontSize:"15px"},title:"Show Password"}):r.a.createElement("i",{className:"fa fa-eye-slash",style:{cursor:"pointer",fontSize:"15px"},title:"Show Password"}))))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{type:"submit",className:"btn subbtn btn-success"},m?r.a.createElement("span",null,"Updating ",r.a.createElement("i",{class:"fa fa-spinner fa-spin",style:{fontSize:"11px"},"aria-hidden":"true"})):r.a.createElement("span",null,"Update"))))))))}));var Ut=Object(v.g)(Object(o.b)((function(e){return{login:e.payables}}),{})((function(e){return e.history,e.match,r.a.createElement("div",{className:"row",id:"dashboardBody"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"paynewdetsec"},r.a.createElement("div",{className:"titletranshist",style:{fontSize:"18px",paddingBottom:"15px",float:"left"}},r.a.createElement(h.b,{to:"/settings",key:"back"},r.a.createElement("i",{className:"fa fa-arrow-left",style:{color:"#ddd",marginRight:"5px"}})," "),"\xa0Profile Details"),r.a.createElement("div",{className:"dropdown float-right d-none"},"DEV"===I.a.MODE&&r.a.createElement("a",{className:"btn dropdown-toggle btn-primary",href:"#",role:"button",id:"export","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Export"),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"dropdownMenuLink",id:"exportlist"},r.a.createElement("a",{href:"#"},"Export CSV"),r.a.createElement("a",{href:"#"},"Export Excel"))))),r.a.createElement(v.b,{path:"/settings/profile",component:function(){return r.a.createElement(Bt,e)}}),"DEV"===I.a.MODE&&r.a.createElement(v.b,{path:"/settings/profile",component:function(){return r.a.createElement(Yt,e)}}),r.a.createElement(v.b,{path:"/settings/profile",component:function(){return r.a.createElement(Vt,e)}}))))))))}))),Kt=(a(429),a(110)),zt=a.n(Kt),qt=a(111),Ht=a.n(qt),Gt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={requestObject:null},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"getSnapshotBeforeUpdate",value:function(e,t){return e.defaultData!==this.props.defaultData?this.props.defaultData:null}},{key:"componentDidUpdate",value:function(e,t,a){null!==a&&this.setState({requestObject:Object(_.a)({},a)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.mode,l=void 0===n?"add":n,c=t.handleModal,o=t.defaultData,s=t.submitEntry,i=this.state.requestObject;return r.a.createElement(te.a,{show:a,onHide:c,className:"mt-5",size:"lg",backdrop:"static"},r.a.createElement(te.a.Header,{closeButton:!0},"add"===l?"New":"Update"," Template"),r.a.createElement(te.a.Body,{style:{"max-height":"calc(100vh - 210px)","overflow-y":"auto"}},r.a.createElement("div",{className:"mb-3"},r.a.createElement("strong",null,"Template Name"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:o?o.name:"",onChange:function(t){return e.setState({requestObject:Object(_.a)({},e.state.requestObject,{name:t.target.value})})}})),r.a.createElement("div",{className:"mb-3"},r.a.createElement("strong",null,"Subject"),r.a.createElement("input",{type:"text",className:"form-control",defaultValue:o?o.subject:"",onChange:function(t){return e.setState({requestObject:Object(_.a)({},e.state.requestObject,{subject:t.target.value})})}})),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("strong",null,"Body:"))),r.a.createElement(zt.a,{editor:Ht.a,data:o?o.body:"",config:{toolbar:["heading","|","bold","italic","numberedList","bulletedList"]},onChange:function(t,a){var n=a.getData();e.setState({requestObject:Object(_.a)({},e.state.requestObject,{body:n})})}}),r.a.createElement("div",{className:"mt-3"},r.a.createElement(V.a,{disabled:!(M()(i,"name","")&&M()(i,"subject","")&&M()(i,"body","")),onClick:function(){c(),s(l,e.state.requestObject,o)}},"Save"))))}}]),t}(n.Component),$t=a(109),Wt=a.n($t),Jt=a(147),Xt=a.n(Jt),Zt={days:"",action:"",period:null,editLine:"",customer_id:"",template_id:"",reminderType:"-1",is_recurring:!1,ar_age_in_days:null,frequency_in_days:null,currentPage:1,editableData:null,showEmailModal:!1,requestObject:null,corporate_entity_id:"",is_enabled:!1,selectedCustomer:null},Qt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state=Object(_.a)({},Zt),a.resetState=function(){return a.setState(Object(_.a)({},Zt))},a.handleEmailModal=function(){return a.setState((function(e){return{showEmailModal:!e.showEmailModal}}),(function(){return a.setState((function(e){return{editableData:!1===e.showEmailModal?null:e.editableData}}))}))},a.paginate=function(e,t,a){return e.slice((a-1)*t,a*t)},a.addNewRow=function(){var e=a.props,t=e.type,n=e.companyList,l=e.customerList,c=e.emailTemplateList,o=e.isCustomerListLoading,s=e.searchCustomer,i=a.state,m=i.editableData,u=i.days,d=i.reminderType,p=i.template_id,f=i.corporate_entity_id,E=i.customer_id,v=i.selectedCustomer,h=new Array(7).fill().map((function(e,t){return t+1})),b="customer"===t?l:n;return"add"===a.state.action?r.a.createElement("tr",null,r.a.createElement("td",null,"customer"===t?r.a.createElement(Ue.a,{suggestions:Be()(l.map((function(e){return{id:e.customer.id,name:e.customer.name}})),"id"),getSelected:function(e){return e?a.setState({customer_id:e.id,selectedCustomer:e}):a.setState({customer_id:"",selectedCustomer:null})},search:function(e){return s(e)},isLoading:o,defaultValue:v&&v.name}):r.a.createElement("select",{className:"form-control",onChange:function(e){return a.setState(Object(k.a)({},"customer"===t?"customer_id":"corporate_entity_id",e.target.value))}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),b.length?b.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})):null)),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",onChange:function(e){return a.setState({reminderType:e.target.value})}},r.a.createElement("option",{value:"-1",selected:!0},"before"),r.a.createElement("option",{value:"1"},"after"))),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",onInput:function(e){return a.setState({days:e.target.value})}})),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",onChange:function(e){return a.setState({template_id:e.target.value})}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),c.length?c.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})):null)),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",onChange:function(e){return a.setState({period:e.target.value})}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),h.map((function(e){return r.a.createElement("option",{value:e},"Every ",e," days")})))),r.a.createElement("td",null,r.a.createElement("div",{className:"checkbox switcher"},r.a.createElement("label",{htmlFor:"toggle-".concat(t,"-new")},r.a.createElement("input",{type:"checkbox",id:"toggle-".concat(t,"-new"),onChange:function(e){e.stopPropagation(),a.setState({is_enabled:!a.state.is_enabled})}}),r.a.createElement("span",null,r.a.createElement("small",null))))),r.a.createElement("td",null,r.a.createElement("button",{disabled:!u||!d||!p||!E&&!f,title:"Save",className:"btn color-blue pull-left p-2",onClick:function(e){e.stopPropagation(),a.submitEntry("add",null,t),a.resetState()}},r.a.createElement("i",{className:"fas fa-save"})),r.a.createElement("span",null,"|"),r.a.createElement("button",{title:"Cancel",className:"btn color-blue p-2",onClick:function(e){e.stopPropagation(),a.resetState()}},r.a.createElement("i",{className:"fas fa-remove"})))):"edit"===a.state.action?r.a.createElement(_e.a,{onClickAway:function(e){e.stopPropagation(),a.submitEntry("edit",m,t),a.resetState()}},r.a.createElement("tr",null,r.a.createElement("td",null,"customer"===t?r.a.createElement(Ue.a,{suggestions:Be()(l.map((function(e){return{id:e.customer.id,name:e.customer.name}})),"id"),getSelected:function(e){return e?a.setState({customer_id:e.id,selectedCustomer:e}):a.setState({customer_id:"",selectedCustomer:null})},search:function(e){return s(e)},isLoading:o,defaultValue:v&&v.name}):r.a.createElement("select",{className:"form-control",defaultValue:m["customer"===t?"customer_id":"corporate_entity_id"],onChange:function(e){return a.setState(Object(k.a)({},"customer"===t?"customer_id":"corporate_entity_id",e.target.value))}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),b.length?b.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})):null)),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",defaultValue:d,onChange:function(e){return a.setState({reminderType:e.target.value})}},r.a.createElement("option",{value:"-1",selected:!0},"before"),r.a.createElement("option",{value:"1"},"after"))),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",defaultValue:Math.abs(m.days),onInput:function(e){return a.setState({days:e.target.value})}})),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",defaultValue:Number(m.template_id),onChange:function(e){return a.setState({template_id:e.target.value})}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),c.length?c.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})):null)),r.a.createElement("td",null,r.a.createElement("select",{defaultValue:m.period,className:"form-control",onChange:function(e){return a.setState({period:e.target.value})}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),h.map((function(e){return r.a.createElement("option",{value:e},"Every ",e," days")})))),r.a.createElement("td",null,r.a.createElement("div",{className:"checkbox switcher"},r.a.createElement("label",{htmlFor:"toggle-".concat(t,"-").concat("customer"===t?m.customer_id:m.corporate_entity_id)},r.a.createElement("input",{type:"checkbox",id:"toggle-".concat(t,"-").concat("customer"===t?m.customer_id:m.corporate_entity_id),defaultChecked:m.is_enabled,onChange:function(e){e.stopPropagation(),a.setState({is_enabled:!a.state.is_enabled})}}),r.a.createElement("span",null,r.a.createElement("small",null))))),r.a.createElement("td",null,r.a.createElement("button",{title:"Cancel",className:"btn color-blue p-2",onClick:function(e){e.stopPropagation(),a.resetState()}},r.a.createElement("i",{className:"fas fa-remove"}))))):void 0},a.getName=function(e,t){var n=a.props,r=n.companyList,l=n.emailTemplateList,c=n.customerListNames;if(["customer","reccustomer"].includes(t)&&c&&c.length){var o=c.find((function(t){return t.id===e}));return o?o.name:"-"}return["company","reccompany"].includes(t)&&r.length?r.find((function(t){return t.id===e})).name:"email"===t&&l&&l.length?l.find((function(t){return t.id===e})).name:"-"},a.renderRows=function(e,t){var n=a.state,l=n.editableData,c=n.editLine;return"customer"===e||"company"===e?t.map((function(t,n){if(!l||l&&l.id!==t.id){if(n!==c)return r.a.createElement("tr",{onClick:function(){return a.setState({action:"edit",editableData:t,reminderType:t.days<0?"-1":"1",editLine:n,is_enabled:t.is_enabled,selectedCustomer:{name:a.getName(t.customer_id,"customer")}})}},r.a.createElement("td",null,"customer"===e?a.getName(t.customer_id,e):a.getName(t.corporate_entity_id,e)),r.a.createElement("td",null,t.days<0?"before":"after"),r.a.createElement("td",null,t.days&&Math.abs(t.days)),r.a.createElement("td",null,a.getName(t.template_id,"email")),r.a.createElement("td",null,t.period?"Every ".concat(t.period," days"):"-"),r.a.createElement("td",{onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"checkbox switcher"},r.a.createElement("label",{htmlFor:"toggle-".concat(e,"-").concat(t.id)},r.a.createElement("input",{type:"checkbox",id:"toggle-".concat(e,"-").concat(t.id),defaultChecked:t.is_enabled,onChange:function(n){var r,l="receivable-reminder?id=".concat(t.id);D.a.patch(l,(r={},Object(k.a)(r,"customer"===e?"customer_id":"corporate_entity_id","customer"===e?t.customer_id:t.corporate_entity_id),Object(k.a)(r,"is_enabled",n.target.checked),r)).then((function(t){a.props.reloadListing(e),a.resetState(),Object(H.a)("Updated successfully","success")}))}}),r.a.createElement("span",null,r.a.createElement("small",null))))),r.a.createElement("td",{onClick:function(e){return e.stopPropagation()}},r.a.createElement("button",{title:"Delete",className:"btn color-blue p-2",onClick:function(n){n.stopPropagation(),Object(De.c)({variant:"warning",msg:"Are you sure you want to delete this record?",onSave:function(){Object(De.b)(),a.deleteEntry(t.id,e)}})}},r.a.createElement("i",{className:"fa fa-trash-o"}))));a.addNewRow()}return a.addNewRow()})):"email"===e?t.map((function(t,n){return r.a.createElement("tr",{onClick:function(){return a.setState({showEmailModal:!0,editableData:t})}},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.subject),r.a.createElement("td",null,r.a.createElement("div",{className:"emailbody"},Wt()(t.body.trim()))),r.a.createElement("td",null,r.a.createElement("button",{title:"Delete",className:"btn color-blue p-2",onClick:function(n){n.stopPropagation(),Object(De.c)({variant:"warning",msg:"Are you sure you want to delete this record?",onSave:function(){Object(De.b)(),a.deleteEntry(t.id,e)}})}},r.a.createElement("i",{className:"fa fa-trash-o"}))))})):void 0},a.handleAddNewRow=function(e){["customer","reccustomer","company","reccompany"].includes(e)?a.setState({action:"add",selectedCustomer:null}):a.setState({showEmailModal:!0})},a.handlePagination=function(e){return a.setState({currentPage:"next"===e?a.state.currentPage+1:a.state.currentPage-1})},a.submitEntry=function(e,t,n){var r,l="add"===e?"receivable-reminder":"receivable-reminder?id=".concat(t.id),c="add"===e?"post":"patch",o=a.state,s=o.days,i=o.template_id,m=o.reminderType,u=o.is_enabled,d=o.period,p=o.is_recurring,f=o.ar_age_in_days,E=o.frequency_in_days,v=(r={},Object(k.a)(r,["customer","reccustomer"].includes(n)?"customer_id":"corporate_entity_id",a.state[["customer","reccustomer"].includes(n)?"customer_id":"corporate_entity_id"]),Object(k.a)(r,"days",s),Object(k.a)(r,"period",d),Object(k.a)(r,"template_id",i),Object(k.a)(r,"is_enabled",u),Object(k.a)(r,"is_recurring",p),Object(k.a)(r,"ar_age_in_days",f),Object(k.a)(r,"frequency_in_days",E),r);if("add"===e){var h="-1"===m?-1*Number(v.days):Number(v.days);v.days=h}"edit"===e&&(v=Object(_.a)({},t,Object(k.a)({},["customer","reccustomer"].includes(n)?"customer_id":"corporate_entity_id",t[["customer","reccustomer"].includes(n)?"customer_id":"corporate_entity_id"])),p&&(v.is_recurring=!0,v.is_enabled=!0),u&&(v.is_enabled=!0),d&&(v.period=d),f&&(v.ar_age_in_days=f),E&&(v.frequency_in_days=E),a.state[["customer","reccustomer"].includes(n)?"customer_id":"corporate_entity_id"]&&(v[["customer","reccustomer"].includes(n)?"customer_id":"corporate_entity_id"]=a.state[["customer","reccustomer"].includes(n)?"customer_id":"corporate_entity_id"]),i&&(v.template_id=i),v.days=Math.abs(s||t.days)*Number(m)),Xt()(t,v)||D.a[c](l,Object(_.a)({},v)).then((function(t){a.props.reloadListing(n),a.resetState();var r="add"===e?"Added":"Updated";Object(H.a)(r+" successfully","success")}))},a.submitEmailTemplateEntry=function(e,t,n){var r="add"===e?"receivable-reminder-email-template":"receivable-reminder-email-template?id=".concat(n.id),l="add"===e?"post":"patch";D.a[l](r,Object(_.a)({},t)).then((function(e){a.props.reloadListing("email"),a.resetState()}))},a.deleteEntry=function(e,t){var n="email"===t?"receivable-reminder-email-template?id=".concat(e):"receivable-reminder?id=".concat(e);D.a.delete(n).then((function(){Object(H.a)("Deleted successfully","success"),a.props.reloadListing(t)})).catch((function(e){"email"===t&&Object(H.a)("This template is in use","error")}))},a.renderRecurranceTable=function(e,t){var n=a.state.editLine;return t.map((function(t,l){return l===n?a.addNewRecurranceRow():r.a.createElement("tr",{onClick:function(){return a.setState({editableData:t,editLine:l,action:"edit",selectedCustomer:{name:a.getName(t.customer_id,"customer")}})}},r.a.createElement("td",null,"reccustomer"===e?a.getName(t.customer_id,e):a.getName(t.corporate_entity_id,e)),r.a.createElement("td",null,t.ar_age_in_days),r.a.createElement("td",null,t.frequency_in_days),r.a.createElement("td",null,a.getName(t.template_id,"email")),r.a.createElement("td",{onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"checkbox switcher"},r.a.createElement("label",{htmlFor:"toggle-".concat(e,"-").concat(t.id)},r.a.createElement("input",{type:"checkbox",id:"toggle-".concat(e,"-").concat(t.id),defaultChecked:t.is_recurring,onChange:function(n){var r,l="receivable-reminder?id=".concat(t.id);D.a.patch(l,(r={},Object(k.a)(r,"customer"===e?"customer_id":"corporate_entity_id","customer"===e?t.customer_id:t.corporate_entity_id),Object(k.a)(r,"is_recurring",n.target.checked),Object(k.a)(r,"is_enabled",n.target.checked),r)).then((function(t){a.props.reloadListing(e),a.resetState(),Object(H.a)("Updated successfully","success")}))}}),r.a.createElement("span",null,r.a.createElement("small",null))))),r.a.createElement("td",null,r.a.createElement("button",{title:"Delete",className:"btn color-blue p-2",onClick:function(n){n.stopPropagation(),Object(De.c)({variant:"warning",msg:"Are you sure you want to delete this record?",onSave:function(){Object(De.b)(),a.deleteEntry(t.id,e)}})}},r.a.createElement("i",{className:"fa fa-trash-o"}))))}))},a.addNewRecurranceRow=function(){var e=a.props,t=e.type,n=e.companyList,l=e.customerList,c=e.emailTemplateList,o=e.isCustomerListLoading,s=e.searchCustomer,i=a.state,m=i.editableData,u=i.selectedCustomer,d=i.action,p=i.ar_age_in_days,f=i.frequency_in_days,E=i.template_id,v=i.customer_id,h=i.corporate_entity_id,b="customer"===t?l:n;return"add"===d?r.a.createElement("tr",null,r.a.createElement("td",null,"reccustomer"===t?r.a.createElement(Ue.a,{suggestions:Be()(l.map((function(e){return{id:e.customer.id,name:e.customer.name}})),"id"),getSelected:function(e){return e?a.setState({customer_id:e.id,selectedCustomer:e}):a.setState({customer_id:"",selectedCustomer:null})},search:function(e){return s(e)},isLoading:o,defaultValue:u&&u.name}):r.a.createElement("select",{className:"form-control",onChange:function(e){return a.setState(Object(k.a)({},"reccustomer"===t?"customer_id":"corporate_entity_id",e.target.value))}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),b.length?b.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})):null)),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",onChange:function(e){return a.setState({ar_age_in_days:e.target.value})}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),[15,30,60,90].map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"form-control",onInput:function(e){return a.setState({frequency_in_days:e.target.value})}})),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",onChange:function(e){return a.setState({template_id:e.target.value})}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),c.length?c.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})):null)),r.a.createElement("td",null,r.a.createElement("div",{className:"checkbox switcher"},r.a.createElement("label",{htmlFor:"toggle-".concat(t,"-new")},r.a.createElement("input",{type:"checkbox",id:"toggle-".concat(t,"-new"),onChange:function(e){e.stopPropagation(),a.setState({is_recurring:!a.state.is_recurring,is_enabled:!a.state.is_recurring})}}),r.a.createElement("span",null,r.a.createElement("small",null))))),r.a.createElement("td",null,r.a.createElement("button",{disabled:!p||!f||!E||!v&&!h,title:"Save",className:"btn color-blue pull-left p-2",onClick:function(e){e.stopPropagation(),a.submitEntry("add",null,t),a.resetState()}},r.a.createElement("i",{className:"fas fa-save"})),r.a.createElement("span",null,"|"),r.a.createElement("button",{title:"Cancel",className:"btn color-blue p-2",onClick:function(e){e.stopPropagation(),a.resetState()}},r.a.createElement("i",{className:"fas fa-remove"})))):"edit"===d?r.a.createElement(_e.a,{onClickAway:function(e){e.stopPropagation(),a.submitEntry("edit",m,t),a.resetState()}},r.a.createElement("tr",null,r.a.createElement("td",null,"reccustomer"===t?r.a.createElement(Ue.a,{suggestions:Be()(l.map((function(e){return{id:e.customer.id,name:e.customer.name}})),"id"),getSelected:function(e){return e?a.setState({customer_id:e.id,selectedCustomer:e}):a.setState({customer_id:"",selectedCustomer:null})},search:function(e){return s(e)},isLoading:o,defaultValue:u&&u.name}):r.a.createElement("select",{className:"form-control",defaultValue:m["reccustomer"===t?"customer_id":"corporate_entity_id"],onChange:function(e){return a.setState(Object(k.a)({},"reccustomer"===t?"customer_id":"corporate_entity_id",e.target.value))}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),b.length?b.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})):null)),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",defaultValue:m.ar_age_in_days,onChange:function(e){return a.setState({ar_age_in_days:e.target.value})}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),[15,30,60,90].map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("td",null,r.a.createElement("input",{type:"number",defaultValue:m.frequency_in_days,className:"form-control",onInput:function(e){return a.setState({frequency_in_days:e.target.value})}})),r.a.createElement("td",null,r.a.createElement("select",{className:"form-control",defaultValue:m.template_id,onChange:function(e){return a.setState({template_id:e.target.value})}},r.a.createElement("option",{disabled:!0,selected:!0},"Please select"),c.length?c.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})):null)),r.a.createElement("td",null,r.a.createElement("div",{className:"checkbox switcher"},r.a.createElement("label",{htmlFor:"toggle-".concat(t,"-").concat("reccustomer"===t?m.customer_id:m.corporate_entity_id)},r.a.createElement("input",{type:"checkbox",id:"toggle-".concat(t,"-").concat("reccustomer"===t?m.customer_id:m.corporate_entity_id),defaultChecked:m.is_recurring,onChange:function(e){e.stopPropagation(),a.setState({is_recurring:!a.state.is_recurring,is_enabled:!a.state.is_recurring})}}),r.a.createElement("span",null,r.a.createElement("small",null))))),r.a.createElement("td",null,r.a.createElement("button",{title:"Cancel",className:"btn color-blue p-2",onClick:function(e){e.stopPropagation(),a.resetState()}},r.a.createElement("i",{className:"fas fa-remove"}))))):void 0},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.header,n=t.data,l=t.type,c=this.state,o=c.action,s=c.currentPage,i=c.editableData,m=c.showEmailModal,u=["company","reccompany"].includes(l)?n.filter((function(e){return null!==e.corporate_entity_id})):["customer","reccustomer"].includes(l)?n.filter((function(e){return null!==e.customer_id})):n;["reccustomer","reccompany"].includes(l)&&(u=u.filter((function(e){return e.ar_age_in_days}))),["customer","company"].includes(l)&&(u=u.filter((function(e){return null===e.ar_age_in_days})));var d=10>=u.length,p=1===s,f=s===(10<=u.length?Math.ceil(u.length/10):1);return r.a.createElement("div",{className:"clearfix"},i?null:r.a.createElement("button",{className:"btn btn-primary mb-2 mt-3",onClick:function(){return e.handleAddNewRow(l)}},"Add New"),r.a.createElement("table",{className:"custom-table ".concat("email"===l?"email-table":"")},r.a.createElement("thead",null,r.a.createElement("tr",null,a.map((function(e){return r.a.createElement("th",null,e)})))),r.a.createElement("tbody",null,"add"===o?["customer","company","email"].includes(l)?this.addNewRow():this.addNewRecurranceRow():null,u.length||o?["customer","company","email"].includes(l)?this.renderRows(l,this.paginate(u,10,s)):this.renderRecurranceTable(l,this.paginate(u,10,s)):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:a.length,className:"text-center"},"No Entries")))),d?null:r.a.createElement("div",{className:"pull-right mt-3"},r.a.createElement("button",{onClick:function(){return e.handlePagination("prev")},disabled:p,className:"btn btn-primary mr-2 width-94px"},"Previous"),r.a.createElement("button",{onClick:function(){return e.handlePagination("next")},disabled:f,className:"btn btn-primary width-94px"},"Next")),r.a.createElement(Gt,{defaultData:i,mode:i?"edit":"add",show:m,handleModal:this.handleEmailModal,submitEntry:this.submitEmailTemplateEntry}))}}]),t}(r.a.Component);function ea(e){return e.map((function(e){return{Supplier:M()(e,"supplier.name",""),InvoiceNo:M()(e,"invoice_number",""),DueDate:Nt()(M()(e,"due_date","")).format("YYYY/MM/DD"),Recommendation:M()(e,"recommendation",""),InvoiceDate:Nt()(M()(e,"invoice_date","")).format("YYYY/MM/DD"),AmountDue:M()(e,"total_amount_due","")}}))}var ta=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).reloadListing=function(e){["reccustomer","reccompany","company","customer"].includes(e)?a.getCompanyLevelReminder():a.getEmailTemplates()},a.getGlobalReminder=function(){D.a.get("client").then((function(e){a.setState({globalReminder:e.data.result.receivable_rem_enabled})})).catch((function(e){return Object(U.a)(e)}))},a.getCustomerCategory=function(){a.setState({isCustCategoryLoading:!0}),D.a.get("customercategory?per_page=100").then((function(e){a.setState({customerCategoryList:e.data.result.sort((function(e,t){return+t.is_selected-+e.is_selected})),isCustCategoryLoading:!1})})).catch((function(e){return Object(U.a)(e)}))},a.onSubmit=function(){var e=a.state.selectedData,t=e.id?"customercategory?id=".concat(e.id):"customercategory",n=e.id?"patch":"post",r={name:e.name,internal_id:Number(e.internal_id),is_selected:e.is_selected};e.internal_id||delete r.internal_id,D.a[n](t,Object(_.a)({},r)).then((function(){a.setState({line:"",selectedData:null}),a.getCustomerCategory(),localStorage.setItem("refresh_reports",!0)})).catch((function(e){return Object(U.a)(e)}))},a.onDelete=function(e){D.a.delete("customercategory?id=".concat(e)).then((function(){a.getCustomerCategory(),localStorage.setItem("refresh_reports",!0)})).catch((function(e){return Object(U.a)(e)}))},a.renderEditableRow=function(){var e=a.state,t=e.selectedData,n=t.id,l=t.name,c=t.internal_id,o=t.is_selected,s=e.customerCategoryList,i=!n&&s.some((function(e){return e.internal_id===Number(c)}));return r.a.createElement("tr",null,r.a.createElement("td",{className:"text-sm-center"},r.a.createElement("input",{type:"checkbox",className:"md-checkbox",defaultChecked:o,onChange:function(e){return a.setState({selectedData:Object(_.a)({},a.state.selectedData,{is_selected:+e.target.checked})})}})),r.a.createElement("td",null,r.a.createElement("input",{type:"text",onChange:function(e){return a.setState({selectedData:Object(_.a)({},a.state.selectedData,{name:e.target.value,is_selected:+e.target.value})})},className:"form-control",defaultValue:l})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",onInput:function(e){return a.setState({selectedData:Object(_.a)({},a.state.selectedData,{internal_id:e.target.value})})},readOnly:!!n,className:i?"error form-control":"form-control",defaultValue:c})),r.a.createElement("td",{className:"text-sm-center"},r.a.createElement("button",{disabled:!l||i,className:"btn",onClick:a.onSubmit},r.a.createElement("i",{className:"fa fa-save cursor-pointer color-blue"})),"|",r.a.createElement("button",{className:"btn",onClick:function(){return a.setState({line:"",selectedData:null})}},r.a.createElement("i",{className:"fa fa-remove cusor-pointer color-blue"}))))},a.getCustomerNames=function(){D.a.get("customer?per_page=4000").then((function(e){a.setState({customerListNames:e.data.result})})).catch((function(e){return Object(U.a)(e)}))},a.getCompanyNames=function(){D.a.get("payroll/setting?per_page=100").then((function(e){a.setState({companyListing:e.data.result})})).catch((function(e){return Object(U.a)(e)}))},a.getCompanyLevelReminder=function(){D.a.get("receivable-reminder").then((function(e){a.setState({remindersData:M()(e,"data.result",[]).reverse()})})).catch((function(e){return Object(U.a)(e)}))},a.getEmailTemplates=function(){D.a.get("receivable-reminder-email-template").then((function(e){a.setState({emailTemplateData:M()(e,"data.result",[]).reverse()})})).catch((function(e){return Object(U.a)(e)}))},a.setshowExport=function(e){a.setState({showexport:e})},a.toggleGlobalAutoReminder=function(e){D.a.post("/client",{receivable_rem_enabled:e}).then((function(){Object(H.a)("Updated Reminder","success")})).catch((function(e){return Object(U.a)(e)}))},a.searchCustomer=function(e){e&&(a.setState({isCustomerListLoading:!0}),D.a.get("arinvoice/search?customer=".concat(e,"&per_page=100")).then((function(e){a.setState({customerListing:e.data.result,isCustomerListLoading:!1})})).catch((function(e){return Object(U.a)(e)})))},a.handlePagination=function(e){var t=a.state.currPage,n=t;"prev"===e&&(n=1===t?1:t-1),"next"===e&&(n=t+1),a.setState({currPage:n})},a.paginate=function(e,t,a){return e.slice((a-1)*t,a*t)},a.state={showexport:!1,emailTemplateData:[],remindersData:[],companyListing:[],customerListing:[],customerListNames:[],globalReminder:!1,isCustomerListLoading:!1,customerCategoryList:[],line:"",currPage:1,selectedData:null,isCustCategoryLoading:!0},a.debounceMethod=Ve()(a.searchCustomer.bind(Object(p.a)(a)),200),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getCompanyLevelReminder(),this.getEmailTemplates(),this.getCustomerNames(),this.getCompanyNames(),this.getGlobalReminder(),this.getCustomerCategory();var e=this.props.location.hash;e&&document.getElementById(e.replace("#","")).scrollIntoView(!0)}},{key:"componentDidUpdate",value:function(){var e=document.querySelectorAll("input[type=number]");if(e.length)for(var t=["-","+","e"],a=0;a<e.length;a++)e[a].addEventListener("input",(function(){this.value=this.value.replace(/[e\+\-]/gi,"")})),e[a].addEventListener("keydown",(function(e){t.includes(e.key)&&e.preventDefault()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.line,n=t.currPage,l=t.showexport,c=t.remindersData,o=t.globalReminder,s=t.companyListing,i=t.customerListing,m=t.customerListNames,u=t.isCustomerListLoading,d=t.emailTemplateData,p=t.customerCategoryList,f=t.isCustCategoryLoading,E=["Customer","AR Age","Frequency","Email Template","Status","Action"],v=1===n,b=!p.length||p.length<20,g=this.props.location.hash;return r.a.createElement("div",{className:"row",id:"dashboardBody"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"paynewdetsec"},r.a.createElement("div",{className:"float-left",style:{fontSize:"18px",paddingBottom:"15px",float:"left"}},r.a.createElement(h.b,{to:"/settings",title:"Back"},r.a.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true",style:{color:"#ddd",marginRight:"10px"}})),"Receivables Settings"),r.a.createElement("div",{className:"dropdown float-right"},"DEV"===I.a.MODE&&r.a.createElement("span",{className:"btn dropdown-toggle btn-primary",role:"button",id:"","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return e.setshowExport(!0)}},"Export"),r.a.createElement(J.a,{onClickAway:this.setshowExport},r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right payexpdroplist ".concat(l&&"show"),"aria-labelledby":"dropdownMenuLink",id:""},r.a.createElement(Pt.CSVLink,{data:ea([]),filename:"payable_".concat(Nt()().format("MMMM Do YYYY-h:mm:ss-a"),".csv")},"Export CSV"),r.a.createElement("span",{style:{fontSize:12,float:"right",marginRight:"10px",cursor:"pointer"},onClick:function(){return function(e){var t="payeables".concat(Nt()().format("MMMM Do YYYY-h:mm:ss-a"),".xlsx"),a={Sheets:{data:At.utils.json_to_sheet(e)},SheetNames:["data"]},n=At.write(a,{bookType:"xlsx",type:"array"}),r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});It.saveAs(r,t)}(ea([]))}},"Export Excel")))))),"DEV"===I.a.MODE&&r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{style:{fontSize:"18px",marginBottom:"15px"}},"Preferences"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Single payment for multiple invoices"),r.a.createElement("select",{className:"form-control",onChange:function(t){return e.setState({invoiceOption:t.target.value})}},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"1"},"Yes"),r.a.createElement("option",{value:"2"},"No")))))),"DEV"===I.a.MODE&&r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{style:{fontSize:"18px",marginBottom:"15px"}},"Templates"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Single payment for multiple invoices"),r.a.createElement("select",{className:"form-control",onChange:function(t){return e.setState({invoiceOption:t.target.value})}},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"1"},"Yes"),r.a.createElement("option",{value:"2"},"No")))))),"DEV"===I.a.MODE&&r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"titletranshist",style:{fontSize:"18px",marginBottom:"15px"}},"Payments Set-up"),r.a.createElement("form",{action:"",method:"post"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Spend category")),r.a.createElement("select",{className:"form-control"},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:""},"Office supplies"),r.a.createElement("option",{value:""},"Payoll")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Spend amount")),r.a.createElement("select",{className:"form-control"},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:""},"$2M/month"),r.a.createElement("option",{value:""},"$25K/month"),r.a.createElement("option",{value:""},"$25M/month")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",null,r.a.createElement("label",null,"Payment method")),r.a.createElement("select",{className:"form-control"},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:""},"Credit - 5678"),r.a.createElement("option",{value:""},"P card - 2345"),r.a.createElement("option",{value:""},"ACH - 2384")))),r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4"}),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"form-group text-right",style:{marginTop:"30px"}},r.a.createElement("button",{type:"submit",className:"btn subbtn btn-success"},"Update")))))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"col-md-12 mt-4"},r.a.createElement("div",{className:"row"},r.a.createElement("h6",{className:"mr-2 col-md-2"},"Auto Reminders"),r.a.createElement("div",{className:"checkbox switcher",key:o},r.a.createElement("label",{htmlFor:"test"},r.a.createElement("input",{type:"checkbox",defaultChecked:o,id:"test",onChange:function(t){return e.toggleGlobalAutoReminder(t.target.checked)}}),r.a.createElement("span",null,r.a.createElement("small",null)))))),r.a.createElement("div",{className:"divider"}),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#companyreminders"===g&&"0",id:"companyreminders"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Company Level Reminders")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(Qt,{type:"company",data:c,header:["Entity","Type","Days","Email Template","Combine Reminders","Status","Action"],companyList:s,reloadListing:this.reloadListing,emailTemplateList:d}),r.a.createElement("div",{className:"divider mt-3 mb-3 p-0"}),r.a.createElement("h6",null,r.a.createElement("strong",null,"Recurring Reminders:")),r.a.createElement(Qt,{type:"reccompany",data:c,header:["Entity"].concat(Object(X.a)(E.slice(1,6))),companyList:s,reloadListing:this.reloadListing,emailTemplateList:d})))),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#customerreminders"===g&&"0",id:"customerreminders"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Customer Level Reminders")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(Qt,{type:"customer",data:c,header:["Customer","Type","Days","Email Template","Combine Reminders","Status","Action"],customerList:i,reloadListing:this.reloadListing,emailTemplateList:d,searchCustomer:this.searchCustomer,isCustomerListLoading:u,customerListNames:m}),r.a.createElement("div",{className:"divider mt-3 mb-3 p-0"}),r.a.createElement("h6",null,r.a.createElement("strong",null,"Recurring Reminders:")),r.a.createElement(Qt,{type:"reccustomer",data:c,header:E,customerList:i,reloadListing:this.reloadListing,emailTemplateList:d,searchCustomer:this.searchCustomer,isCustomerListLoading:u,customerListNames:m})))),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#emailtemplates"===g&&"0",id:"emailtemplates"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Templates")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(Qt,{type:"email",data:d,header:["Id","Name","Subject","Body","Action"],reloadListing:this.reloadListing}))))),r.a.createElement(qe.a,{className:"col-md-12",defaultActiveKey:"#customercategory"===g&&"0",id:"customercategory"},r.a.createElement(qe.a.Toggle,{className:"border mt-4 px-3 cursour-pointer bg-light-grey",as:He.a.Header,eventKey:"0"},r.a.createElement("h6",{className:"my-0"},"Customer Category")),r.a.createElement(qe.a.Collapse,{className:"py-2",eventKey:"0"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(J.a,{onClickAway:function(){return e.setState({line:"",selectedData:null})}},r.a.createElement("div",{className:"paynewdetsec"},"new"!==a?r.a.createElement("button",{className:"btn btn-primary mb-2 mt-3",onClick:function(t){t.stopPropagation(),e.setState({selectedData:{name:"",internal_id:""},line:"new"})}},"Add New"):null,r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:"paynewdetsectran"},r.a.createElement("tr",null,r.a.createElement("th",{className:"column1 text-sm-center"},"Reports"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Internal Id"),r.a.createElement("th",{className:"text-sm-center"},"Action")),"new"===a?this.renderEditableRow():null,this.paginate(p,20,n).map((function(t,n){return a===n?e.renderEditableRow():r.a.createElement("tr",{onClick:function(){return e.setState({line:n,selectedData:t})},key:t.name},r.a.createElement("td",{className:"text-sm-center"},r.a.createElement("input",{type:"checkbox",className:"md-checkbox",onClick:function(e){return e.stopPropagation()},name:t.id,defaultChecked:t.is_selected,onChange:function(a){a.stopPropagation(),e.setState({selectedData:Object(_.a)({},t,{is_selected:+a.target.checked})},e.onSubmit)}})),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.internal_id),r.a.createElement("td",{className:"text-sm-center"},r.a.createElement("button",{className:"btn",onClick:function(a){a.stopPropagation(),Object(De.c)({variant:"warning",msg:"Are you sure you want to delete this category?",onSave:function(){Object(De.b)(),e.onDelete(t.id)}})}},r.a.createElement("i",{className:"fa fa-trash-o cursor-pointer color-blue"}))))}))),f?r.a.createElement("div",{className:"loader"},"Loading..."):null),r.a.createElement("div",{className:"pull-right mt-3"},r.a.createElement("button",{onClick:function(){return e.handlePagination("prev")},className:"btn btn-primary mr-2 width-94px",disabled:v},"Previous"),r.a.createElement("button",{onClick:function(){return e.handlePagination("next")},className:"btn btn-primary width-94px",disabled:b},"Next"))))))))))))}}]),t}(r.a.Component),aa=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(2),a.e(3),a.e(17)]).then(a.bind(null,769))})),na=function(e){return r.a.createElement(n.Suspense,{fallback:""},e.Child)},ra=function(e){return r.a.createElement(na,{Child:r.a.createElement(aa,e)})};function la(e){return r.a.useEffect((function(){var t=JSON.parse(L.a.getUserData());10==M()(t,"client_id","")&&e.history.push("/signup")}),[]),r.a.createElement("div",{className:"container-fluid bg-light-grey",id:"main-body"},r.a.createElement(ze,e),r.a.createElement("div",{className:"row otherbody",id:"application-wrapper"},r.a.createElement(We,null),r.a.createElement("div",{className:"col pay-rec-wrap mp-0"},r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",component:Ze}),r.a.createElement(v.b,{exact:!0,path:"/dashboard",component:Ze}),r.a.createElement(v.b,{path:"/payables",component:tt}),r.a.createElement(v.b,{path:"/payroll",component:rt}),r.a.createElement(v.b,{path:"/receivables",component:ot}),r.a.createElement(v.b,{exact:!0,path:"/customers",component:ye}),r.a.createElement(v.b,{path:"/customers/:id",component:ye}),r.a.createElement(v.b,{exact:!0,path:"/vendors",component:ra}),r.a.createElement(v.b,{path:"/vendors/:id",component:ra}),r.a.createElement(v.b,{exact:!0,path:"/settings",component:mt}),r.a.createElement(v.b,{exact:!0,path:"/reports",component:Oe}),r.a.createElement(v.b,{exact:!0,path:"/insights",component:Ce}),r.a.createElement(v.b,{path:"/backlog",component:fe}),"DEV"===I.a.MODE&&r.a.createElement(v.b,{path:"/purchase-orders",component:he}),r.a.createElement(v.b,{path:"/settings/profile",component:Ut}),r.a.createElement(v.b,{path:"/settings/company",component:Dt}),r.a.createElement(v.b,{path:"/settings/payables",component:Mt}),r.a.createElement(v.b,{path:"/settings/receivables",component:ta}),r.a.createElement(v.b,{path:"/settings/payroll/entity",component:Ae}),r.a.createElement(v.b,{path:"/settings/payroll/pay_schedule",component:Re}),r.a.createElement(v.b,{path:"/settings/payroll/funding_date",component:Te}),r.a.createElement(v.b,{path:"/settings/payroll/currency",component:ke}),r.a.createElement(v.b,{path:"/settings/data",component:vt}),r.a.createElement(v.b,{path:"**",component:function(){return r.a.createElement("div",null,"not found")}})))))}var ca=a(154),oa=a(79),sa=function(e){var t=e.component,a=Object(E.a)(e,["component"]);return console.log("rest: ",a),r.a.createElement(v.b,Object.assign({render:function(e){return L.a.get()?r.a.createElement(t,e):r.a.createElement(v.a,{to:{pathname:"/login",state:{from:e.location}}})}},a))},ia=!1,ma=!1,ua=function(e){function t(e){var a;for(var n in Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).events=["load","mousemove","mousedown","click","scroll","keypress"],a.warn=a.warn.bind(Object(p.a)(a)),a.logout=a.logout.bind(Object(p.a)(a)),a.resetTimeout=a.resetTimeout.bind(Object(p.a)(a)),a.storageChange=a.storageChange.bind(Object(p.a)(a)),window.addEventListener("storage",a.storageChange,!1),a.events)window.addEventListener(a.events[n],a.resetTimeout);return a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){L.a.get()&&this.setTimeout()}},{key:"storageChange",value:function(e){if("REFRESHED"===e.key&&window.location.reload(!0),"loggedout"===e.key&&(window.sessionStorage.setItem("oldUrl",window.location.href),window.sessionStorage.setItem("oldUser",e.newValue),"/login"!==window.location.pathname&&window.open("/login","_self")),"loggedin"===e.key)if(e.newValue===window.sessionStorage.getItem("oldUser")){var t=window.sessionStorage.getItem("oldUrl");t&&window.open(t,"_self")}else window.close()}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.warnTimeout&&clearTimeout(this.warnTimeout),this.logoutTimeout&&clearTimeout(this.logoutTimeout)}))},{key:"setTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if(L.a.getExpiredAt()){var e="PROD"===I.a.MODE?9e5:24e4,t=L.a.getExpiredAt()-Math.round((new Date).getTime())-e;this.warnTimeout=setTimeout(this.warn,t);var a=L.a.getExpiredAt()-Math.round((new Date).getTime());this.logoutTimeout=setTimeout(this.logout,a)}}))},{key:"resetTimeout",value:function(){var e=this;if(ia){if(ia=!1,ma)return;ma=!0,D.a.get("token").then((function(t){ma=!1,L.a.set(t.data.token,t.data["expires at"]),e.clearTimeout(),e.setTimeout()})).catch((function(e){Object(U.b)()}))}else this.clearTimeout(),this.setTimeout()}},{key:"warn",value:function(){ia=!0}},{key:"logout",value:function(){document.hasFocus()&&Object(U.b)()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"destroy",value:function(){for(var e in this.clearTimeout(),this.events)window.removeEventListener(this.events[e],this.resetTimeout)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement(De.a,null),r.a.createElement(ca.a,null),r.a.createElement(oa.a,null),r.a.createElement(h.a,null,r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/login",component:x}),r.a.createElement(v.b,{exact:!0,path:"/signup",component:ce}),r.a.createElement(v.b,{exact:!0,path:"/forgot-password",component:ie}),r.a.createElement(v.b,{exact:!0,path:"/reset-password",component:ue}),r.a.createElement(sa,{path:"/",component:la}))))}}]),t}(n.Component),da=Object(o.b)((function(){return{}}),{})(ua);a(447),a(448),a(449),a(450),a(451),a(452),a(453),a(454),a(455);"PROD"===I.a.MODE&&(console.log=console.warn=console.error=function(){}),s.a.configure({autoClose:3e3,draggable:!1}),c.a.render(r.a.createElement(o.a,{store:y.a},r.a.createElement(da,null)),document.getElementById("root"))},47:function(e,t,a){e.exports=a.p+"static/media/logo.283ae950.jpg"},51:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d!$%@#\xa3\u20ac*?&]{8,}$/,r=/^([a-zA-Z0-9_+\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/},58:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return m})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a(0),r=a.n(n);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e&&0!=e)return"";var a=e%1!=0,n=a?Number(e).toFixed(1):Math.round(e);return t&&(n=Math.round(n)),n=Number.isNaN(n)?0:n,Number(n).toLocaleString("en")}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e||0===e?r.a.createElement("span",null,m(Math.round(e),!0,!1)):""}function o(e){return Math.abs(e)>99999?l(Math.abs(Math.sign(e)*(Math.abs(e)/1e3)))+"K":l(Math.abs(Math.sign(e)*Math.abs(e)))}function s(e){return Math.abs(e)>999999?l((Math.sign(e)*(Math.abs(e)/1e6)).toFixed(1),!1)+"M":l(Math.sign(e)*Math.abs(e),!1)}function i(e){return Math.abs(e)>999999999?l((Math.sign(e)*(Math.abs(e)/1e9)).toFixed(1),!1)+"B":l(Math.sign(e)*Math.abs(e),!1)}function m(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Number(e);if(Number.isNaN(n)||!e&&0!==e||null===e)return"";var r=n<0;n=Number(Math.abs(e));var c=((n=a?n>999999999?i(n):n>999999?s(n):n>99999?o(n):l(Math.round(n)):l(n))||0===n)&&t?r?"-$".concat(n):"$".concat(n):n;return c}function u(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}var d=function(e){var t=e<0,a=Math.round(Math.abs(e));return t?"-$".concat(a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):"$".concat(a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))},p=function(e){return e?Number.isInteger(Number(e))?e:Number(Number(e).toFixed(2)):0}},6:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return b}));var n=a(44),r=a.n(n),l=a(4),c=a.n(l),o=a(33),s=a(19),i=a(145),m=a(11),u=s.a.API_URL,d=function(e){return e.split("&").filter((function(e){return e})).map((function(e){return e.split("=")})).map((function(e){return["from_date","to_date"].includes(e[1])?[e[0],Object(i.c)(e[1])]:e})).map((function(e){return e.join("=")})).join("&")},p=function(){var e=o.a.getState().auth;return c()(e,"token","")||"eyJhbGciOiJIUzUxMiIsImlhdCI6MTU3MzkwMjI0MCwiZXhwIjoxNTczOTAyODQwfQ.eyJpZCI6MX0.OHHQTsLuK7Cy9dsklnp-JumDoJVdBrCUh6j21gr0YWgz3uLkhpmamAKS6vntIh9MTraXcYlItqA_NUFcc4nXMw"},f=function(e){return e.Authorization=p(),e["Content-Type"]="application/json",e},E=r.a.create({baseURL:u,transformRequest:[function(e,t){return t=f(t),JSON.stringify(e)}]});E.interceptors.request.use((function(e){return e.url=d(e.url),c()(e,"auth","")||(e.auth={username:m.a.get(),password:Math.random().toString(20)}),console.log("config: ",e),e}),(function(e){return Promise.reject(e)})),E.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var v=r.a.create({baseURL:u,transformRequest:[function(e,t){return t=f(t),JSON.stringify(e)}]});v.interceptors.request.use((function(e){return e.url=d(e.url),c()(e,"auth","")||(e.auth={username:m.a.get(),password:Math.random().toString(20)}),console.log("config: ",e),e}),(function(e){return Promise.reject(e)}));var h="";v.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;try{"DEV"===s.a.MODE&&console.log("instanceWithRetry request",JSON.stringify(t))}catch(a){console.log("instanceWithRetry err",a)}return c()(e,"response.status","")?Promise.reject(e):function(e){return h===e.url?null:(h=e.url,new Promise((function(t,a){t(v(e))})))}(t)}));var b=r.a.create({baseURL:u,transformRequest:[function(e,t){return t.Authorization=p(),t["Content-Type"]="multipart/form-data",e}]});b.interceptors.request.use((function(e){return e.url=d(e.url),c()(e,"auth","")||(e.auth={username:m.a.get(),password:Math.random().toString(20)}),console.log("config: ",e),e}),(function(e){return Promise.reject(e)}))},69:function(e,t,a){"use strict";var n=a(14),r=a(15),l=a(17),c=a(16),o=a(18),s=a(0),i=a.n(s),m=a(5),u=a.n(m),d=a(109),p=a.n(d),f=a(39),E=(a(402),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).onChange=function(e){var t=e.currentTarget.value;a.props.search(t),a.setState({activeSuggestion:0,showSuggestions:!0,hide:!1,typing:!0,userInput:e.currentTarget.value})},a.onClick=function(e,t,n){a.setState({activeSuggestion:n,showSuggestions:!1,typing:!1,hide:!0,userInput:""}),a.props.getSelected(t)},a.onDelete=function(){a.setState({activeSuggestion:0,showSuggestions:!1,typing:!1,hide:!0,userInput:""}),a.props.getSelected(null)},a.onKeyDown=function(e){var t=a.state,n=t.activeSuggestion,r=t.filteredSuggestions,l=a.props,c=l.defaultValue,o=l.getSelected;13===e.keyCode?(e.preventDefault(),a.setState({userInput:"",activeSuggestion:n||0,showSuggestions:!1}),o(r[n||0])):38===e.keyCode?0===n?a.setState({activeSuggestion:n},(function(){return a.scrollList(n)})):a.setState({activeSuggestion:n-1},(function(){return a.scrollList(n-1)})):40===e.keyCode?n+1===r.length||1===r.length?a.setState({activeSuggestion:n},(function(){return a.scrollList(n)})):a.setState({activeSuggestion:n+1},(function(){return a.scrollList(n+1)})):8===e.keyCode&&a.setState({userInput:c},(function(){return o(null)}))},a.scrollList=function(e){if(document.querySelector(".suggestion-active")){var t=document.querySelector(".suggestions"),a=document.querySelector(".suggestion-active").clientHeight,n=t.scrollTop,r=n+t.clientHeight,l=a*e;(l<n||l+a>r)&&(t.scrollTop=l)}},a.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:"",hide:!1,typing:!1,firstTimeFetch:!1},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultValue,a=e.search;this.setState({filteredSuggestions:this.props.suggestions.length?this.props.suggestions:[]}),t&&(a(t),this.setState({firstTimeFetch:!0,userInput:t}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.suggestions.length?e.suggestions:[];this.state.firstTimeFetch&&a[0]?this.setState({firstTimeFetch:!1,filteredSuggestions:[]},(function(){return t.props.getSelected(a[0])})):this.setState({filteredSuggestions:a})}},{key:"render",value:function(){var e,t=this,a=this.onChange,n=this.onClick,r=this.onKeyDown,l=this.props,c=l.isLoading,o=l.placeholder,s=l.defaultValue,m=l.inputClassName,d=l.inputWrapperClassName,E=this.state,v=E.activeSuggestion,h=E.filteredSuggestions,b=E.firstTimeFetch,g=E.showSuggestions,y=E.userInput,N=(E.typing,E.hide);return c&&!b?e=i.a.createElement("div",{className:"no-suggestions"},i.a.createElement("em",null,"Loading....")):g&&y&&(h.length?e=i.a.createElement("ul",{className:u()("suggestions",{hide:this.state.hide})},h.filter((function(e){return e.name})).map((function(e,t){var a=u()({"suggestion-active":t===v},[e.type]);return i.a.createElement("li",{className:a,key:e.name+t,onClick:function(a){return n(a,e,t)}},p()(e.name))}))):!y||c||h.length||(e=i.a.createElement("div",{className:"no-suggestions"},i.a.createElement("em",null,"No Data")))),i.a.createElement(f.a,{onClickAway:function(){return t.setState({showSuggestions:!1,hide:!0})}},i.a.createElement("div",{id:"search-autocomplete",className:u()("autocomplete inputWithIcon",d)},i.a.createElement("input",{type:"text",onChange:a,onFocus:function(){return t.setState({hide:!1,showSuggestions:!0})},onKeyDown:r,value:s||y,placeholder:o||"",className:u()("inputWithIconInput form-control","".concat(!N&&y?"focused-suggestion":""),m)}),s&&!b?i.a.createElement("i",{onClick:this.onDelete,className:"fa fa-remove cross","aria-hidden":"true"}):i.a.createElement("i",{className:"fa fa-search search","aria-hidden":"true"}),e))}}]),t}(s.Component));t.a=E},76:function(e,t,a){"use strict";t.a=function(e){return e.condition?e.children:null}},79:function(e,t,a){"use strict";var n=a(76),r=a(22),l=a(0),c=a.n(l),o=a(33),s=a(231),i=a(12),m=a(14),u=a(15),d=a(17),p=a(16),f=a(18),E=a(160);var v=function(e){var t=e.docUrl,a=e.width,n=void 0===a?"":a;return c.a.createElement("div",{style:{height:"100%",width:"100%",overflow:"auto"}},c.a.createElement("img",{src:t,alt:"",style:{objectFit:"scale-down",overflow:"auto"},className:"".concat(n)}))},h=function(e){var t=e.docUrl,a=e.isbase64;return c.a.createElement("div",null,a?c.a.createElement("embed",{className:"h-100 w-100 minht-300 holds-the-iframe",src:"".concat(t),alt:"loading"}):c.a.createElement("embed",{className:"h-100 w-100 minht-300 holds-the-iframe",src:"https://drive.google.com/viewerng/\n          viewer?embedded=true&url=".concat(t),alt:"loading"}))},b=function(e){var t=e.docUrl;return c.a.createElement("embed",{className:"holds-the-iframe h-100 w-100 minht-300",src:"https://view.officeapps.live.com/op/embed.aspx?src=".concat(t)})},g=function(e){var t=e.docUrl;return c.a.createElement("embed",{className:"holds-the-iframe h-100 w-100 minht-300",src:"https://docs.google.com/gview?url=".concat(t,"&embedded=true")})},y=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.docUrl;e.onClose,e.name;return function(e){var t=e.docUrl,a=e.width,n=e.isbase64;switch(e.ext||Object(E.b)(t)){case"jpg":case"jpeg":case"png":return c.a.createElement(v,{docUrl:t,width:a});case"pdf":return c.a.createElement(h,{docUrl:t,width:a,isbase64:n});case"ppt":case"pptx":return c.a.createElement(b,{docUrl:t,width:a});case"doc":case"docx":case"txt":case"text":case"rtf":return c.a.createElement(g,{docUrl:t,width:a});default:return null}}({docUrl:t,isbase64:e.isbase64,ext:e.ext})}}]),t}(l.Component);a.d(t,"c",(function(){return N})),a.d(t,"b",(function(){return O}));var N=function(e){o.a.dispatch({type:r.a.PREVIEW_DOCUMENT,payload:e})},w=function(){o.a.dispatch({type:r.a.RESET_PREVIEW_DOCUMENT})},O=function(e,t){e&&"pdf"===t?window.open("","_blank").document.write("<iframe width='100%' height='100%' src='data:application/pdf;base64, "+encodeURI(e)+"'></iframe>"):window.open(e,"_blank")};t.a=Object(i.b)((function(e){return{preview:e.preview}}),null)((function(e){var t=e.preview,a=t.show,r=void 0!==a&&a,l=t.type,o=void 0===l?"":l,i=t.data,m=void 0===i?"":i,u=t.name,d=void 0===u?null:u,p=t.isbase64,f=void 0!==p&&p,E=t.ext,v=void 0===E?null:E;return c.a.createElement("div",null,c.a.createElement(s.a,{show:r,size:"lg",backdrop:"static",className:"mt-4",onHide:w},c.a.createElement(s.a.Header,{closeButton:!0},c.a.createElement("div",{className:"w-100"},c.a.createElement("strong",null,d),c.a.createElement("i",{onClick:function(){O(m,"pdf")},className:"fas fa-expand pull-right cursour-pointer mt-1 mr-2",title:"expand",style:{fontSize:16}}))),c.a.createElement(s.a.Body,null,c.a.createElement(n.a,{condition:"doc"===o},c.a.createElement(y,{docUrl:"data:application/pdf;base64,".concat(m),name:d,ext:v,isbase64:f,onClose:w})))))}))},86:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(14),r=a(15),l=a(17),c=a(16),o=a(18),s=a(39),i=a(4),m=a.n(i),u=a(0),d=a.n(u),p=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={editmode:!1,value:m()(a.props.value),showpencil:!1},a.setEditMode=function(e){a.setState({editmode:e,showpencil:!1});var t=a.state.value;t!==a.props.value&&a.props.updateValue(t)},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({value:this.props.value})}},{key:"componentWillReceiveProps",value:function(e){this.state.value!==e.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this,t=this.props.iscellcomponent,a=void 0!==t&&t,n=this.state,r=n.editmode,l=n.value,c=n.showpencil;return r?d.a.createElement(s.a,{onClickAway:this.setEditMode},d.a.createElement("form",{className:"mr-2",onSubmit:function(){return e.setEditMode(!1)}},d.a.createElement("input",{id:"amount-editor",type:"text",onChange:function(t){e.setState({value:m()(t,"target.value","")})},onKeyDown:function(t){"Tab"===t.key&&(t.preventDefault(),e.setEditMode(!1))},onBlur:function(){return e.setEditMode(!1)},value:l}))):d.a.createElement("div",{className:"mr-2",onClick:function(t){t.stopPropagation(),e.setState({editmode:!0},(function(){document.getElementById("amount-editor").focus()}))},onMouseEnter:function(){e.setState({showpencil:!0})},onMouseLeave:function(){e.setState({showpencil:!1})}},l||"-",!a&&c&&d.a.createElement("span",{className:"ml-3"},d.a.createElement("i",{className:"fa fa-pencil-alt"})))}}]),t}(d.a.Component)}},[[263,6,7]]]);
//# sourceMappingURL=main.f8e93cc6.chunk.js.map